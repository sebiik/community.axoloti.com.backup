<patch-1.0 appVersion="1.0.12">
   <comment type="patch/comment" x="3220" y="0" text="midi routing to interface"/>
   <comment type="patch/comment" x="3388" y="0" text="launch control xl axo to launchpad axo"/>
   <comment type="patch/comment" x="3640" y="0" text="launchpad axo sequences  to mininova"/>
   <comment type="patch/comment" x="1024" y="14" text="launch control xl"/>
   <patchobj type="patch/object" uuid="71365dbe-81bf-4f43-a294-06fda784ff6a" name="midithru_1" x="3220" y="14">
      <params/>
      <attribs>
         <combo attributeName="Ainput" selection="usb host port 1"/>
         <combo attributeName="Aoutput" selection="usb host port 2"/>
         <combo attributeName="Binput" selection="usb host port 2"/>
         <combo attributeName="Boutput" selection="usb host port 1"/>
         <combo attributeName="Cinput" selection="usb host port 3"/>
         <combo attributeName="Dinput" selection="usb host port 4"/>
         <combo attributeName="Einput" selection="din"/>
         <combo attributeName="Zoutput" selection="din"/>
      </attribs>
      <object id="patch/object" uuid="71365dbe-81bf-4f43-a294-06fda784ff6a">
         <sDescription>sends 
a to a
b to b
c, d and e to a and b</sDescription>
         <author>Mark Harris</author>
         <license>GPL</license>
         <inlets/>
         <outlets/>
         <displays/>
         <params/>
         <attribs>
            <combo name="Ainput">
               <MenuEntries>
                  <string>omni</string>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>true</string>
                  <string>dev == MIDI_DEVICE_DIN &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 2</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 3</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 4</string>
                  <string>dev == MIDI_DEVICE_INTERNAL &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_INTERNAL &amp;&amp; port == 2</string>
                  <string>dev == MIDI_DEVICE_USB_DEVICE &amp;&amp; port == 1</string>
               </CEntries>
            </combo>
            <combo name="Aoutput">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <combo name="Binput">
               <MenuEntries>
                  <string>omni</string>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>true</string>
                  <string>dev == MIDI_DEVICE_DIN &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 2</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 3</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 4</string>
                  <string>dev == MIDI_DEVICE_INTERNAL &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_INTERNAL &amp;&amp; port == 2</string>
                  <string>dev == MIDI_DEVICE_USB_DEVICE &amp;&amp; port == 1</string>
               </CEntries>
            </combo>
            <combo name="Boutput">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <combo name="Cinput">
               <MenuEntries>
                  <string>omni</string>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>true</string>
                  <string>dev == MIDI_DEVICE_DIN &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 2</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 3</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 4</string>
                  <string>dev == MIDI_DEVICE_INTERNAL &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_INTERNAL &amp;&amp; port == 2</string>
                  <string>dev == MIDI_DEVICE_USB_DEVICE &amp;&amp; port == 1</string>
               </CEntries>
            </combo>
            <combo name="Dinput">
               <MenuEntries>
                  <string>omni</string>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>true</string>
                  <string>dev == MIDI_DEVICE_DIN &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 2</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 3</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 4</string>
                  <string>dev == MIDI_DEVICE_INTERNAL &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_INTERNAL &amp;&amp; port == 2</string>
                  <string>dev == MIDI_DEVICE_USB_DEVICE &amp;&amp; port == 1</string>
               </CEntries>
            </combo>
            <combo name="Einput">
               <MenuEntries>
                  <string>omni</string>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>true</string>
                  <string>dev == MIDI_DEVICE_DIN &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 2</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 3</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 4</string>
                  <string>dev == MIDI_DEVICE_INTERNAL &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_INTERNAL &amp;&amp; port == 2</string>
                  <string>dev == MIDI_DEVICE_USB_DEVICE &amp;&amp; port == 1</string>
               </CEntries>
            </combo>
            <combo name="Zoutput">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
         </attribs>
         <includes/>
         <code.midihandler><![CDATA[if((attr_Ainput)||(attr_Dinput)) {
        uint8_t status_type = status & 0xF0;
            if ((status_type == MIDI_CONTROL_CHANGE) ||
                (status_type == MIDI_NOTE_OFF) ||
                (status_type == MIDI_NOTE_ON) ||
                (status_type == MIDI_POLY_PRESSURE) ||
                (status_type == MIDI_PITCH_BEND)) {
                    MidiSend3((midi_device_t) attr_Aoutput,status,data1,data2);
            } else if ( (status_type == MIDI_PROGRAM_CHANGE) ||
                        (status_type == MIDI_CHANNEL_PRESSURE)) {
                MidiSend2((midi_device_t) attr_Aoutput,status,data1);
            }
        }

if((attr_Binput)||(attr_Cinput)) {
        uint8_t status_type = status & 0xF0;
            if ((status_type == MIDI_CONTROL_CHANGE) ||
                (status_type == MIDI_NOTE_OFF) ||
                (status_type == MIDI_NOTE_ON) ||
                (status_type == MIDI_POLY_PRESSURE) ||
                (status_type == MIDI_PITCH_BEND)) {
                    MidiSend3((midi_device_t) attr_Boutput,status,data1,data2);
            } else if ( (status_type == MIDI_PROGRAM_CHANGE) ||
                        (status_type == MIDI_CHANNEL_PRESSURE)) {
                MidiSend2((midi_device_t) attr_Boutput,status,data1);
            }
        }



if(attr_Dinput) {
        uint8_t status_type = status & 0xF0;
            if ((status_type == MIDI_CONTROL_CHANGE) ||
                (status_type == MIDI_NOTE_OFF) ||
                (status_type == MIDI_NOTE_ON) ||
                (status_type == MIDI_POLY_PRESSURE) ||
                (status_type == MIDI_PITCH_BEND)) {
                    MidiSend3((midi_device_t) attr_Zoutput,status_type+4,data1,data2);
            } else if ( (status_type == MIDI_PROGRAM_CHANGE) ||
                        (status_type == MIDI_CHANNEL_PRESSURE)) {
                MidiSend2((midi_device_t) attr_Zoutput,status_type+4,data1);
            }
        }]]></code.midihandler>
      </object>
   </patchobj>
   <obj type="tb/midi/utils/midithru" uuid="b3868bd5-625c-4482-9948-a34e59fe2a21" name="midithru_2" x="3388" y="14">
      <params/>
      <attribs>
         <combo attributeName="input" selection="usb host port 1"/>
         <combo attributeName="output" selection="usb host port 3"/>
         <combo attributeName="led" selection="off"/>
      </attribs>
   </obj>
   <obj type="tb/midi/utils/midithru" uuid="b3868bd5-625c-4482-9948-a34e59fe2a21" name="midithru_3" x="3640" y="14">
      <params/>
      <attribs>
         <combo attributeName="input" selection="usb host port 2"/>
         <combo attributeName="output" selection="din"/>
         <combo attributeName="led" selection="off"/>
      </attribs>
   </obj>
   <comment type="patch/comment" x="406" y="28" text="mpd knob for internal tempo control"/>
   <comment type="patch/comment" x="1022" y="28" text="play button and midi sync button"/>
   <comment type="patch/comment" x="1456" y="28" text="internal clock"/>
   <comment type="patch/comment" x="1596" y="28" text="clock"/>
   <obj type="const/i" uuid="e202f44b2df17ae0b3e663b98ea6b14c8ff00408" name="i_13" x="1778" y="28">
      <params/>
      <attribs>
         <spinner attributeName="value" value="-64"/>
      </attribs>
   </obj>
   <comment type="patch/comment" x="1876" y="28" text="clock out to other axos"/>
   <comment type="patch/comment" x="2674" y="28" text="midi sync mechanism - starts playback 1 bar after external clock started (for clock multiplyers)"/>
   <obj type="midi/in/cc" uuid="6096d217701cbdf251a9ab6ba029af78c5722a56" name="cc_1" x="406" y="42">
      <params/>
      <attribs>
         <spinner attributeName="cc" value="79"/>
         <spinner attributeName="default" value="0"/>
      </attribs>
   </obj>
   <obj type="rbrt/data/tablestore" uuid="6fb9cc1d-81ff-417e-9e72-be25d747abb1" name="tablestore_4" x="490" y="42">
      <params/>
      <attribs>
         <objref attributeName="table" obj="preset"/>
         <spinner attributeName="offset" value="131070"/>
      </attribs>
   </obj>
   <patchobj type="patch/object" uuid="7dada2a8-edbc-445c-8031-dab0da110669" name="map_1" x="616" y="42">
      <params>
         <frac32.u.map name="a" value="8.0"/>
         <frac32.u.map name="b" value="46.0"/>
      </params>
      <attribs/>
      <object id="patch/object" uuid="7dada2a8-edbc-445c-8031-dab0da110669">
         <sDescription>Maps 0..64 to a..b</sDescription>
         <author>Johannes Elliesen</author>
         <license>BSD</license>
         <inlets>
            <frac32.positive name="c" description="control"/>
         </inlets>
         <outlets>
            <frac32 name="o" description="output"/>
         </outlets>
         <displays/>
         <params>
            <frac32.u.map name="a"/>
            <frac32.u.map name="b"/>
         </params>
         <attribs/>
         <includes/>
         <code.krate><![CDATA[{
      int64_t a = (int64_t)param_b * inlet_c;
      a += (int64_t)param_a * ((128<<20)-inlet_c);
      outlet_o= a>>27;
   }]]></code.krate>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="54915728-2133-4a5d-9879-466b5dedf37f" name="launchcontrol_1" x="1022" y="42">
      <params/>
      <attribs>
         <spinner attributeName="channel" value="9"/>
      </attribs>
      <object id="patch/object" uuid="54915728-2133-4a5d-9879-466b5dedf37f">
         <sDescription>outputs the state of the top-row buttons of a &apos;novation launchpad&apos;.
DOES NOT work with the &apos;LP mark 1&apos;.</sDescription>
         <author>Robert Schirmer</author>
         <license>BSD</license>
         <helpPatch>launchpad.axh</helpPatch>
         <inlets/>
         <outlets>
            <bool32 name="t0"/>
            <bool32 name="t2"/>
            <bool32 name="mpd"/>
            <bool32 name="mpd2"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="9"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[uint8_t cc;
uint8_t ccb;

uint8_t ccc;]]></code.declaration>
         <code.krate><![CDATA[outlet_t0 = cc;
outlet_t2 = ccb;
outlet_mpd2=ccc;
ccc=0;]]></code.krate>
         <code.midihandler><![CDATA[if (status == (8) + MIDI_CONTROL_CHANGE){
	if (data1==104) {cc = data2;}
	else if (data1==106) {ccb = data2;}
}

else if (status == (9) + MIDI_CONTROL_CHANGE){
	if (data1==117) {ccc = data2;}
}]]></code.midihandler>
      </object>
   </patchobj>
   <obj type="logic/toggle" uuid="f42f0d3aab552c17bc78b9e65f85dc24f977503d" name="toggle_4" x="1274" y="42">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/inv" uuid="2bd44b865d3b63ff9b80862242bf5be779e3ad5" name="inv_6" x="1372" y="42">
      <params/>
      <attribs/>
   </obj>
   <patchobj type="patch/object" uuid="e2e8431d-b242-4a32-9953-7be684c3f35d" name="clock_1" x="1456" y="42">
      <params/>
      <attribs/>
      <object id="patch/object" uuid="e2e8431d-b242-4a32-9953-7be684c3f35d">
         <sDescription>Midi clock master, als outputs Midi clock, start, stop, and continue messages. Sends to midi/in/* objects only.</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <inlets>
            <bool32 name="run" description="Run"/>
            <bool32.rising name="rst" description="Reset"/>
            <frac32.bipolar name="bpm"/>
         </inlets>
         <outlets>
            <bool32 name="active" description="Song is playing"/>
            <int32 name="pos4ppq" description="Position in 4 counts per quarter"/>
            <int32 name="pos24ppq" description="Position in 24 counts per quarter"/>
         </outlets>
         <displays/>
         <params/>
         <attribs/>
         <includes/>
         <code.declaration><![CDATA[bool _active;
int32_t _posfrac;
int32_t _pos24ppq;
bool rstp;]]></code.declaration>
         <code.init><![CDATA[_active = 0;
_posfrac = 0;
_pos24ppq = 0;
rstp = 0;]]></code.init>
         <code.krate><![CDATA[if (inlet_rst & !rstp){
   rstp = 1;
   _posfrac = 0;
   _pos24ppq = 0;
} else if (!inlet_rst){
   rstp = 0;
}
if (inlet_run && !_active) {
  _active = 1;
  if (_pos24ppq)     PatchMidiInHandler(MIDI_DEVICE_INTERNAL, 0,MIDI_START,0,0);
  else     PatchMidiInHandler(MIDI_DEVICE_INTERNAL, 0,MIDI_CONTINUE,0,0);
} else if (!inlet_run && _active){
  _active = 0;
  PatchMidiInHandler(MIDI_DEVICE_INTERNAL, 0,MIDI_STOP,0,0);
}if (_active) {
  _posfrac += inlet_bpm;
  if (_posfrac & 1<<31) {
    _posfrac &= (1<<31)-1;
    _pos24ppq++;
    PatchMidiInHandler(MIDI_DEVICE_INTERNAL, 0,MIDI_TIMING_CLOCK,0,0);
  }
}
outlet_pos4ppq = _pos24ppq/6;
outlet_pos24ppq = _pos24ppq;]]></code.krate>
      </object>
   </patchobj>
   <obj type="midi/in/clock" uuid="f1aa3a79d6de9bd6d38dc64c9d4bb5c9de4f4198" name="clock_2" x="1596" y="42">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/change" uuid="96e39ae624c3f3c952cec4a95e1986ee0104f718" name="change_1" x="1680" y="42">
      <params/>
      <attribs/>
   </obj>
   <patchobj type="patch/object" uuid="07b96263-893f-476c-953a-e589e6a19289" name="note_20" x="1876" y="42">
      <params/>
      <attribs>
         <combo attributeName="device" selection="usb host port 2"/>
         <combo attributeName="Bdevice" selection="usb host port 1"/>
         <spinner attributeName="channel" value="15"/>
      </attribs>
      <object id="patch/object" uuid="07b96263-893f-476c-953a-e589e6a19289">
         <sDescription>Midi note output</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_out.axh</helpPatch>
         <inlets>
            <frac32.bipolar name="note" description="note (-64..63)"/>
            <frac32.positive name="velo" description="velocity"/>
            <bool32.rising name="trig" description="trigger"/>
         </inlets>
         <outlets/>
         <displays/>
         <params/>
         <attribs>
            <combo name="device">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <combo name="Bdevice">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int ntrig;
int lastnote;]]></code.declaration>
         <code.init><![CDATA[ntrig=0;]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig>0) && !ntrig) {
lastnote = (64+(inlet_note>>21))&0x7F;
MidiSend3((midi_device_t) attr_device, MIDI_NOTE_ON + (attr_channel-1),lastnote,inlet_velo>>20);  
MidiSend3((midi_device_t) attr_Bdevice, MIDI_NOTE_ON + (attr_channel-1),lastnote,inlet_velo>>20);  
ntrig=1;
}
if (!(inlet_trig>0) && ntrig) {
	MidiSend3((midi_device_t) attr_device, MIDI_NOTE_OFF + (attr_channel-1),lastnote,__USAT(inlet_velo>>20,7)); 
	MidiSend3((midi_device_t) attr_Bdevice, MIDI_NOTE_OFF + (attr_channel-1),lastnote,__USAT(inlet_velo>>20,7)); 
	ntrig=0;}]]></code.krate>
      </object>
   </patchobj>
   <obj type="drj/seq/clk_mul" uuid="1413af5343f97123abeeb627811120af4b3a4793" name="clk_mul_5" x="2184" y="42">
      <params>
         <int32 name="clockmul" value="1"/>
      </params>
      <attribs/>
   </obj>
   <obj type="drj/seq/clk_mul" uuid="1413af5343f97123abeeb627811120af4b3a4793" name="clk_mul_4" x="2296" y="42">
      <params>
         <int32 name="clockmul" value="2"/>
      </params>
      <attribs/>
   </obj>
   <obj type="drj/seq/clk_mul" uuid="1413af5343f97123abeeb627811120af4b3a4793" name="clk_mul_1" x="2408" y="42">
      <params>
         <int32 name="clockmul" value="8"/>
      </params>
      <attribs/>
   </obj>
   <obj type="drj/seq/clk_mul" uuid="1413af5343f97123abeeb627811120af4b3a4793" name="clk_mul_2" x="2534" y="42">
      <params>
         <int32 name="clockmul" value="16"/>
      </params>
      <attribs/>
   </obj>
   <obj type="const/i" uuid="e202f44b2df17ae0b3e663b98ea6b14c8ff00408" name="i_3" x="2674" y="42">
      <params/>
      <attribs>
         <spinner attributeName="value" value="16"/>
      </attribs>
   </obj>
   <obj type="math/==" uuid="deaf0d36642c57876c4101e86f8a0b6a06021ab2" name="==_1" x="2772" y="42">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/and 2" uuid="c67031682f552aa0a80b23377495c51ea28a8c9c" name="and_6" x="2856" y="42">
      <params/>
      <attribs/>
   </obj>
   <obj type="const/i" uuid="e202f44b2df17ae0b3e663b98ea6b14c8ff00408" name="i_2" x="2940" y="42">
      <params/>
      <attribs>
         <spinner attributeName="value" value="0"/>
      </attribs>
   </obj>
   <obj type="math/==" uuid="deaf0d36642c57876c4101e86f8a0b6a06021ab2" name="==_2" x="3052" y="42">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/and 2" uuid="c67031682f552aa0a80b23377495c51ea28a8c9c" name="and_7" x="3136" y="42">
      <params/>
      <attribs/>
   </obj>
   <obj type="disp/i" uuid="5e35fd0c62d81e70017289250cf28edd26e19e4a" name="i_11" x="1638" y="112">
      <params/>
      <attribs/>
   </obj>
   <obj type="disp/i" uuid="5e35fd0c62d81e70017289250cf28edd26e19e4a" name="i_12" x="1708" y="112">
      <params/>
      <attribs/>
   </obj>
   <comment type="patch/comment" x="2044" y="140" text="launchpad column and "/>
   <comment type="patch/comment" x="2044" y="154" text="mpd drum sequence changing"/>
   <comment type="patch/comment" x="2254" y="154" text="launchpad columnstop"/>
   <comment type="patch/comment" x="2534" y="154" text="drum machine play"/>
   <comment type="patch/comment" x="2660" y="154" text="play button to external axos"/>
   <comment type="patch/comment" x="2856" y="154" text="play start to other axos"/>
   <comment type="patch/comment" x="3080" y="154" text="play stop to other axos"/>
   <obj type="logic/flipflop" uuid="f9b15363f5ee203152e062c08a8846f0074b0ea5" name="flipflop_7" x="1540" y="168">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/and 2" uuid="c67031682f552aa0a80b23377495c51ea28a8c9c" name="and_8" x="1666" y="168">
      <params/>
      <attribs/>
   </obj>
   <patchobj type="patch/object" uuid="95be973d-88e7-4574-9dc4-fd9124484347" name="launch_3" x="2058" y="168">
      <params/>
      <attribs>
         <spinner attributeName="channel" value="6"/>
      </attribs>
      <object id="patch/object" uuid="95be973d-88e7-4574-9dc4-fd9124484347">
         <sDescription>Monophonic MIDI keyboard note input, gate, velocity and release velocity</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets/>
         <outlets>
            <int32 name="snapshot"/>
            <bool32 name="save"/>
            <bool32 name="button1" description="key pressed?"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="channel" MinValue="0" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int note;
int snapshot;
int save;
int _gate1;
int shift;]]></code.declaration>
         <code.krate><![CDATA[outlet_snapshot= snapshot;
outlet_save= shift;
outlet_button1= _gate1;]]></code.krate>
         <code.midihandler><![CDATA[if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) 
{	
	snapshot=(data1-64);
   _gate1 = 1;
   note = data1;
}

else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) 
	
if (data1 == note) 
{
   _gate1 = 0;
}

if ((status == MIDI_NOTE_ON + (8)) && (data2)) 
{	if (data1==108){
	shift=1;
}
}

else if (((status == MIDI_NOTE_ON + (8)) && (!data2))||          (status == MIDI_NOTE_OFF + (8))) 
	
if (data1 == 108) 
{
   shift = 0;
}]]></code.midihandler>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="27a4893e-93bb-4a7c-b41c-0b02da02cbed" name="keyb_3" x="2254" y="168">
      <params/>
      <attribs/>
      <object id="patch/object" uuid="27a4893e-93bb-4a7c-b41c-0b02da02cbed">
         <sDescription>Monophonic MIDI keyboard note input, gate, velocity and release velocity</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets/>
         <outlets>
            <bool32 name="gate" description="key pressed?"/>
         </outlets>
         <displays/>
         <params/>
         <attribs/>
         <includes/>
         <code.declaration><![CDATA[uint8_t _gate;]]></code.declaration>
         <code.init><![CDATA[_gate = 0;
]]></code.init>
         <code.krate><![CDATA[outlet_gate=_gate;]]></code.krate>
         <code.midihandler><![CDATA[if ((status == MIDI_NOTE_ON + 5) && (data2)) {
	if (data1 == 0) {
   _gate = 1;
}
}
 else if (((status == MIDI_NOTE_ON + 5) && (!data2))||          (status == MIDI_NOTE_OFF + 5)) {
    _gate = 0;
}]]></code.midihandler>
      </object>
   </patchobj>
   <obj type="logic/or 2" uuid="3805d3c84d30032a44fbdbe42d9a2988a1790a3e" name="or_13" x="2366" y="168">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/or 2" uuid="3805d3c84d30032a44fbdbe42d9a2988a1790a3e" name="or_15" x="2450" y="168">
      <params/>
      <attribs/>
   </obj>
   <patchobj type="patch/object" uuid="2402584d-2694-4ed4-8d77-54830ea0fabf" name="toggle_6" x="2534" y="168">
      <params/>
      <attribs/>
      <object id="patch/object" uuid="2402584d-2694-4ed4-8d77-54830ea0fabf">
         <sDescription>toggle</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>logic.axh</helpPatch>
         <inlets>
            <bool32.rising name="trig" description="trigger"/>
            <bool32 name="set"/>
            <bool32 name="reset"/>
         </inlets>
         <outlets>
            <bool32 name="o" description="output"/>
            <bool32 name="stop"/>
            <bool32 name="start"/>
         </outlets>
         <displays/>
         <params/>
         <attribs/>
         <includes/>
         <code.declaration><![CDATA[int ntrig;
   int op;
int Mtrig;
int MBtrig;
   int p_set;
   int p_reset;]]></code.declaration>
         <code.init><![CDATA[ntrig = 0;
op = 0;
]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig>0) && !ntrig) {op = !op; ntrig=1;}
if (!(inlet_trig>0)) ntrig=0;
if ((inlet_set>0) && !p_set) {op = 1; p_set=1;}
if ((inlet_reset>0) && !p_reset) {op = 0; p_reset=1;}
if (!(inlet_set>0)) p_set=0;
if (!(inlet_reset>0)) p_reset=0;

outlet_o= op;
if ((!(op>0))&&!Mtrig) {
outlet_stop=1;
	Mtrig=1;
}
else outlet_stop=0;
if ((op>0)&&(!MBtrig)) {
outlet_start=1;
	MBtrig=1;
}
else outlet_start=0;

if (op>0) {Mtrig=0;}
if(!(op>0)) {MBtrig=0;}]]></code.krate>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="2402584d-2694-4ed4-8d77-54830ea0fabf" name="toggle_1" x="2660" y="168">
      <params/>
      <attribs/>
      <object id="patch/object" uuid="2402584d-2694-4ed4-8d77-54830ea0fabf">
         <sDescription>toggle</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>logic.axh</helpPatch>
         <inlets>
            <bool32.rising name="trig" description="trigger"/>
            <bool32 name="set"/>
            <bool32 name="reset"/>
         </inlets>
         <outlets>
            <bool32 name="o" description="output"/>
            <bool32 name="stop"/>
            <bool32 name="start"/>
         </outlets>
         <displays/>
         <params/>
         <attribs/>
         <includes/>
         <code.declaration><![CDATA[int ntrig;
   int op;
int Mtrig;
int MBtrig;
   int p_set;
   int p_reset;]]></code.declaration>
         <code.init><![CDATA[ntrig = 0;
op = 0;
]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig>0) && !ntrig) {op = !op; ntrig=1;}
if (!(inlet_trig>0)) ntrig=0;
if ((inlet_set>0) && !p_set) {op = 1; p_set=1;}
if ((inlet_reset>0) && !p_reset) {op = 0; p_reset=1;}
if (!(inlet_set>0)) p_set=0;
if (!(inlet_reset>0)) p_reset=0;

outlet_o= op;
if ((!(op>0))&&!Mtrig) {
outlet_stop=1;
	Mtrig=1;
}
else outlet_stop=0;
if ((op>0)&&(!MBtrig)) {
outlet_start=1;
	MBtrig=1;
}
else outlet_start=0;

if (op>0) {Mtrig=0;}
if(!(op>0)) {MBtrig=0;}]]></code.krate>
      </object>
   </patchobj>
   <obj type="const/i" uuid="e202f44b2df17ae0b3e663b98ea6b14c8ff00408" name="i_9" x="2772" y="168">
      <params/>
      <attribs>
         <spinner attributeName="value" value="-62"/>
      </attribs>
   </obj>
   <patchobj type="patch/object" uuid="07b96263-893f-476c-953a-e589e6a19289" name="note_18" x="2856" y="168">
      <params/>
      <attribs>
         <combo attributeName="device" selection="usb host port 2"/>
         <combo attributeName="Bdevice" selection="usb host port 1"/>
         <spinner attributeName="channel" value="15"/>
      </attribs>
      <object id="patch/object" uuid="07b96263-893f-476c-953a-e589e6a19289">
         <sDescription>Midi note output</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_out.axh</helpPatch>
         <inlets>
            <frac32.bipolar name="note" description="note (-64..63)"/>
            <frac32.positive name="velo" description="velocity"/>
            <bool32.rising name="trig" description="trigger"/>
         </inlets>
         <outlets/>
         <displays/>
         <params/>
         <attribs>
            <combo name="device">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <combo name="Bdevice">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int ntrig;
int lastnote;]]></code.declaration>
         <code.init><![CDATA[ntrig=0;]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig>0) && !ntrig) {
lastnote = (64+(inlet_note>>21))&0x7F;
MidiSend3((midi_device_t) attr_device, MIDI_NOTE_ON + (attr_channel-1),lastnote,inlet_velo>>20);  
MidiSend3((midi_device_t) attr_Bdevice, MIDI_NOTE_ON + (attr_channel-1),lastnote,inlet_velo>>20);  
ntrig=1;
}
if (!(inlet_trig>0) && ntrig) {
	MidiSend3((midi_device_t) attr_device, MIDI_NOTE_OFF + (attr_channel-1),lastnote,__USAT(inlet_velo>>20,7)); 
	MidiSend3((midi_device_t) attr_Bdevice, MIDI_NOTE_OFF + (attr_channel-1),lastnote,__USAT(inlet_velo>>20,7)); 
	ntrig=0;}]]></code.krate>
      </object>
   </patchobj>
   <obj type="const/i" uuid="e202f44b2df17ae0b3e663b98ea6b14c8ff00408" name="i_14" x="3010" y="168">
      <params/>
      <attribs>
         <spinner attributeName="value" value="-61"/>
      </attribs>
   </obj>
   <patchobj type="patch/object" uuid="07b96263-893f-476c-953a-e589e6a19289" name="note_21" x="3094" y="168">
      <params/>
      <attribs>
         <combo attributeName="device" selection="usb host port 2"/>
         <combo attributeName="Bdevice" selection="usb host port 1"/>
         <spinner attributeName="channel" value="15"/>
      </attribs>
      <object id="patch/object" uuid="07b96263-893f-476c-953a-e589e6a19289">
         <sDescription>Midi note output</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_out.axh</helpPatch>
         <inlets>
            <frac32.bipolar name="note" description="note (-64..63)"/>
            <frac32.positive name="velo" description="velocity"/>
            <bool32.rising name="trig" description="trigger"/>
         </inlets>
         <outlets/>
         <displays/>
         <params/>
         <attribs>
            <combo name="device">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <combo name="Bdevice">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int ntrig;
int lastnote;]]></code.declaration>
         <code.init><![CDATA[ntrig=0;]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig>0) && !ntrig) {
lastnote = (64+(inlet_note>>21))&0x7F;
MidiSend3((midi_device_t) attr_device, MIDI_NOTE_ON + (attr_channel-1),lastnote,inlet_velo>>20);  
MidiSend3((midi_device_t) attr_Bdevice, MIDI_NOTE_ON + (attr_channel-1),lastnote,inlet_velo>>20);  
ntrig=1;
}
if (!(inlet_trig>0) && ntrig) {
	MidiSend3((midi_device_t) attr_device, MIDI_NOTE_OFF + (attr_channel-1),lastnote,__USAT(inlet_velo>>20,7)); 
	MidiSend3((midi_device_t) attr_Bdevice, MIDI_NOTE_OFF + (attr_channel-1),lastnote,__USAT(inlet_velo>>20,7)); 
	ntrig=0;}]]></code.krate>
      </object>
   </patchobj>
   <obj type="logic/and 2" uuid="c67031682f552aa0a80b23377495c51ea28a8c9c" name="and_3" x="784" y="196">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/and 2" uuid="c67031682f552aa0a80b23377495c51ea28a8c9c" name="and_5" x="966" y="196">
      <params/>
      <attribs/>
   </obj>
   <comment type="patch/comment" x="1050" y="210" text="counter for reset"/>
   <comment type="patch/comment" x="1176" y="210" text="lpad reset"/>
   <obj type="logic/counter" uuid="7a141ba82230e54e5f5cd12da5dbe5a74ba854a5" name="counter_3" x="1050" y="224">
      <params>
         <int32 name="maximum" value="64"/>
      </params>
      <attribs/>
   </obj>
   <patchobj type="patch/object" uuid="1b010b72-14aa-4821-a5c8-bdae94b38799" name="keyb_4" x="1176" y="224">
      <params/>
      <attribs/>
      <object id="patch/object" uuid="1b010b72-14aa-4821-a5c8-bdae94b38799">
         <sDescription>Monophonic MIDI keyboard note input, gate, velocity and release velocity</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets/>
         <outlets>
            <bool32 name="gate" description="key pressed, no retrigger legato"/>
         </outlets>
         <displays/>
         <params/>
         <attribs/>
         <includes/>
         <code.declaration><![CDATA[int32_t _gate;]]></code.declaration>
         <code.init><![CDATA[_gate = 0;]]></code.init>
         <code.krate><![CDATA[outlet_gate= _gate;]]></code.krate>
         <code.midihandler><![CDATA[if(dev==MIDI_DEVICE_USB_HOST && port == 2)
{
if ((status == MIDI_NOTE_ON + 5) && (data2)) {
  _gate = 1<<27;
} else if (((status == MIDI_NOTE_ON + 5) && (!data2))||
          (status == MIDI_NOTE_OFF + 5)) {

    _gate = 0;
  
}
}]]></code.midihandler>
      </object>
   </patchobj>
   <obj type="logic/or 2" uuid="3805d3c84d30032a44fbdbe42d9a2988a1790a3e" name="or_1" x="1246" y="224">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/and 2" uuid="c67031682f552aa0a80b23377495c51ea28a8c9c" name="and_20" x="1344" y="238">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/counter" uuid="7a141ba82230e54e5f5cd12da5dbe5a74ba854a5" name="counter_2" x="1428" y="238">
      <params>
         <int32 name="maximum" value="1024"/>
      </params>
      <attribs/>
   </obj>
   <comment type="patch/comment" x="2184" y="280" text="drum sequenceload"/>
   <patchobj type="patch/object" uuid="dcefc491-221f-4521-bad8-87185f5df137" name="tcopy_2" x="2184" y="294">
      <params>
         <int32 name="range" value="3392"/>
         <bool32.tgl name="splat" value="0"/>
         <bool32.tgl name="clear" value="0"/>
      </params>
      <attribs>
         <objref attributeName="preset" obj="preset"/>
         <objref attributeName="play" obj="fred"/>
      </attribs>
      <object id="patch/object" uuid="dcefc491-221f-4521-bad8-87185f5df137">
         <sDescription>copy the elements of a table from table &apos;src&apos; to table &apos;dst&apos;
the length of the area to copy is defined by &apos;range&apos;,
the read offset is defined by inlet&apos;src&apos; and the write offset by &apos;dst&apos;
&apos;speed&apos; sets the copying speed in terms of audio-rate (16 is really fast!)
if &apos;splat&apos; is enabled,tcopy will preserve the original contents of the destination table.
if &apos;clear&apos; is enabled,tcopy will clear the contents of the table.</sDescription>
         <author>Robert Schirmer</author>
         <license>BSD</license>
         <helpPatch>data.axh</helpPatch>
         <inlets>
            <bool32 name="save"/>
            <int32 name="snapshot"/>
            <bool32.rising name="trig" description="start copying"/>
         </inlets>
         <outlets/>
         <displays/>
         <params>
            <int32 name="range">
               <MinValue i="1"/>
               <MaxValue i="2097152"/>
            </int32>
            <bool32.tgl name="splat" description="add to src contents"/>
            <bool32.tgl name="clear" description="clear dst"/>
         </params>
         <attribs>
            <objref name="preset" description="name of the source -table"/>
            <objref name="play" description="name of the destination - table"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[uint32_t i;
uint32_t ii;
int ntrig;
int rtrig;

int speed;
uint32_t src;
uint32_t dst;
uint32_t range;
uint32_t block;]]></code.declaration>
         <code.krate><![CDATA[//load
if (!(inlet_save>0))
{
speed = 16 << 4;
src = (inlet_snapshot*param_range);
dst = 0;
range = 1600;

block  = (range / speed) * speed;

if ((inlet_trig)&& (!ntrig)){ ntrig = 1;i = 0;rtrig = 0;}
if ((i == range) && (!inlet_trig)) {ntrig = 0;;i = 0;}

//copy n chunks of size 'speed'
if (ntrig && (i < block)){ 
	{ 
  for(ii=0;ii<speed;ii++)
  attr_play.array[(i + ii + dst)]= (( attr_preset.array[(i + ii + src)] + (attr_play.array[(i + ii + dst)] * param_splat)) * (!param_clear));
  }
  i += speed;	
}

//copy what's left
if (i == block) rtrig = 1; 

if ((ntrig && rtrig) && (i < (range))){ 
	attr_play.array[(i + dst)]= (( attr_preset.array[(i + src)] + (attr_play.array[(i + dst)] * param_splat)) * (!param_clear));
   i += 1;  
 }
}



//save
else if (inlet_save>0)
{
speed = 1 << 4;
src = 0;
dst = (inlet_snapshot*param_range);
range = 1600;

block  = (range / speed) * speed;

if ((inlet_trig)&& (!ntrig)){ ntrig = 1;i = 0;rtrig = 0;}
if ((i == range) && (!inlet_trig)) {ntrig = 0;i = 0;}

//copy n chunks of size 'speed'
if (ntrig && (i < block)){ 
	{ 
  for(ii=0;ii<speed;ii++)
  attr_preset.array[(i + ii + dst)]= (( attr_play.array[(i + ii + src)] + (attr_preset.array[(i + ii + dst)] * param_splat)) * (!param_clear));
  }
  i += speed;	
}

//copy what's left
if (i == block) rtrig = 1; 

if ((ntrig && rtrig) && (i < (range))){ 
	attr_preset.array[(i + dst)]= (( attr_play.array[(i + src)] + (attr_preset.array[(i + dst)] * param_splat)) * (!param_clear));
   i += 1;  
 }
}]]></code.krate>
      </object>
   </patchobj>
   <comment type="patch/comment" x="2674" y="308" text="clock to bass station"/>
   <comment type="patch/comment" x="2842" y="308" text="clock to mininova"/>
   <comment type="patch/comment" x="350" y="322" text="play clock"/>
   <comment type="patch/comment" x="980" y="322" text="4ppq half a step early"/>
   <comment type="patch/comment" x="1162" y="322" text="record clock"/>
   <comment type="patch/comment" x="1890" y="322" text="???? do i need this?"/>
   <obj type="logic/change" uuid="96e39ae624c3f3c952cec4a95e1986ee0104f718" name="change_2" x="2576" y="322">
      <params/>
      <attribs/>
   </obj>
   <patchobj type="patch/object" uuid="8de67a22-673c-40e6-a2b6-7239507058a0" name="clock_tx_1" x="2674" y="322">
      <params/>
      <attribs>
         <combo attributeName="device" selection="usb host port 3"/>
      </attribs>
      <object id="patch/object" uuid="8de67a22-673c-40e6-a2b6-7239507058a0">
         <sDescription>MIDI clock transmitter</sDescription>
         <author>Are Leistad</author>
         <license>BSD</license>
         <inlets>
            <bool32.rising name="24ppq" description="Send 24 PPQ clock"/>
            <bool32.rising name="start" description="Send start"/>
            <bool32.rising name="stop" description="Send stop"/>
            <bool32.rising name="continue" description="Send continue"/>
            <bool32.rising name="songsel" description="Send song select"/>
            <int32 name="selected" description="Song selection"/>
            <bool32.rising name="songpos" description="Send song position"/>
            <int32 name="position" description="Song position"/>
         </inlets>
         <outlets/>
         <displays/>
         <params/>
         <attribs>
            <combo name="device">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[

      //#define DEBUGF LogTextMessage
      #define DEBUGF(...) {}

      uint32_t old_24ppq;
      uint32_t old_start;
      uint32_t old_stop;
      uint32_t old_continue;
      //uint32_t old_reset;
      uint32_t old_songsel;
      uint32_t old_songpos;

    ]]></code.declaration>
         <code.init><![CDATA[

      old_24ppq      = 0;
      old_start      = 0;
      old_stop       = 0;
      old_continue   = 0;
      //old_reset      = 0;
      old_songsel    = 0;
      old_songpos    = 0;

    ]]></code.init>
         <code.krate><![CDATA[

      if( inlet_24ppq && !old_24ppq )
        {
          MidiSend1( (midi_device_t) attr_device, MIDI_TIMING_CLOCK ) ;
        }

      if( inlet_start && !old_start )
        {
          MidiSend1( (midi_device_t) attr_device, MIDI_START );
        }

      if( inlet_stop  && !old_stop    )
        {
          MidiSend1( (midi_device_t) attr_device, MIDI_STOP );
        }

      if( inlet_continue && !old_continue    )
        {
          MidiSend1( (midi_device_t) attr_device, MIDI_CONTINUE );
        }

      //if( inlet_reset && !old_reset    )
      //  {
      //    MidiSend1( (midi_device_t) attr_device, MIDI_RESET );
      //  }

      if( inlet_songsel && !old_songsel )
        {
          MidiSend2( (midi_device_t) attr_device, MIDI_SONG_SELECT, (uint8_t) inlet_selected );
        }

      if( inlet_songpos && !old_songpos )
        {
          MidiSend3( (midi_device_t) attr_device, MIDI_SONG_POSITION, (uint8_t) inlet_position & 0x7F, (uint8_t) (inlet_position<<7) & 0x7F );
        }

      old_24ppq    = inlet_24ppq;
      old_start    = inlet_start;
      old_stop     = inlet_stop;
      old_continue = inlet_continue;
      //old_reset    = inlet_reset;
      old_songsel  = inlet_songsel;
      old_songpos  = inlet_songpos;

    ]]></code.krate>
         <code.midihandler><![CDATA[
    ]]></code.midihandler>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="8de67a22-673c-40e6-a2b6-7239507058a0" name="clock_tx_2" x="2842" y="322">
      <params/>
      <attribs>
         <combo attributeName="device" selection="din"/>
      </attribs>
      <object id="patch/object" uuid="8de67a22-673c-40e6-a2b6-7239507058a0">
         <sDescription>MIDI clock transmitter</sDescription>
         <author>Are Leistad</author>
         <license>BSD</license>
         <inlets>
            <bool32.rising name="24ppq" description="Send 24 PPQ clock"/>
            <bool32.rising name="start" description="Send start"/>
            <bool32.rising name="stop" description="Send stop"/>
            <bool32.rising name="continue" description="Send continue"/>
            <bool32.rising name="songsel" description="Send song select"/>
            <int32 name="selected" description="Song selection"/>
            <bool32.rising name="songpos" description="Send song position"/>
            <int32 name="position" description="Song position"/>
         </inlets>
         <outlets/>
         <displays/>
         <params/>
         <attribs>
            <combo name="device">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[

      //#define DEBUGF LogTextMessage
      #define DEBUGF(...) {}

      uint32_t old_24ppq;
      uint32_t old_start;
      uint32_t old_stop;
      uint32_t old_continue;
      //uint32_t old_reset;
      uint32_t old_songsel;
      uint32_t old_songpos;

    ]]></code.declaration>
         <code.init><![CDATA[

      old_24ppq      = 0;
      old_start      = 0;
      old_stop       = 0;
      old_continue   = 0;
      //old_reset      = 0;
      old_songsel    = 0;
      old_songpos    = 0;

    ]]></code.init>
         <code.krate><![CDATA[

      if( inlet_24ppq && !old_24ppq )
        {
          MidiSend1( (midi_device_t) attr_device, MIDI_TIMING_CLOCK ) ;
        }

      if( inlet_start && !old_start )
        {
          MidiSend1( (midi_device_t) attr_device, MIDI_START );
        }

      if( inlet_stop  && !old_stop    )
        {
          MidiSend1( (midi_device_t) attr_device, MIDI_STOP );
        }

      if( inlet_continue && !old_continue    )
        {
          MidiSend1( (midi_device_t) attr_device, MIDI_CONTINUE );
        }

      //if( inlet_reset && !old_reset    )
      //  {
      //    MidiSend1( (midi_device_t) attr_device, MIDI_RESET );
      //  }

      if( inlet_songsel && !old_songsel )
        {
          MidiSend2( (midi_device_t) attr_device, MIDI_SONG_SELECT, (uint8_t) inlet_selected );
        }

      if( inlet_songpos && !old_songpos )
        {
          MidiSend3( (midi_device_t) attr_device, MIDI_SONG_POSITION, (uint8_t) inlet_position & 0x7F, (uint8_t) (inlet_position<<7) & 0x7F );
        }

      old_24ppq    = inlet_24ppq;
      old_start    = inlet_start;
      old_stop     = inlet_stop;
      old_continue = inlet_continue;
      //old_reset    = inlet_reset;
      old_songsel  = inlet_songsel;
      old_songpos  = inlet_songpos;

    ]]></code.krate>
         <code.midihandler><![CDATA[
    ]]></code.midihandler>
      </object>
   </patchobj>
   <comment type="patch/comment" x="42" y="336" text="sequence storage"/>
   <patchobj type="patch/object" uuid="f75fbd90-b1f5-46f8-8736-4de544e574f5" name="counter_1" x="350" y="336">
      <params/>
      <attribs>
         <spinner attributeName="maximum" value="128"/>
      </attribs>
      <object id="patch/object" uuid="f75fbd90-b1f5-46f8-8736-4de544e574f5">
         <sDescription>cyclic up counter</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>counter.axh</helpPatch>
         <inlets>
            <bool32.rising name="trig" description="trigger"/>
            <bool32.rising name="r" description="reset"/>
            <bool32 name="rstop"/>
         </inlets>
         <outlets>
            <int32 name="o" description="output"/>
            <bool32.pulse name="c" description="carry pulse"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="maximum" MinValue="0" MaxValue="50000" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int ntrig;
   int rtrig;
   int count;]]></code.declaration>
         <code.init><![CDATA[ntrig = 0;
   rtrig = 0;
   count=(attr_maximum-1);]]></code.init>
         <code.krate><![CDATA[outlet_c=0;
if ((inlet_trig>0) && !ntrig) {
   count += 1; if (count>=attr_maximum) {count = 0; outlet_c = 1;}
   ntrig=1;
}
else if (!(inlet_trig>0)) ntrig=0;
if ((inlet_r>0) && !rtrig) {count=0; rtrig = 1;}
if ((inlet_rstop>0)&&!rtrig) {count=(attr_maximum-1);}
else if ((!(inlet_r>0))&&(!(inlet_r>0))) rtrig=0;
outlet_o= count;]]></code.krate>
      </object>
   </patchobj>
   <obj type="djrm/logic/counter2_init_start" uuid="d5936f238ab92e53ac93d5927c3b43ceef998dc1" name="counter2_init_start_1" x="980" y="336">
      <params>
         <int32 name="maximum" value="1"/>
         <int32 name="init" value="1"/>
      </params>
      <attribs/>
   </obj>
   <obj type="logic/counter" uuid="7a141ba82230e54e5f5cd12da5dbe5a74ba854a5" name="counter_4" x="1162" y="336">
      <params>
         <int32 name="maximum" value="64"/>
      </params>
      <attribs/>
   </obj>
   <patchobj type="patch/object" uuid="3e657947-95db-4838-b27d-186457270b74" name="midithru_4" x="1890" y="336">
      <params/>
      <attribs>
         <combo attributeName="input" selection="omni"/>
         <combo attributeName="output" selection="din"/>
         <combo attributeName="led" selection="off"/>
      </attribs>
      <object id="patch/object" uuid="3e657947-95db-4838-b27d-186457270b74">
         <sDescription>an object to forward midi from one device to another
note: does not handle sysex or clock</sDescription>
         <author>Mark Harris</author>
         <license>GPL</license>
         <inlets/>
         <outlets/>
         <displays/>
         <params/>
         <attribs>
            <combo name="input">
               <MenuEntries>
                  <string>omni</string>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>true</string>
                  <string>dev == MIDI_DEVICE_DIN &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 2</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 3</string>
                  <string>dev == MIDI_DEVICE_USB_HOST &amp;&amp; port == 4</string>
                  <string>dev == MIDI_DEVICE_INTERNAL &amp;&amp; port == 1</string>
                  <string>dev == MIDI_DEVICE_INTERNAL &amp;&amp; port == 2</string>
                  <string>dev == MIDI_DEVICE_USB_DEVICE &amp;&amp; port == 1</string>
               </CEntries>
            </combo>
            <combo name="output">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <combo name="led">
               <MenuEntries>
                  <string>on</string>
                  <string>off</string>
               </MenuEntries>
               <CEntries>
                  <string>true</string>
                  <string>false</string>
               </CEntries>
            </combo>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int 		flash_cnt=0;
bool 	flash_state = false;
const int FLASH_LEN = 0x100;]]></code.declaration>
         <code.init><![CDATA[if(attr_led) {
        sysmon_disable_blinker();
        palSetPadMode(LED2_PORT,LED2_PIN,PAL_MODE_OUTPUT_PUSHPULL);
}
flash_cnt = 0;
flash_state = false;]]></code.init>
         <code.krate><![CDATA[if(attr_led) {
	if(flash_cnt > 0) flash_cnt--;
	bool fs = flash_cnt > 0;
	if(fs!=flash_state) {
		palWritePad(LED2_PORT,LED2_PIN,fs);
		flash_state = fs;
	}
    }]]></code.krate>
         <code.midihandler><![CDATA[if(attr_input) {
        uint8_t status_type = status & 0xF0;
            if ((status_type == MIDI_CONTROL_CHANGE) ||
                (status_type == MIDI_NOTE_OFF) ||
                (status_type == MIDI_NOTE_ON) ||
                (status_type == MIDI_POLY_PRESSURE) ||
                (status_type == MIDI_PITCH_BEND)) {
                    MidiSend3((midi_device_t) attr_output,status,data1,data2);
                    flash_cnt = FLASH_LEN;
            } else if ( (status_type == MIDI_PROGRAM_CHANGE) ||
                        (status_type == MIDI_CHANNEL_PRESSURE)) {
                MidiSend2((midi_device_t) attr_output,status,data1);
                flash_cnt = FLASH_LEN;
            }
        }]]></code.midihandler>
      </object>
   </patchobj>
   <obj type="table/alloc 16b sdram load" uuid="e6b85dad3ab43565cda93ea4c43c73b668b1cd43" name="preset" x="42" y="350">
      <params/>
      <attribs>
         <combo attributeName="size" selection="131072"/>
         <file attributeName="filename" file="/T_abe"/>
      </attribs>
   </obj>
   <comment type="patch/comment" x="29" y="421" text="sequence record buffer storage"/>
   <obj type="table/alloc 16b sdram load" uuid="e6b85dad3ab43565cda93ea4c43c73b668b1cd43" name="temp" x="28" y="434">
      <params/>
      <attribs>
         <combo attributeName="size" selection="4096"/>
         <file attributeName="filename" file="/T_abe"/>
      </attribs>
   </obj>
   <comment type="patch/comment" x="378" y="448" text="mpd transport controls"/>
   <patchobj type="patch/object" uuid="2aae03bf-7545-4913-89b5-403575d14e1e" name="object_1" x="378" y="462">
      <params/>
      <attribs>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="2aae03bf-7545-4913-89b5-403575d14e1e">
         <inlets>
            <bool32 name="change"/>
         </inlets>
         <outlets>
            <int32 name="out"/>
            <bool32 name="overdub"/>
            <bool32 name="record"/>
            <bool32 name="clear"/>
            <bool32 name="cleartrigger"/>
            <bool32 name="reset"/>
            <bool32 name="change"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="1"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int shift;
int note;
int hold;
int prev;
int overdub;
int record;
int shiftclear;
int clear;
int reset;

__attribute__ (( always_inline )) __STATIC_INLINE int midi_device_test( midi_device_t dev, uint8_t port, int selected_dev, uint8_t selected_port )
      {
        if(    (selected_dev == MIDI_DEVICE_OMNI)
            || (selected_dev == dev && selected_port == port)
            )
          return 1;
        return 0;
      }]]></code.declaration>
         <code.krate><![CDATA[if ((shift>0)&&(note!=prev))
{hold=note;
outlet_out=hold;}
if ((shiftclear>0)&&(note!=prev))
{hold=note;
outlet_out=hold;}
if ((((!(shift>0))||(!(shiftclear>0)))&&(note==0)))
{hold=0;
outlet_out=hold;}
else {outlet_out = hold;}
prev=note;

outlet_overdub=overdub;
outlet_record=record;
outlet_clear=shiftclear;
outlet_cleartrigger=clear;
outlet_reset=reset;]]></code.krate>
         <code.midihandler><![CDATA[if( midi_device_test( dev, port, MIDI_DEVICE_DIN, 1 ) == 1 ){
if ((status == MIDI_NOTE_ON + (attr_channel-1))&&(data1==50))
{shift=1;
}
else if (status == MIDI_NOTE_OFF + (attr_channel-1))
{if (data1==50)
{shift=0;}
record=0;
}


if ((status == MIDI_NOTE_ON + (attr_channel-1))&&(data1==51))
{shiftclear=1;}
else if (status == MIDI_NOTE_OFF + (attr_channel-1))
{if (data1==51)
{shiftclear=0;
clear=0;}
}

if ((status == MIDI_NOTE_ON + (attr_channel-1))&&(data1==49))
{reset=1;}
else if (status == MIDI_NOTE_OFF + (attr_channel-1))
{if (data1==49)
{reset=0;}
}


if ((status == MIDI_NOTE_ON + (attr_channel-1))&&(data1!=50)&&((shift==1)||(shiftclear==1))){
if (data1==36){
	note=1;
}
if (data1==37){
	note=2;
}
if (data1==38){
	note=3;
}
if (data1==39){
	note=4;
}
if (data1==40){
	note=5;
}
if (data1==41){
	note=6;
}
if (data1==42){
	note=7;
}
if (data1==43){
	note=8;
}
if (data1==44){
	note=9;
}
if (data1==45){
	note=10;
}

if (data1==46){
	note=11;
}
if (data1==47){
	note=12;
}
if (data1==48){
	note=0;
}
overdub=0;}


if ((status == MIDI_NOTE_ON + (attr_channel-1))&&(data1>35)&&(data1<49))
{if (shift==1)
{record=1;}
if (shiftclear==1)
{clear=1;}}
if (status == MIDI_NOTE_OFF + (attr_channel-1)) 
{record=0;clear=0;}


if ((status == MIDI_NOTE_ON + (attr_channel-1))&&(data1==48)&&(shift!=1))
	{note=0;
	overdub=1;
	record=0;}
if ((status == MIDI_NOTE_OFF + (attr_channel-1))&&(data1==48))
	{overdub=0;
	record=0;}}]]></code.midihandler>
      </object>
   </patchobj>
   <comment type="patch/comment" x="644" y="476" text="clear"/>
   <patchobj type="patch/object" uuid="264cacd8-83db-492e-ac32-4ee5f75de582" name="or_4" x="574" y="490">
      <params/>
      <attribs/>
      <object id="patch/object" uuid="264cacd8-83db-492e-ac32-4ee5f75de582">
         <sDescription>logic OR with 4 inputs</sDescription>
         <author>Alex</author>
         <license>BSD</license>
         <helpPatch>logic.axh</helpPatch>
         <inlets>
            <bool32 name="i1" description="input 1"/>
            <bool32 name="i2" description="input 2"/>
            <bool32 name="i3" description="input 1"/>
         </inlets>
         <outlets>
            <bool32 name="o" description="output"/>
         </outlets>
         <displays/>
         <params/>
         <attribs/>
         <includes/>
         <code.krate><![CDATA[outlet_o = (inlet_i1)||(inlet_i2)||(inlet_i3);]]></code.krate>
      </object>
   </patchobj>
   <obj type="logic/flipflop toggle" uuid="195e489e5fc3d275944b0de56c7a91c8641ea22a" name="flipflop_1" x="644" y="490">
      <params/>
      <attribs/>
   </obj>
   <comment type="patch/comment" x="1036" y="490" text="record"/>
   <comment type="patch/comment" x="154" y="504" text="current sequence storage"/>
   <obj type="logic/counter" uuid="7a141ba82230e54e5f5cd12da5dbe5a74ba854a5" name="counter_5" x="840" y="504">
      <params>
         <int32 name="maximum" value="2"/>
      </params>
      <attribs/>
   </obj>
   <obj type="phi/logic/or 4" uuid="5dc5a7c1fb7809522171638f755fead71cbe14ea" name="or_5" x="952" y="504">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/flipflop toggle" uuid="195e489e5fc3d275944b0de56c7a91c8641ea22a" name="flipflop_2" x="1036" y="504">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/or 2" uuid="3805d3c84d30032a44fbdbe42d9a2988a1790a3e" name="or_2" x="1162" y="504">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/and 2" uuid="c67031682f552aa0a80b23377495c51ea28a8c9c" name="and_1" x="1246" y="504">
      <params/>
      <attribs/>
   </obj>
   <obj type="timer/delayedpulse" uuid="3f05ee534ca67755fb20c7437f9e4de3d4c2f73d" name="delayedpulse_1" x="1372" y="504">
      <params>
         <frac32.s.map name="delay" value="0.0"/>
      </params>
      <attribs/>
   </obj>
   <obj type="table/alloc 16b sdram load" uuid="e6b85dad3ab43565cda93ea4c43c73b668b1cd43" name="fred" x="154" y="518">
      <params/>
      <attribs>
         <combo attributeName="size" selection="4096"/>
         <file attributeName="filename" file="/T_abe"/>
      </attribs>
   </obj>
   <comment type="patch/comment" x="630" y="588" text="overdub"/>
   <obj type="phi/logic/or 4" uuid="5dc5a7c1fb7809522171638f755fead71cbe14ea" name="or_9" x="490" y="602">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/flipflop toggle" uuid="195e489e5fc3d275944b0de56c7a91c8641ea22a" name="flipflop_4" x="574" y="602">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/inv" uuid="2bd44b865d3b63ff9b80862242bf5be779e3ad5" name="inv_4" x="700" y="602">
      <params/>
      <attribs/>
   </obj>
   <patchobj type="patch/object" uuid="97b34949-11f0-4abb-8359-6abdababaf37" name="b_1" x="770" y="602">
      <params/>
      <attribs/>
      <object id="patch/object" uuid="97b34949-11f0-4abb-8359-6abdababaf37">
         <sDescription>Generates a single pulse after a rising edge on trigger input. A new trigger before the pulse finishes at the output, extends the pulse.</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>pulselength.axh</helpPatch>
         <inlets>
            <bool32.rising name="trig" description="trigger"/>
         </inlets>
         <outlets>
            <bool32 name="pulse" description="pulse output"/>
         </outlets>
         <displays/>
         <params/>
         <attribs/>
         <includes/>
         <code.declaration><![CDATA[int ntrig;]]></code.declaration>
         <code.init><![CDATA[ntrig = 0;]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig > 0) && !ntrig) {
  ntrig = 1;
  outlet_pulse = 1;
}
else outlet_pulse=0;
if (!(inlet_trig > 0))
{
    ntrig = 0;
  }]]></code.krate>
      </object>
   </patchobj>
   <obj type="timer/pulselength" uuid="ca68725237d8ba8407773340801660a9fd9b0dba" name="pulselength_2" x="868" y="602">
      <params>
         <frac32.s.map name="delay" value="-17.0"/>
      </params>
      <attribs/>
   </obj>
   <obj type="logic/or 2" uuid="3805d3c84d30032a44fbdbe42d9a2988a1790a3e" name="or_11" x="1036" y="616">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/and 2" uuid="c67031682f552aa0a80b23377495c51ea28a8c9c" name="and_2" x="1134" y="616">
      <params/>
      <attribs/>
   </obj>
   <comment type="patch/comment" x="126" y="630" text="copies current sequence to buffer for pattern switching &amp; overdubbing"/>
   <patchobj type="patch/object" uuid="423a1b19-2825-40b9-a383-2352cef71a7a" name="b_2" x="126" y="644">
      <params/>
      <attribs/>
      <object id="patch/object" uuid="423a1b19-2825-40b9-a383-2352cef71a7a">
         <sDescription>Generates a single pulse after a rising edge on trigger input. A new trigger before the pulse finishes at the output, extends the pulse.</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>pulselength.axh</helpPatch>
         <inlets>
            <bool32.rising name="trig" description="trigger"/>
         </inlets>
         <outlets>
            <bool32 name="pulse" description="pulse output"/>
         </outlets>
         <displays/>
         <params/>
         <attribs/>
         <includes/>
         <code.declaration><![CDATA[int ntrig;]]></code.declaration>
         <code.init><![CDATA[ntrig = 0;]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig > 0) && !ntrig) {
  ntrig = 1;
  outlet_pulse = 1;
}
else outlet_pulse=0;
if (!(inlet_trig > 0))
{
    ntrig = 0;
  }]]></code.krate>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="d23b51b4-e9ff-44f9-9b20-ccf4161c07c1" name="tcopy_6" x="196" y="644">
      <params>
         <int32 name="src" value="0"/>
         <int32 name="dst" value="0"/>
         <int32 name="range" value="1152"/>
         <bool32.tgl name="splat" value="0"/>
         <bool32.tgl name="clear" value="0"/>
      </params>
      <attribs>
         <objref attributeName="src" obj="fred"/>
         <objref attributeName="dst" obj="temp"/>
         <spinner attributeName="speed" value="16"/>
      </attribs>
      <object id="patch/object" uuid="d23b51b4-e9ff-44f9-9b20-ccf4161c07c1">
         <sDescription>copy the elements of a table from table &apos;src&apos; to table &apos;dst&apos;
the length of the area to copy is defined by &apos;range&apos;,
the read offset is defined by inlet&apos;src&apos; and the write offset by &apos;dst&apos;
&apos;speed&apos; sets the copying speed in terms of audio-rate (16 is really fast!)
if &apos;splat&apos; is enabled,tcopy will preserve the original contents of the destination table.
if &apos;clear&apos; is enabled,tcopy will clear the contents of the table.</sDescription>
         <author>Robert Schirmer</author>
         <license>BSD</license>
         <helpPatch>data.axh</helpPatch>
         <inlets>
            <int32 name="src" description="source start"/>
            <int32 name="dst" description="destination start"/>
            <int32 name="range" description="length of the area to copy"/>
            <bool32.rising name="trig" description="start copying"/>
         </inlets>
         <outlets>
            <bool32.pulse name="done" description="operation done."/>
         </outlets>
         <displays/>
         <params>
            <int32 name="src">
               <MinValue i="0"/>
               <MaxValue i="2097152"/>
            </int32>
            <int32 name="dst">
               <MinValue i="0"/>
               <MaxValue i="2097152"/>
            </int32>
            <int32 name="range">
               <MinValue i="1"/>
               <MaxValue i="2097152"/>
            </int32>
            <bool32.tgl name="splat" description="add to src contents"/>
            <bool32.tgl name="clear" description="clear dst"/>
         </params>
         <attribs>
            <objref name="src" description="name of the source -table"/>
            <objref name="dst" description="name of the destination - table"/>
            <spinner name="speed" MinValue="1" MaxValue="16" DefaultValue="1"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[uint32_t i;
uint32_t ii;
int ntrig;
int rtrig;

int speed;
uint32_t src;
uint32_t dst;
uint32_t range;
uint32_t block;]]></code.declaration>
         <code.krate><![CDATA[speed = attr_speed << 4;
src = param_src + inlet_src;
dst = param_dst + inlet_dst;
range = param_range + inlet_range;

block  = (range / speed) * speed;

outlet_done = 0;

if ((inlet_trig)&& (!ntrig)){ ntrig = 1;i = 0;rtrig = 0;}
if ((i == range) && (!inlet_trig)) {ntrig = 0;outlet_done = 1;i = 0;}


//copy n chunks of size 'speed'
if (ntrig && (i < block)){ 
	{ 
  for(ii=0;ii<speed;ii++)
  attr_dst.array[(i + ii + dst)]= (( attr_src.array[(i + ii + src)] + (attr_dst.array[(i + ii + dst)] * param_splat)) * (!param_clear));
  }
  i += speed;	
}

//copy what's left
if (i == block) rtrig = 1; 

if ((ntrig && rtrig) && (i < (range))){ 
	attr_dst.array[(i + dst)]= (( attr_src.array[(i + src)] + (attr_dst.array[(i + dst)] * param_splat)) * (!param_clear));
   i += 1;  
 }]]></code.krate>
      </object>
   </patchobj>
   <obj type="phi/logic/or 4" uuid="5dc5a7c1fb7809522171638f755fead71cbe14ea" name="or_3" x="1232" y="644">
      <params/>
      <attribs/>
   </obj>
   <comment type="patch/comment" x="2954" y="658" text="preset saving"/>
   <comment type="patch/comment" x="3304" y="658" text="save all to sd card"/>
   <patchobj type="patch/object" uuid="95be973d-88e7-4574-9dc4-fd9124484347" name="launch_2" x="2786" y="672">
      <params/>
      <attribs>
         <spinner attributeName="channel" value="3"/>
      </attribs>
      <object id="patch/object" uuid="95be973d-88e7-4574-9dc4-fd9124484347">
         <sDescription>Monophonic MIDI keyboard note input, gate, velocity and release velocity</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets/>
         <outlets>
            <int32 name="snapshot"/>
            <bool32 name="save"/>
            <bool32 name="button1" description="key pressed?"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="channel" MinValue="0" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int note;
int snapshot;
int save;
int _gate1;]]></code.declaration>
         <code.krate><![CDATA[outlet_snapshot= snapshot;
outlet_save= save;
outlet_button1= _gate1;]]></code.krate>
         <code.midihandler><![CDATA[if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)&& (data1==84)) 
{save = 1;}
else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1)&& (data1==84) )) 
{save = 0;}

if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) 

{	
if ((data1 > 63)&&(data1<81)) 
{
	snapshot=(data1-64);
   _gate1 = 1;
   note = data1;
}
}

else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) 
	
if (data1 == note) 
{
   _gate1 = 0;
}]]></code.midihandler>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="dcefc491-221f-4521-bad8-87185f5df137" name="tcopy_1" x="2954" y="672">
      <params>
         <int32 name="range" value="3392"/>
         <bool32.tgl name="splat" value="0"/>
         <bool32.tgl name="clear" value="0"/>
      </params>
      <attribs>
         <objref attributeName="preset" obj="preset"/>
         <objref attributeName="play" obj="fred"/>
      </attribs>
      <object id="patch/object" uuid="dcefc491-221f-4521-bad8-87185f5df137">
         <sDescription>copy the elements of a table from table &apos;src&apos; to table &apos;dst&apos;
the length of the area to copy is defined by &apos;range&apos;,
the read offset is defined by inlet&apos;src&apos; and the write offset by &apos;dst&apos;
&apos;speed&apos; sets the copying speed in terms of audio-rate (16 is really fast!)
if &apos;splat&apos; is enabled,tcopy will preserve the original contents of the destination table.
if &apos;clear&apos; is enabled,tcopy will clear the contents of the table.</sDescription>
         <author>Robert Schirmer</author>
         <license>BSD</license>
         <helpPatch>data.axh</helpPatch>
         <inlets>
            <bool32 name="save"/>
            <int32 name="snapshot"/>
            <bool32.rising name="trig" description="start copying"/>
         </inlets>
         <outlets/>
         <displays/>
         <params>
            <int32 name="range">
               <MinValue i="1"/>
               <MaxValue i="2097152"/>
            </int32>
            <bool32.tgl name="splat" description="add to src contents"/>
            <bool32.tgl name="clear" description="clear dst"/>
         </params>
         <attribs>
            <objref name="preset" description="name of the source -table"/>
            <objref name="play" description="name of the destination - table"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[uint32_t i;
uint32_t ii;
int ntrig;
int rtrig;

int speed;
uint32_t src;
uint32_t dst;
uint32_t range;
uint32_t block;]]></code.declaration>
         <code.krate><![CDATA[//load
if (!(inlet_save>0))
{
speed = 16 << 4;
src = (inlet_snapshot*param_range);
dst = 0;
range = param_range;

block  = (range / speed) * speed;

if ((inlet_trig)&& (!ntrig)){ ntrig = 1;i = 0;rtrig = 0;}
if ((i == range) && (!inlet_trig)) {ntrig = 0;;i = 0;}

//copy n chunks of size 'speed'
if (ntrig && (i < block)){ 
	{ 
  for(ii=0;ii<speed;ii++)
  attr_play.array[(i + ii + dst)]= (( attr_preset.array[(i + ii + src)] + (attr_play.array[(i + ii + dst)] * param_splat)) * (!param_clear));
  }
  i += speed;	
}

//copy what's left
if (i == block) rtrig = 1; 

if ((ntrig && rtrig) && (i < (range))){ 
	attr_play.array[(i + dst)]= (( attr_preset.array[(i + src)] + (attr_play.array[(i + dst)] * param_splat)) * (!param_clear));
   i += 1;  
 }
}



//save
else if (inlet_save>0)
{
speed = 1 << 4;
src = 0;
dst = (inlet_snapshot*param_range);
range = param_range;

block  = (range / speed) * speed;

if ((inlet_trig)&& (!ntrig)){ ntrig = 1;i = 0;rtrig = 0;}
if ((i == range) && (!inlet_trig)) {ntrig = 0;i = 0;}

//copy n chunks of size 'speed'
if (ntrig && (i < block)){ 
	{ 
  for(ii=0;ii<speed;ii++)
  attr_preset.array[(i + ii + dst)]= (( attr_play.array[(i + ii + src)] + (attr_preset.array[(i + ii + dst)] * param_splat)) * (!param_clear));
  }
  i += speed;	
}

//copy what's left
if (i == block) rtrig = 1; 

if ((ntrig && rtrig) && (i < (range))){ 
	attr_preset.array[(i + dst)]= (( attr_play.array[(i + src)] + (attr_preset.array[(i + dst)] * param_splat)) * (!param_clear));
   i += 1;  
 }
}]]></code.krate>
      </object>
   </patchobj>
   <obj type="string/c" uuid="4aa90a90c435a742ddfa152d232883fc5b2f1b3" name="c_1" x="3094" y="672">
      <params/>
      <attribs>
         <table attributeName="str" table="/T_abe"/>
      </attribs>
   </obj>
   <patchobj type="patch/object" uuid="27a4893e-93bb-4a7c-b41c-0b02da02cbed" name="keyb_1" x="3304" y="672">
      <params/>
      <attribs/>
      <object id="patch/object" uuid="27a4893e-93bb-4a7c-b41c-0b02da02cbed">
         <sDescription>Monophonic MIDI keyboard note input, gate, velocity and release velocity</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets/>
         <outlets>
            <bool32 name="gate" description="key pressed?"/>
         </outlets>
         <displays/>
         <params/>
         <attribs/>
         <includes/>
         <code.declaration><![CDATA[uint8_t _gate;
int ccv;]]></code.declaration>
         <code.init><![CDATA[_gate = 0;
]]></code.init>
         <code.krate><![CDATA[if (ccv&&_gate){
	outlet_gate=1;
}
else outlet_gate=0;]]></code.krate>
         <code.midihandler><![CDATA[if ((status == MIDI_NOTE_ON + 8) && (data2)) {
	if (data1 == 108) {
   _gate = 1;
}
	if (data1 == 107) {
   ccv = 1;
}
}
 else if (((status == MIDI_NOTE_ON + 8) && (!data2))||          (status == MIDI_NOTE_OFF + 8)) {
  
    _gate = 0;
    ccv=0;
  
}]]></code.midihandler>
      </object>
   </patchobj>
   <obj type="table/save" uuid="3e4108b607d56d9e1cd10abb898b58eea11e53b2" name="save_1" x="3388" y="672">
      <params/>
      <attribs>
         <objref attributeName="table" obj="preset"/>
      </attribs>
   </obj>
   <patchobj type="patch/object" uuid="984e2f32-3e54-40cd-9880-4d0b276f60e4" name="note_5" x="1708" y="686">
      <params/>
      <attribs>
         <spinner attributeName="note" value="0"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="984e2f32-3e54-40cd-9880-4d0b276f60e4">
         <sDescription>Monophonic MIDI keyboard note input, gate, velocity and release velocity</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets/>
         <outlets>
            <bool32 name="gate" description="key pressed?"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="note" MinValue="0" MaxValue="127" DefaultValue="64"/>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[uint8_t _gate;]]></code.declaration>
         <code.init><![CDATA[_gate = 0;]]></code.init>
         <code.krate><![CDATA[outlet_gate= _gate<<27;]]></code.krate>
         <code.midihandler><![CDATA[if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {if (data1 == attr_note) {
   _gate = 1;
}
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (data1 == attr_note) {
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
  _gate = 0;
}]]></code.midihandler>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="86a7900d-9619-43cd-8426-46f1342599ef" name="note_7" x="1834" y="686">
      <params/>
      <attribs>
         <spinner attributeName="note" value="1"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="86a7900d-9619-43cd-8426-46f1342599ef">
         <sDescription>Monophonic MIDI keyboard note input, gate, velocity and release velocity</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets/>
         <outlets>
            <bool32 name="gate" description="key pressed?"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="note" MinValue="0" MaxValue="127" DefaultValue="64"/>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[uint8_t _gate;]]></code.declaration>
         <code.init><![CDATA[_gate = 0;]]></code.init>
         <code.krate><![CDATA[outlet_gate= _gate<<27;]]></code.krate>
         <code.midihandler><![CDATA[if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {if (data1 == attr_note) {
   _gate = 1;
}
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (data1 == attr_note) {
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
  _gate = 0;
}]]></code.midihandler>
      </object>
   </patchobj>
   <obj type="logic/or 2" uuid="3805d3c84d30032a44fbdbe42d9a2988a1790a3e" name="or_10" x="2044" y="686">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/inv" uuid="2bd44b865d3b63ff9b80862242bf5be779e3ad5" name="inv_2" x="2128" y="686">
      <params/>
      <attribs/>
   </obj>
   <comment type="patch/comment" x="1120" y="700" text="sequence record"/>
   <comment type="patch/comment" x="1120" y="714" text="&amp;playback"/>
   <obj type="logic/or 2" uuid="3805d3c84d30032a44fbdbe42d9a2988a1790a3e" name="or_8" x="1022" y="728">
      <params/>
      <attribs/>
   </obj>
   <patchobj type="patch/object" uuid="7a3a8161-0726-4c84-a82f-4bdd527c95eb" name="x_1" x="1120" y="728">
      <params>
         <int32 name="offset" value="0"/>
      </params>
      <attribs>
         <objref attributeName="buffer" obj="temp"/>
         <objref attributeName="table" obj="fred"/>
         <spinner attributeName="startnote" value="36"/>
      </attribs>
      <object id="patch/object" uuid="7a3a8161-0726-4c84-a82f-4bdd527c95eb">
         <sDescription>writes midi controler data to a table.set the start of the range of the controlers to read out with &apos;startcc&apos;,the length of the range with &apos;length&apos;.
the data is written to the table starting at &apos;offset&apos;.</sDescription>
         <author>robert schirmer</author>
         <license>BSD</license>
         <helpPatch>launchpad.axh</helpPatch>
         <rotatedParams>true</rotatedParams>
         <inlets>
            <int32 name="steplay"/>
            <int32 name="steprec"/>
            <int32 name="offset"/>
            <bool32 name="play"/>
            <int32 name="select"/>
            <bool32 name="rec"/>
            <bool32 name="overdub"/>
            <bool32 name="clear"/>
            <bool32.rising name="trig"/>
         </inlets>
         <outlets>
            <frac32 name="v"/>
            <bool32 name="g"/>
            <frac32 name="v2"/>
            <bool32 name="g2"/>
            <frac32 name="v3"/>
            <bool32 name="g3"/>
            <frac32 name="v4"/>
            <bool32 name="g4"/>
            <frac32 name="v5"/>
            <bool32 name="g5"/>
            <frac32 name="v6"/>
            <bool32 name="g6"/>
            <frac32 name="v7"/>
            <bool32 name="g7"/>
            <frac32 name="v8"/>
            <bool32 name="g8"/>
            <frac32 name="v9"/>
            <bool32 name="g9"/>
            <int32 name="dst"/>
            <int32 name="range"/>
         </outlets>
         <displays/>
         <params>
            <int32 name="offset" noLabel="true">
               <MinValue i="0"/>
               <MaxValue i="1000000"/>
            </int32>
         </params>
         <attribs>
            <objref name="buffer"/>
            <objref name="table"/>
            <spinner name="startnote" MinValue="0" MaxValue="127" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int speed;
uint32_t src;
uint32_t dst;
uint32_t range;
uint32_t block;
uint32_t offset;
uint32_t offset2;
uint32_t playoff;
uint32_t recoff;
uint32_t i;
uint32_t ii;
uint32_t iii;
uint32_t iiii;
int Ptrig;
int ntrig;
int ntrig2;
int ntrig3;
int ntrig4;
int ntrig5;
int ntrig6;
int ntrig7;
int ntrig8;
int ntrig9;
int ztrig;
int ztrig2;
int ztrig3;
int ztrig4;
int ztrig5;
int ztrig6;
int ztrig7;
int ztrig8;
int ztrig9;
int ytrig;
int rtrig;
int ytrig2;
int rtrig2;
int splat;
int clear;
int clearB;
int tablevalue;
int tablevalue2;
int tablevalue3;
int tablevalue4;
int tablevalue5;
int tablevalue6;
int tablevalue7;
int tablevalue8;
int tablevalue9;
int offvalue;
int offvalue2;
int offvalue3;
int offvalue4;
int offvalue5;
int offvalue6;
int offvalue7;
int offvalue8;
int offvalue9;
int prev;
int prev2;
int prev3;
int prev4;
int prev5;
int prev6;
int prev7;
int prev8;
int prev9;
int holdv;
int holdv2;
int holdv3;
int holdv4;
int holdv5;
int holdv6;
int holdv7;
int holdv8;
int holdv9;
int prevstep;
int hold;
int hold2;
int hold3;
int hold4;
int hold5;
int hold6;
int hold7;
int hold8;
int hold9;
int holdonv;
int holdonv2;
int holdonv3;
int holdonv4;
int holdonv5;
int holdonv6;
int holdonv7;
int holdonv8;
int holdonv9;
int holdon;
int holdon2;
int holdon3;
int holdon4;
int holdon5;
int holdon6;
int holdon7;
int holdon8;
int holdon9;
int holdoffv;
int holdoffv2;
int holdoffv3;
int holdoffv4;
int holdoffv5;
int holdoffv6;
int holdoffv7;
int holdoffv8;
int holdoffv9;
bool op;
bool op2;
bool op3;
bool op4;
bool op5;
bool op6;
bool op7;
bool op8;
bool op9;
bool opb;
bool opb2;
bool opb3;
bool opb4;
bool opb5;
bool opb6;
bool opb7;
bool opb8;
bool opb9;
bool opC;
bool opC2;
bool opC3;
bool opC4;
bool opC5;
bool opC6;
bool opC7;
bool opC8;
bool opC9;
int8_t cc;
int8_t cc2;
int8_t cc3;
int8_t cc4;
int8_t cc5;
int8_t cc6;
int8_t cc7;
int8_t cc8;
int8_t cc9;
int8_t cv;
int8_t cv2;
int8_t cv3;
int8_t cv4;
int8_t cv5;
int8_t cv6;
int8_t cv7;
int8_t cv8;
int8_t cv9;
int32_t _g;
int32_t _gb;
int32_t _g2;
int32_t _gb2;
int32_t _g3;
int32_t _gb3;
int32_t _g4;
int32_t _gb4;
int32_t _g5;
int32_t _gb5;
int32_t _g6;
int32_t _gb6;
int32_t _g7;
int32_t _gb7;
int32_t _g8;
int32_t _gb8;
int32_t _g9;
int32_t _gb9;]]></code.declaration>
         <code.krate><![CDATA[offset = (inlet_steprec*2) + inlet_offset + param_offset;
playoff = inlet_steplay +inlet_offset + param_offset;

//get table values for buffer to prevent note delete
tablevalue= attr_buffer.array[__USAT((offset),attr_buffer.LENGTHPOW)]<<attr_buffer.GAIN;
tablevalue2= attr_buffer.array[__USAT((128+offset),attr_buffer.LENGTHPOW)]<<attr_buffer.GAIN;
tablevalue3= attr_buffer.array[__USAT((256+offset),attr_buffer.LENGTHPOW)]<<attr_buffer.GAIN;
tablevalue4= attr_buffer.array[__USAT((384+offset),attr_buffer.LENGTHPOW)]<<attr_buffer.GAIN;
tablevalue5= attr_buffer.array[__USAT((512+offset),attr_buffer.LENGTHPOW)]<<attr_buffer.GAIN;
tablevalue6= attr_buffer.array[__USAT((640+offset),attr_buffer.LENGTHPOW)]<<attr_buffer.GAIN;
tablevalue7= attr_buffer.array[__USAT((768+offset),attr_buffer.LENGTHPOW)]<<attr_buffer.GAIN;
tablevalue8= attr_buffer.array[__USAT((896+offset),attr_buffer.LENGTHPOW)]<<attr_buffer.GAIN;
tablevalue9= attr_buffer.array[__USAT((1024+offset),attr_buffer.LENGTHPOW)]<<attr_buffer.GAIN;


//voice 1

//note on recording
if ((_gb>0) && !ntrig){
	ntrig=1;
      attr_buffer.array[offset]= ((cv << 20) >>attr_buffer.GAIN);
   }  
      if (!(_gb>0)) {
   	ntrig=0;
   }
         _gb=_g;

//voice 2

//note on recording
if ((_gb2>0) && !ntrig2){
	ntrig2=1;
      attr_buffer.array[128+offset]= ((cv2 << 20) >>attr_buffer.GAIN);
   }  
      if (!(_gb2>0)) {
   	ntrig2=0;
   }

         _gb2=_g2;

//voice 3
//note on recording
if ((_gb3>0) && !ntrig3){
	ntrig3=1;
      attr_buffer.array[256+offset]= ((cv3 << 20) >>attr_buffer.GAIN);
   }  
      if (!(_gb3>0)) {
   	ntrig3=0;
   }
         _gb3=_g3;
//voice 4

//note on recording
if ((_gb4>0) && !ntrig4){
	ntrig4=1;
      attr_buffer.array[384+offset]= ((cv4 << 20) >>attr_buffer.GAIN);
   }  
      if (!(_gb4>0)) {
   	ntrig4=0;
   }

         _gb4=_g4;

//voice 5

//note on recording
if ((_gb5>0) && !ntrig5){
	ntrig5=1;
      attr_buffer.array[512+offset]= ((cv5 << 20) >>attr_buffer.GAIN);
   }  
      if (!(_gb5>0)) {
   	ntrig5=0;
   }

         _gb5=_g5;

//voice 6
//note on recording
if ((_gb6>0) && !ntrig6){
	ntrig6=1;
      attr_buffer.array[640+offset]= ((cv6 << 20) >>attr_buffer.GAIN);
   }  
      if (!(_gb6>0)) {
   	ntrig6=0;
   }
         _gb6=_g6;

//voice 7

//note on recording
if ((_gb7>0) && !ntrig7){
	ntrig7=1;
      attr_buffer.array[768+offset]= ((cv7 << 20) >>attr_buffer.GAIN);
   }  
      if (!(_gb7>0)) {
   	ntrig7=0;
   }
         _gb7=_g7;

//voice 8

//note on recording
if ((_gb8>0) && !ntrig8){
	ntrig8=1;
      attr_buffer.array[896+offset]= ((cv8 << 20) >>attr_buffer.GAIN);
   }  
      if (!(_gb8>0)) {
   	ntrig8=0;
   }
         _gb8=_g8;

//voice 9
//note on recording
if ((_gb9>0) && !ntrig9){
	ntrig9=1;
      attr_buffer.array[1024+offset]= ((cv9 << 20) >>attr_buffer.GAIN);
   }  
      if (!(_gb9>0)) {
   	ntrig9=0;
   }
         _gb9=_g9;

//playback values
holdv= attr_table.array[__USAT((playoff),attr_table.LENGTHPOW)]<<attr_table.GAIN;
holdv2= attr_table.array[__USAT((128+playoff),attr_table.LENGTHPOW)]<<attr_table.GAIN;
holdv3= attr_table.array[__USAT((256+playoff),attr_table.LENGTHPOW)]<<attr_table.GAIN;
holdv4= attr_table.array[__USAT((384+playoff),attr_table.LENGTHPOW)]<<attr_table.GAIN;
holdv5= attr_table.array[__USAT((512+playoff),attr_table.LENGTHPOW)]<<attr_table.GAIN;
holdv6= attr_table.array[__USAT((640+playoff),attr_table.LENGTHPOW)]<<attr_table.GAIN;
holdv7= attr_table.array[__USAT((768+playoff),attr_table.LENGTHPOW)]<<attr_table.GAIN;
holdv8= attr_table.array[__USAT((896+playoff),attr_table.LENGTHPOW)]<<attr_table.GAIN;
holdv9= attr_table.array[__USAT((1024+playoff),attr_table.LENGTHPOW)]<<attr_table.GAIN;


if (inlet_play){

//hold for onoff combination
	
outlet_g = holdv;

//hold for vel
if ((inlet_steplay != prevstep )&&(holdv > 0 )) { 
     hold = holdv;
     outlet_v = hold;
}
else {
	outlet_v = hold;
}

	
//hold for vel

outlet_g2 = holdv2;

if ((inlet_steplay != prevstep )&&(holdv2 > 0 )) { 
     hold2 = holdv2;
     outlet_v2 = hold2;
}
else {
	outlet_v2 = hold2;
}


//hold for vel

outlet_g3 = holdv3;

if ((inlet_steplay != prevstep )&&(holdv3 > 0 )) { 
     hold3 = holdv3;
     outlet_v3 = hold3;
}
else {
	outlet_v3 = hold3;
}

	
//hold for vel

outlet_g4 = holdv4;

if ((inlet_steplay != prevstep )&&(holdv4 > 0 )) { 
     hold4 = holdv4;
     outlet_v4 = hold4;
}
else {
	outlet_v4 = hold4;
}

	
//hold for vel

outlet_g5 = holdv5;

if ((inlet_steplay != prevstep )&&(holdv5 > 0 )) { 
     hold5 = holdv5;
     outlet_v5 = hold5;
}
else {
	outlet_v5 = hold5;
}


	
//hold for vel
outlet_g6 = holdv6;
if ((inlet_steplay != prevstep )&&(holdv6 > 0 )) { 
     hold6 = holdv6;
     outlet_v6 = hold6;
}
else {
	outlet_v6 = hold6;
}

	
//hold for vel
outlet_g7 = holdv7;
if ((inlet_steplay != prevstep )&&(holdv7 > 0 )) { 
     hold7 = holdv7;
     outlet_v7 = hold7;
}
else {
	outlet_v7 = hold7;
}

//hold for vel
outlet_g8 = holdv8;
if ((inlet_steplay != prevstep )&&(holdv8 > 0 )) { 
     hold8 = holdv8;
     outlet_v8 = hold8;
}
else {
	outlet_v8 = hold8;
}


//hold for vel
outlet_g9 = holdv9;
if ((inlet_steplay != prevstep )&&(holdv9 > 0 )) { 
     hold9 = holdv9;
     outlet_v9 = hold9;
}
else {
	outlet_v9 = hold9;
}
}
else if (!inlet_play){
	outlet_g=0;
	outlet_g2=0;
	outlet_g3=0;
	outlet_g4=0;
	outlet_g5=0;
	outlet_g6=0;
	outlet_g7=0;
	outlet_g8=0;
	outlet_g9=0;
}

prevstep = inlet_steplay;


//buffer handling
speed = 16 << 4;
if (inlet_select==0) {dst=(0+inlet_offset+param_offset);range=1152;}
if (inlet_select==1) {dst=(0+inlet_offset+param_offset);range=384;}
if (inlet_select==2) {dst=(0+inlet_offset+param_offset);range=128;}
if (inlet_select==3) {dst=(128+inlet_offset+param_offset);range=128;}
if (inlet_select==4) {dst=(256+inlet_offset+param_offset);range=128;}
if (inlet_select==5) {dst=(384+inlet_offset+param_offset);range=384;}
if (inlet_select==6) {dst=(384+inlet_offset+param_offset);range=128;}
if (inlet_select==7) {dst=(512+inlet_offset+param_offset);range=128;}
if (inlet_select==8) {dst=(640+inlet_offset+param_offset);range=128;}
if (inlet_select==9) {dst=(768+inlet_offset+param_offset);range=384;}
if (inlet_select==10) {dst=(768+inlet_offset+param_offset);range=128;}
if (inlet_select==11) {dst=(896+inlet_offset+param_offset);range=128;}
if (inlet_select==12) {dst=(1024+inlet_offset+param_offset);range=128;}
outlet_dst=dst;
outlet_range=range;

block  = (range / speed) * speed;


if (inlet_rec){splat=0;clear=0;clearB=0;}
if (inlet_overdub){splat=0; clear=0;clearB=0;}
if (inlet_clear){splat=0;clear=1;clearB=1;}



if ((inlet_trig)&& (!ytrig)){ytrig = 1;i = 0;rtrig = 0;}
if ((i == range) && (!inlet_trig)) {ytrig = 0;i = 0;}



if (ytrig && (i < block)){ 
	{ 
  for(ii=0;ii<speed;ii++)
  attr_table.array[(i + ii + dst)]= (( attr_buffer.array[(i + ii + dst)] + (attr_table.array[(i + ii + dst)] * splat)) * (!clear));
  }
  i += speed;	
}
if (i == block) rtrig = 1; 

if ((ytrig && rtrig) && (i < (range))){ 
	attr_table.array[(i + dst)]= (( attr_buffer.array[(i + dst)] + (attr_table.array[(i + dst)] * splat)) * (!clear));
   i += 1;  
 }

//next
if ((inlet_trig)&& (!ytrig2)){ ytrig2 = 1;iii = 0;rtrig2 = 0;}
if ((iii == range) && (!inlet_trig)) {ytrig2 = 0;iii = 0;}

if (ytrig2 && (iii < block)){ 
	{ 
  for(iiii=0;iiii<speed;iiii++)
  attr_buffer.array[(iii + iiii + dst)]= (( attr_table.array[(iii + iiii + dst)] + (attr_buffer.array[(iii + iiii + dst)] * splat)) * (!clearB));
  }
  iii += speed;	
}
if (iii == block) rtrig2 = 1; 

if ((ytrig2 && rtrig2) && (iii < (range))){ 
	attr_buffer.array[(iii + dst)]= (( attr_table.array[(iii + dst)] + (attr_buffer.array[(iii + dst)] * splat)) * (!clearB));
   iii += 1;  
 }]]></code.krate>
         <code.midihandler><![CDATA[if ((status == MIDI_NOTE_ON + attr_midichannel)&&(data1==37))
{cc = data1;cv = data2;_g = 64;_gb = 0;}
else if ((status == MIDI_NOTE_OFF + attr_midichannel)&&(data1==37)) {
  if (data1==cc) {
    _g = 0;
  }}
  
if ((status == MIDI_NOTE_ON + attr_midichannel)&&(data1==38))
{cc2 = data1;cv2 = data2;_g2 = 64;_gb2 = 0;}
else if ((status == MIDI_NOTE_OFF + attr_midichannel)&&(data1==38)) {
  if (data1==cc2) {
    _g2 = 0;
  }}

if ((status == MIDI_NOTE_ON + attr_midichannel)&&((data1==39)||(data1==36)))
{cc3 = data1;cv3 = data2;_g3 = 64;_gb3 = 0;}
else if ((status == MIDI_NOTE_OFF + attr_midichannel)&&((data1==39)||(data1==36))) {
  if (data1==cc3) {
    _g3 = 0;
  }}

if ((status == MIDI_NOTE_ON + attr_midichannel)&&(data1==41))
{cc4 = data1;cv4 = data2;_g4 = 64;_gb4 = 0;}
else if ((status == MIDI_NOTE_OFF + attr_midichannel)&&(data1==41)) {
  if (data1==cc4) {
    _g4 = 0;
  }}

if ((status == MIDI_NOTE_ON + attr_midichannel)&&(data1==42))
{cc5 = data1;cv5 = data2;_g5 = 64;_gb5 = 0;}
else if ((status == MIDI_NOTE_OFF + attr_midichannel)&&(data1==42)) {
  if (data1==cc5) {
    _g5 = 0;
  }}

if ((status == MIDI_NOTE_ON + attr_midichannel)&&((data1==43)||(data1==40)))
{cc6 = data1;cv6 = data2;_g6 = 64;_gb6 = 0;}
else if ((status == MIDI_NOTE_OFF + attr_midichannel)&&((data1==43)||(data1==40))) {
  if (data1==cc6) {
    _g6 = 0;
  }}

if ((status == MIDI_NOTE_ON + attr_midichannel)&&(data1==45))
{cc7 = data1;cv7 = data2;_g7 = 64;_gb7 = 0;}
else if ((status == MIDI_NOTE_OFF + attr_midichannel)&&(data1==45)) {
  if (data1==cc7) {
    _g7 = 0;
  }}

if ((status == MIDI_NOTE_ON + attr_midichannel)&&(data1==46))
{cc8 = data1;cv8 = data2;_g8 = 64;_gb8 = 0;}
else if ((status == MIDI_NOTE_OFF + attr_midichannel)&&(data1==46)) {
  if (data1==cc8) {
    _g8 = 0;
  }}

if ((status == MIDI_NOTE_ON + attr_midichannel)&&((data1==47)||(data1==44)))
{cc9 = data1;cv9 = data2;_g9 = 64;_gb9 = 0;}
else if ((status == MIDI_NOTE_OFF + attr_midichannel)&&((data1==47)||(data1==44))) {
  if (data1==cc9) {
    _g9 = 0;
  }}]]></code.midihandler>
      </object>
   </patchobj>
   <comment type="patch/comment" x="1470" y="742" text="mpd fader settings"/>
   <obj type="ctrl/i" uuid="a3786816db6ea5bc6ac4193a5cccdb2c83b83496" name="i_4" x="1470" y="756">
      <params>
         <int32 name="value" value="1200"/>
      </params>
      <attribs/>
   </obj>
   <comment type="patch/comment" x="2478" y="756" text="mpd fader shift"/>
   <obj type="ctrl/i" uuid="a3786816db6ea5bc6ac4193a5cccdb2c83b83496" name="i_8" x="2492" y="770">
      <params>
         <int32 name="value" value="1220"/>
      </params>
      <attribs/>
   </obj>
   <comment type="patch/comment" x="2058" y="798" text="mpd button settings  for pitch automation"/>
   <obj type="rbrt/midi/in/poly cc 8 FULL" uuid="22ec1529-b131-4e0d-87f2-32998301c713" name="poly_1" x="1344" y="812">
      <params>
         <int32 name="startcc" value="57"/>
      </params>
      <attribs/>
   </obj>
   <patchobj type="patch/object" uuid="2af2f319-160f-4b17-bce0-21073956284a" name="tablestore_1" x="1498" y="812">
      <params/>
      <attribs>
         <objref attributeName="table" obj="fred"/>
      </attribs>
      <object id="patch/object" uuid="2af2f319-160f-4b17-bce0-21073956284a">
         <sDescription>writes and outputs 8 values to a table.</sDescription>
         <author>robert schirmer</author>
         <license>who cares</license>
         <inlets>
            <frac32 name="v0"/>
            <frac32 name="v1"/>
            <frac32 name="v2"/>
            <frac32 name="v3"/>
            <frac32 name="v4"/>
            <frac32 name="v5"/>
            <frac32 name="v6"/>
            <frac32 name="v7"/>
            <int32 name="offset" description="sets an offset for writing to the table"/>
            <bool32.risingfalling name="write" description="if &apos;write&apos; is set to on and an input is changed,the value is stored at the input&apos;s index plus the &apos;offset&apos;and passed to the output."/>
            <bool32.risingfalling name="thru" description="if &apos;thru&apos; is on,the input is passed through to the respective output without being stored."/>
         </inlets>
         <outlets>
            <frac32 name="v0"/>
            <frac32 name="v1"/>
            <frac32 name="v2"/>
            <frac32 name="v3"/>
            <frac32 name="v4"/>
            <frac32 name="v5"/>
            <frac32 name="v6"/>
            <frac32 name="v7"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <objref name="table"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[uint32_t prev0;
      uint32_t prev1;
         uint32_t prev2;
      uint32_t prev3;
       uint32_t prev4;
      uint32_t prev5;
         uint32_t prev6;
      uint32_t prev7;]]></code.declaration>
         <code.init><![CDATA[prev0 = 0;
prev1 = 0;
prev2 = 0;
prev3 = 0;
prev4 = 0;
prev5 = 0;
prev6 = 0;
prev7 = 0;]]></code.init>
         <code.krate><![CDATA[
if (!inlet_write){
	prev0=inlet_v0;
	prev1=inlet_v1;
	prev2=inlet_v2;
	prev3=inlet_v3;
	prev4=inlet_v4;
	prev5=inlet_v5;
	prev6=inlet_v6;
	prev7=inlet_v7;
}

if ((inlet_v0 != prev0)&& (inlet_write)){
attr_table.array[inlet_offset + 0]=__SSAT(inlet_v0,28)>>attr_table.GAIN;
outlet_v0= attr_table.array[__USAT((inlet_offset + 0),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev0 = inlet_v0;
}
else {outlet_v0= attr_table.array[__USAT((inlet_offset + 0),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v0 = inlet_v0;}

if ((inlet_v1 != prev1)&& (inlet_write)){
attr_table.array[inlet_offset + 1]=__SSAT(inlet_v1,28)>>attr_table.GAIN;
outlet_v1= attr_table.array[__USAT((inlet_offset + 1),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev1 = inlet_v1;
}
else {outlet_v1= attr_table.array[__USAT((inlet_offset + 1),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v1 = inlet_v1;}

if ((inlet_v2 != prev2)&& (inlet_write)){
attr_table.array[inlet_offset + 2]=__SSAT(inlet_v2,28)>>attr_table.GAIN;
outlet_v2= attr_table.array[__USAT((inlet_offset + 2),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev2 = inlet_v2;
}
else {outlet_v2= attr_table.array[__USAT((inlet_offset + 2),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v2 = inlet_v2;}

if ((inlet_v3 != prev3)&& (inlet_write)){
attr_table.array[inlet_offset + 3]=__SSAT(inlet_v3,28)>>attr_table.GAIN;
outlet_v3= attr_table.array[__USAT((inlet_offset + 3),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev3 = inlet_v3;
}
else {outlet_v3= attr_table.array[__USAT((inlet_offset + 3),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v3 = inlet_v3;}

if ((inlet_v4 != prev4)&& (inlet_write)){
attr_table.array[inlet_offset + 4]=__SSAT(inlet_v4,28)>>attr_table.GAIN;
outlet_v4= attr_table.array[__USAT((inlet_offset + 4),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev4 = inlet_v4;
}
else {outlet_v4= attr_table.array[__USAT((inlet_offset + 4),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v4 = inlet_v4;}

if ((inlet_v5 != prev5)&& (inlet_write)){
attr_table.array[inlet_offset + 5]=__SSAT(inlet_v5,28)>>attr_table.GAIN;
outlet_v5= attr_table.array[__USAT((inlet_offset + 5),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev5 = inlet_v5;
}
else {outlet_v5= attr_table.array[__USAT((inlet_offset + 5),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v5 = inlet_v5;}

if ((inlet_v6 != prev6)&& (inlet_write)){
attr_table.array[inlet_offset + 6]=__SSAT(inlet_v6,28)>>attr_table.GAIN;
outlet_v6= attr_table.array[__USAT((inlet_offset + 6),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev6 = inlet_v6;
}
else {outlet_v6= attr_table.array[__USAT((inlet_offset + 6),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v6 = inlet_v6;}

if ((inlet_v7 != prev7)&& (inlet_write)){
attr_table.array[inlet_offset + 7]=__SSAT(inlet_v7,28)>>attr_table.GAIN;
outlet_v7= attr_table.array[__USAT((inlet_offset + 7),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev7 = inlet_v7;
}
else {outlet_v7= attr_table.array[__USAT((inlet_offset + 7),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v7 = inlet_v7;}



]]></code.krate>
      </object>
   </patchobj>
   <obj type="sss/math/8x smooth" uuid="25534188-95f4-4c0a-8bc0-08b96998bf2e" name="8x_1" x="1638" y="812">
      <params>
         <frac32.u.map name="time" value="40.0"/>
      </params>
      <attribs/>
   </obj>
   <obj type="ctrl/i" uuid="a3786816db6ea5bc6ac4193a5cccdb2c83b83496" name="i_10" x="1876" y="812">
      <params>
         <int32 name="value" value="1210"/>
      </params>
      <attribs/>
   </obj>
   <patchobj type="patch/object" uuid="74728b85-9d45-4dd0-baae-20e5023d2d95" name="launch_11" x="1946" y="812">
      <params/>
      <attribs/>
      <object id="patch/object" uuid="74728b85-9d45-4dd0-baae-20e5023d2d95">
         <sDescription>Monophonic MIDI keyboard note input, gate, velocity and release velocity</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets/>
         <outlets>
            <bool32 name="button1" description="key pressed?"/>
            <bool32 name="button2"/>
            <bool32 name="button3"/>
            <bool32 name="button4"/>
         </outlets>
         <displays/>
         <params/>
         <attribs/>
         <includes/>
         <code.declaration><![CDATA[uint8_t _gate1;
uint8_t _gate2;
uint8_t _gate3;
uint8_t _gate4;]]></code.declaration>
         <code.init><![CDATA[_gate1 = 1;
_gate2 = 1;
_gate3 = 1;
_gate4 = 0;]]></code.init>
         <code.krate><![CDATA[outlet_button1= _gate1<<27;
outlet_button2= _gate2<<27;
outlet_button3= _gate3<<27;
outlet_button4= _gate4<<27;]]></code.krate>
         <code.midihandler><![CDATA[if ((status == MIDI_NOTE_ON + attr_midichannel) && (data2)) 
{
	
if (data1 == 4) 
{
   _gate1 = 0;
}

if (data1 == 5) 
{
   _gate2 = 0;
}

if (data1 == 6) 
{
   _gate3 = 0;
}

if (data1 == 7) 
{
   _gate4 = 1;
}

}
else if (((status == MIDI_NOTE_ON + attr_midichannel) && (!data2))||          (status == MIDI_NOTE_OFF + attr_midichannel)) {
	
if (data1 == 4) 
{
   _gate1 = 1;
}

if (data1 == 5) 
{
   _gate2 = 1;
}

if (data1 == 6) 
{
   _gate3 = 1;
}

if (data1 == 7) 
{
   _gate4 = 0;
}


}]]></code.midihandler>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="b4e8e8aa-a6b9-4595-9cf4-ca63a97d799e" name="tablestore_2" x="2030" y="812">
      <params/>
      <attribs>
         <objref attributeName="table" obj="fred"/>
      </attribs>
      <object id="patch/object" uuid="b4e8e8aa-a6b9-4595-9cf4-ca63a97d799e">
         <sDescription>writes and outputs 4 values to a table.</sDescription>
         <author>robert schirmer</author>
         <license>who cares</license>
         <inlets>
            <frac32 name="v0"/>
            <frac32 name="v1"/>
            <frac32 name="v2"/>
            <int32 name="offset" description="sets an offset for writing to the table"/>
         </inlets>
         <outlets>
            <frac32 name="v0"/>
            <frac32 name="v1"/>
            <frac32 name="v2"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <objref name="table"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[uint32_t prev0;
      uint32_t prev1;
         uint32_t prev2;]]></code.declaration>
         <code.init><![CDATA[prev0 = 0;
prev1 = 0;
prev2 = 0;]]></code.init>
         <code.krate><![CDATA[if (inlet_v0 != prev0){
attr_table.array[inlet_offset + 0]=__SSAT(inlet_v0,28)>>attr_table.GAIN;
outlet_v0= attr_table.array[__USAT((inlet_offset + 0),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev0 = inlet_v0;
}
else {outlet_v0= attr_table.array[__USAT((inlet_offset + 0),attr_table.LENGTHPOW)]<<attr_table.GAIN;}

if (inlet_v1 != prev1){
attr_table.array[inlet_offset + 1]=__SSAT(inlet_v1,28)>>attr_table.GAIN;
outlet_v1= attr_table.array[__USAT((inlet_offset + 1),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev1 = inlet_v1;
}
else {outlet_v1= attr_table.array[__USAT((inlet_offset + 1),attr_table.LENGTHPOW)]<<attr_table.GAIN;}

if (inlet_v2 != prev2){
attr_table.array[inlet_offset + 2]=__SSAT(inlet_v2,28)>>attr_table.GAIN;
outlet_v2= attr_table.array[__USAT((inlet_offset + 2),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev2 = inlet_v2;
}
else {outlet_v2= attr_table.array[__USAT((inlet_offset + 2),attr_table.LENGTHPOW)]<<attr_table.GAIN;}]]></code.krate>
      </object>
   </patchobj>
   <obj type="rbrt/data/tcopy" uuid="d4c37687-69fd-442f-b560-b32c25224396" name="tcopy_3" x="2170" y="812">
      <params>
         <int32 name="src" value="1300"/>
         <int32 name="dst" value="1300"/>
         <int32 name="range" value="400"/>
         <bool32.tgl name="splat" value="0"/>
         <bool32.tgl name="clear" value="1"/>
      </params>
      <attribs>
         <objref attributeName="src" obj="fred"/>
         <objref attributeName="dst" obj="fred"/>
         <spinner attributeName="speed" value="1"/>
      </attribs>
   </obj>
   <obj type="rbrt/midi/in/poly cc 8 FULL" uuid="22ec1529-b131-4e0d-87f2-32998301c713" name="poly_2" x="2394" y="826">
      <params>
         <int32 name="startcc" value="57"/>
      </params>
      <attribs/>
   </obj>
   <patchobj type="patch/object" uuid="2af2f319-160f-4b17-bce0-21073956284a" name="tablestore_3" x="2548" y="826">
      <params/>
      <attribs>
         <objref attributeName="table" obj="fred"/>
      </attribs>
      <object id="patch/object" uuid="2af2f319-160f-4b17-bce0-21073956284a">
         <sDescription>writes and outputs 8 values to a table.</sDescription>
         <author>robert schirmer</author>
         <license>who cares</license>
         <inlets>
            <frac32 name="v0"/>
            <frac32 name="v1"/>
            <frac32 name="v2"/>
            <frac32 name="v3"/>
            <frac32 name="v4"/>
            <frac32 name="v5"/>
            <frac32 name="v6"/>
            <frac32 name="v7"/>
            <int32 name="offset" description="sets an offset for writing to the table"/>
            <bool32.risingfalling name="write" description="if &apos;write&apos; is set to on and an input is changed,the value is stored at the input&apos;s index plus the &apos;offset&apos;and passed to the output."/>
            <bool32.risingfalling name="thru" description="if &apos;thru&apos; is on,the input is passed through to the respective output without being stored."/>
         </inlets>
         <outlets>
            <frac32 name="v0"/>
            <frac32 name="v1"/>
            <frac32 name="v2"/>
            <frac32 name="v3"/>
            <frac32 name="v4"/>
            <frac32 name="v5"/>
            <frac32 name="v6"/>
            <frac32 name="v7"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <objref name="table"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[uint32_t prev0;
      uint32_t prev1;
         uint32_t prev2;
      uint32_t prev3;
       uint32_t prev4;
      uint32_t prev5;
         uint32_t prev6;
      uint32_t prev7;]]></code.declaration>
         <code.init><![CDATA[prev0 = 0;
prev1 = 0;
prev2 = 0;
prev3 = 0;
prev4 = 0;
prev5 = 0;
prev6 = 0;
prev7 = 0;]]></code.init>
         <code.krate><![CDATA[
if (!inlet_write){
	prev0=inlet_v0;
	prev1=inlet_v1;
	prev2=inlet_v2;
	prev3=inlet_v3;
	prev4=inlet_v4;
	prev5=inlet_v5;
	prev6=inlet_v6;
	prev7=inlet_v7;
}

if ((inlet_v0 != prev0)&& (inlet_write)){
attr_table.array[inlet_offset + 0]=__SSAT(inlet_v0,28)>>attr_table.GAIN;
outlet_v0= attr_table.array[__USAT((inlet_offset + 0),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev0 = inlet_v0;
}
else {outlet_v0= attr_table.array[__USAT((inlet_offset + 0),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v0 = inlet_v0;}

if ((inlet_v1 != prev1)&& (inlet_write)){
attr_table.array[inlet_offset + 1]=__SSAT(inlet_v1,28)>>attr_table.GAIN;
outlet_v1= attr_table.array[__USAT((inlet_offset + 1),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev1 = inlet_v1;
}
else {outlet_v1= attr_table.array[__USAT((inlet_offset + 1),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v1 = inlet_v1;}

if ((inlet_v2 != prev2)&& (inlet_write)){
attr_table.array[inlet_offset + 2]=__SSAT(inlet_v2,28)>>attr_table.GAIN;
outlet_v2= attr_table.array[__USAT((inlet_offset + 2),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev2 = inlet_v2;
}
else {outlet_v2= attr_table.array[__USAT((inlet_offset + 2),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v2 = inlet_v2;}

if ((inlet_v3 != prev3)&& (inlet_write)){
attr_table.array[inlet_offset + 3]=__SSAT(inlet_v3,28)>>attr_table.GAIN;
outlet_v3= attr_table.array[__USAT((inlet_offset + 3),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev3 = inlet_v3;
}
else {outlet_v3= attr_table.array[__USAT((inlet_offset + 3),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v3 = inlet_v3;}

if ((inlet_v4 != prev4)&& (inlet_write)){
attr_table.array[inlet_offset + 4]=__SSAT(inlet_v4,28)>>attr_table.GAIN;
outlet_v4= attr_table.array[__USAT((inlet_offset + 4),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev4 = inlet_v4;
}
else {outlet_v4= attr_table.array[__USAT((inlet_offset + 4),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v4 = inlet_v4;}

if ((inlet_v5 != prev5)&& (inlet_write)){
attr_table.array[inlet_offset + 5]=__SSAT(inlet_v5,28)>>attr_table.GAIN;
outlet_v5= attr_table.array[__USAT((inlet_offset + 5),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev5 = inlet_v5;
}
else {outlet_v5= attr_table.array[__USAT((inlet_offset + 5),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v5 = inlet_v5;}

if ((inlet_v6 != prev6)&& (inlet_write)){
attr_table.array[inlet_offset + 6]=__SSAT(inlet_v6,28)>>attr_table.GAIN;
outlet_v6= attr_table.array[__USAT((inlet_offset + 6),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev6 = inlet_v6;
}
else {outlet_v6= attr_table.array[__USAT((inlet_offset + 6),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v6 = inlet_v6;}

if ((inlet_v7 != prev7)&& (inlet_write)){
attr_table.array[inlet_offset + 7]=__SSAT(inlet_v7,28)>>attr_table.GAIN;
outlet_v7= attr_table.array[__USAT((inlet_offset + 7),attr_table.LENGTHPOW)]<<attr_table.GAIN;
prev7 = inlet_v7;
}
else {outlet_v7= attr_table.array[__USAT((inlet_offset + 7),attr_table.LENGTHPOW)]<<attr_table.GAIN;}
if (inlet_thru){outlet_v7 = inlet_v7;}



]]></code.krate>
      </object>
   </patchobj>
   <comment type="patch/comment" x="336" y="924" text="record light"/>
   <obj type="logic/counter" uuid="7a141ba82230e54e5f5cd12da5dbe5a74ba854a5" name="counter_6" x="336" y="938">
      <params>
         <int32 name="maximum" value="2"/>
      </params>
      <attribs/>
   </obj>
   <patchobj type="patch/object" uuid="544e8368-7226-45bb-acb9-b83b8a6870d8" name="or_7" x="420" y="938">
      <params/>
      <attribs/>
      <object id="patch/object" uuid="544e8368-7226-45bb-acb9-b83b8a6870d8">
         <sDescription>logic OR with 4 inputs</sDescription>
         <author>Alex</author>
         <license>BSD</license>
         <helpPatch>logic.axh</helpPatch>
         <inlets>
            <bool32 name="i1" description="input 1"/>
            <bool32 name="i2" description="input 2"/>
            <bool32 name="i3" description="input 1"/>
         </inlets>
         <outlets>
            <bool32 name="o" description="output"/>
         </outlets>
         <displays/>
         <params/>
         <attribs/>
         <includes/>
         <code.krate><![CDATA[outlet_o = (inlet_i1)||(inlet_i2)||(inlet_i3);]]></code.krate>
      </object>
   </patchobj>
   <obj type="logic/flipflop toggle" uuid="195e489e5fc3d275944b0de56c7a91c8641ea22a" name="flipflop_3" x="490" y="938">
      <params/>
      <attribs/>
   </obj>
   <obj type="logic/or 2" uuid="3805d3c84d30032a44fbdbe42d9a2988a1790a3e" name="or_6" x="616" y="938">
      <params/>
      <attribs/>
   </obj>
   <obj type="ctrl/i" uuid="a3786816db6ea5bc6ac4193a5cccdb2c83b83496" name="i_6" x="1778" y="994">
      <params>
         <int32 name="value" value="1400"/>
      </params>
      <attribs/>
   </obj>
   <obj type="ctrl/i" uuid="a3786816db6ea5bc6ac4193a5cccdb2c83b83496" name="i_7" x="2296" y="994">
      <params>
         <int32 name="value" value="1500"/>
      </params>
      <attribs/>
   </obj>
   <obj type="ctrl/i" uuid="a3786816db6ea5bc6ac4193a5cccdb2c83b83496" name="i_5" x="1274" y="1036">
      <params>
         <int32 name="value" value="1300"/>
      </params>
      <attribs/>
   </obj>
   <comment type="patch/comment" x="1330" y="1050" text=" kick ppitch automation"/>
   <comment type="patch/comment" x="1834" y="1050" text="snare pitch automation"/>
   <comment type="patch/comment" x="2380" y="1050" text="hats pitch sutomation"/>
   <comment type="patch/comment" x="2904" y="1062" text="mute pad input when press shift buttons"/>
   <obj type="rbrt/seq/step write" uuid="9e1a10c4-8819-4528-99bc-598d3dee1a7e" name="step_1" x="1330" y="1064">
      <params>
         <int32 name="offset" value="0"/>
      </params>
      <attribs>
         <objref attributeName="table" obj="fred"/>
      </attribs>
   </obj>
   <obj type="rbrt/seq/step read" uuid="b1f7ea1e-9c45-44ff-8088-aa839d65d0d2" name="step_38" x="1470" y="1064">
      <params>
         <int32 name="offset" value="0"/>
      </params>
      <attribs>
         <objref attributeName="table" obj="fred"/>
      </attribs>
   </obj>
   <patchobj type="patch/object" uuid="99333c77-84ae-4f61-bec9-ff7cfa4608cc" name="scale_1" x="1610" y="1064">
      <params>
         <frac32.u.map name="a" value="20.0"/>
         <frac32.u.map name="b" value="50.0"/>
      </params>
      <attribs/>
      <object id="patch/object" uuid="99333c77-84ae-4f61-bec9-ff7cfa4608cc">
         <sDescription>Maps 0..64 to a..b</sDescription>
         <author>Johannes Elliesen</author>
         <license>BSD</license>
         <inlets>
            <frac32.positive name="c" description="control"/>
         </inlets>
         <outlets>
            <frac32 name="o" description="output"/>
         </outlets>
         <displays/>
         <params>
            <frac32.u.map name="a"/>
            <frac32.u.map name="b"/>
         </params>
         <attribs/>
         <includes/>
         <code.krate><![CDATA[{
      int64_t a = (int64_t)param_b * inlet_c;
      a += (int64_t)param_a * ((128<<20)-inlet_c);
      outlet_o= a>>27;
   }]]></code.krate>
      </object>
   </patchobj>
   <obj type="conv/unipolar2bipolar" uuid="efc8ee28c508740c5edf7995eaaa07a6d6818e5e" name="unipolar2bipolar_1" x="1680" y="1064">
      <params/>
      <attribs/>
   </obj>
   <obj type="rbrt/seq/step write" uuid="9e1a10c4-8819-4528-99bc-598d3dee1a7e" name="step_2" x="1834" y="1064">
      <params>
         <int32 name="offset" value="0"/>
      </params>
      <attribs>
         <objref attributeName="table" obj="fred"/>
      </attribs>
   </obj>
   <obj type="rbrt/seq/step read" uuid="b1f7ea1e-9c45-44ff-8088-aa839d65d0d2" name="step_40" x="1974" y="1064">
      <params>
         <int32 name="offset" value="0"/>
      </params>
      <attribs>
         <objref attributeName="table" obj="fred"/>
      </attribs>
   </obj>
   <patchobj type="patch/object" uuid="09b6faff-3a15-4d7d-a840-acdd17dfaa72" name="scale_2" x="2114" y="1064">
      <params>
         <frac32.u.map name="a" value="20.0"/>
         <frac32.u.map name="b" value="50.0"/>
      </params>
      <attribs/>
      <object id="patch/object" uuid="09b6faff-3a15-4d7d-a840-acdd17dfaa72">
         <sDescription>Maps 0..64 to a..b</sDescription>
         <author>Johannes Elliesen</author>
         <license>BSD</license>
         <inlets>
            <frac32.positive name="c" description="control"/>
         </inlets>
         <outlets>
            <frac32 name="o" description="output"/>
         </outlets>
         <displays/>
         <params>
            <frac32.u.map name="a"/>
            <frac32.u.map name="b"/>
         </params>
         <attribs/>
         <includes/>
         <code.krate><![CDATA[{
      int64_t a = (int64_t)param_b * inlet_c;
      a += (int64_t)param_a * ((128<<20)-inlet_c);
      outlet_o= a>>27;
   }]]></code.krate>
      </object>
   </patchobj>
   <obj type="conv/unipolar2bipolar" uuid="efc8ee28c508740c5edf7995eaaa07a6d6818e5e" name="unipolar2bipolar_2" x="2198" y="1064">
      <params/>
      <attribs/>
   </obj>
   <obj type="rbrt/seq/step write" uuid="9e1a10c4-8819-4528-99bc-598d3dee1a7e" name="step_3" x="2380" y="1064">
      <params>
         <int32 name="offset" value="0"/>
      </params>
      <attribs>
         <objref attributeName="table" obj="fred"/>
      </attribs>
   </obj>
   <obj type="rbrt/seq/step read" uuid="b1f7ea1e-9c45-44ff-8088-aa839d65d0d2" name="step_42" x="2520" y="1064">
      <params>
         <int32 name="offset" value="0"/>
      </params>
      <attribs>
         <objref attributeName="table" obj="fred"/>
      </attribs>
   </obj>
   <patchobj type="patch/object" uuid="dcfc7558-d788-4e47-8004-e58995b63b13" name="scale_3" x="2660" y="1064">
      <params>
         <frac32.u.map name="a" value="14.0"/>
         <frac32.u.map name="b" value="44.0"/>
      </params>
      <attribs/>
      <object id="patch/object" uuid="dcfc7558-d788-4e47-8004-e58995b63b13">
         <sDescription>Maps 0..64 to a..b</sDescription>
         <author>Johannes Elliesen</author>
         <license>BSD</license>
         <inlets>
            <frac32.positive name="c" description="control"/>
         </inlets>
         <outlets>
            <frac32 name="o" description="output"/>
         </outlets>
         <displays/>
         <params>
            <frac32.u.map name="a"/>
            <frac32.u.map name="b"/>
         </params>
         <attribs/>
         <includes/>
         <code.krate><![CDATA[{
      int64_t a = (int64_t)param_b * inlet_c;
      a += (int64_t)param_a * ((128<<20)-inlet_c);
      outlet_o= a>>27;
   }]]></code.krate>
      </object>
   </patchobj>
   <obj type="conv/unipolar2bipolar" uuid="efc8ee28c508740c5edf7995eaaa07a6d6818e5e" name="unipolar2bipolar_3" x="2744" y="1064">
      <params/>
      <attribs/>
   </obj>
   <obj type="ctrl/dial p" uuid="cc5d2846c3d50e425f450c4b9851371b54f4d674" name="dial_2" x="490" y="1078">
      <params>
         <frac32.u.map name="value" value="3.0"/>
      </params>
      <attribs/>
   </obj>
   <obj type="ctrl/dial b" uuid="862e7d7f29093cb1ce4aed72244d118ad4d46692" name="dial_1" x="574" y="1078">
      <params>
         <frac32.s.map name="value" value="44.0"/>
      </params>
      <attribs/>
   </obj>
   <comment type="patch/comment" x="700" y="1078" text="recording light to laucnh control xl"/>
   <patchobj type="patch/object" uuid="1c4e99c7-9206-4b14-ab56-4902a2e93647" name="trevort2_4" x="2898" y="1078">
      <params/>
      <attribs>
         <spinner attributeName="Note" value="50"/>
         <spinner attributeName="yeah" value="51"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="1c4e99c7-9206-4b14-ab56-4902a2e93647">
         <sDescription>Monophonic MIDI keyboard note input. Only responding to a single note, with polyphonic aftertouch and gate output</sDescription>
         <author>Remco van der Most</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets/>
         <outlets>
            <bool32 name="gate"/>
            <frac32.positive name="velocity"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="Note" MinValue="0" MaxValue="127" DefaultValue="0"/>
            <spinner name="yeah" MinValue="0" MaxValue="127" DefaultValue="0"/>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="1"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int8_t _note;
uint8_t _gate;
uint8_t _velo;
uint8_t _rvelo;]]></code.declaration>
         <code.init><![CDATA[_gate = 0;
_note = 0;]]></code.init>
         <code.krate><![CDATA[outlet_gate=_gate<<27;
outlet_velocity= _velo<<20;]]></code.krate>
         <code.midihandler><![CDATA[if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {
  if ((data1 == attr_Note)||(data1 == attr_yeah)) {
    _velo = data2;
    _note = data1-64;
    _gate = 1;
  }
    
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (_note == data1-64) {
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
   _gate = 0;
}]]></code.midihandler>
      </object>
   </patchobj>
   <obj type="logic/inv" uuid="2bd44b865d3b63ff9b80862242bf5be779e3ad5" name="inv_1" x="2996" y="1078">
      <params/>
      <attribs/>
   </obj>
   <obj type="midi/out/note" uuid="a76ae870da278cbbce5501a57ce7bd0e0ea4215c" name="note_1" x="700" y="1092">
      <params/>
      <attribs>
         <combo attributeName="device" selection="usb host port 1"/>
         <spinner attributeName="channel" value="9"/>
      </attribs>
   </obj>
   <comment type="patch/comment" x="1526" y="1246" text="//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////sequencer midi out /////////////////////////////////////////////////////////////////////////////////////////////////"/>
   <patchobj type="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df" name="note_8" x="1526" y="1260">
      <params>
         <int32 name="note" value="37"/>
      </params>
      <attribs>
         <combo attributeName="device" selection="internal port 1"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df">
         <sDescription>Midi note output</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_out.axh</helpPatch>
         <inlets>
            <frac32.positive name="velo" description="velocity"/>
            <bool32.rising name="trig" description="trigger"/>
         </inlets>
         <outlets/>
         <displays/>
         <params>
            <int32 name="note">
               <MinValue i="0"/>
               <MaxValue i="128"/>
            </int32>
         </params>
         <attribs>
            <combo name="device">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int ntrig;
int lastnote;]]></code.declaration>
         <code.init><![CDATA[ntrig=0;]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig>0) && !ntrig) {
lastnote = param_note;
MidiSend3((midi_device_t) attr_device, MIDI_NOTE_ON + (attr_channel-1),lastnote,inlet_velo>>20);  ntrig=1;
}
if (!(inlet_trig>0) && ntrig) {MidiSend3((midi_device_t) attr_device, MIDI_NOTE_OFF + (attr_channel-1),lastnote,__USAT(inlet_velo>>20,7)); ntrig=0;}]]></code.krate>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df" name="note_9" x="1680" y="1260">
      <params>
         <int32 name="note" value="38"/>
      </params>
      <attribs>
         <combo attributeName="device" selection="internal port 1"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df">
         <sDescription>Midi note output</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_out.axh</helpPatch>
         <inlets>
            <frac32.positive name="velo" description="velocity"/>
            <bool32.rising name="trig" description="trigger"/>
         </inlets>
         <outlets/>
         <displays/>
         <params>
            <int32 name="note">
               <MinValue i="0"/>
               <MaxValue i="128"/>
            </int32>
         </params>
         <attribs>
            <combo name="device">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int ntrig;
int lastnote;]]></code.declaration>
         <code.init><![CDATA[ntrig=0;]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig>0) && !ntrig) {
lastnote = param_note;
MidiSend3((midi_device_t) attr_device, MIDI_NOTE_ON + (attr_channel-1),lastnote,inlet_velo>>20);  ntrig=1;
}
if (!(inlet_trig>0) && ntrig) {MidiSend3((midi_device_t) attr_device, MIDI_NOTE_OFF + (attr_channel-1),lastnote,__USAT(inlet_velo>>20,7)); ntrig=0;}]]></code.krate>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df" name="note_10" x="1848" y="1260">
      <params>
         <int32 name="note" value="39"/>
      </params>
      <attribs>
         <combo attributeName="device" selection="internal port 1"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df">
         <sDescription>Midi note output</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_out.axh</helpPatch>
         <inlets>
            <frac32.positive name="velo" description="velocity"/>
            <bool32.rising name="trig" description="trigger"/>
         </inlets>
         <outlets/>
         <displays/>
         <params>
            <int32 name="note">
               <MinValue i="0"/>
               <MaxValue i="128"/>
            </int32>
         </params>
         <attribs>
            <combo name="device">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int ntrig;
int lastnote;]]></code.declaration>
         <code.init><![CDATA[ntrig=0;]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig>0) && !ntrig) {
lastnote = param_note;
MidiSend3((midi_device_t) attr_device, MIDI_NOTE_ON + (attr_channel-1),lastnote,inlet_velo>>20);  ntrig=1;
}
if (!(inlet_trig>0) && ntrig) {MidiSend3((midi_device_t) attr_device, MIDI_NOTE_OFF + (attr_channel-1),lastnote,__USAT(inlet_velo>>20,7)); ntrig=0;}]]></code.krate>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df" name="note_11" x="1988" y="1260">
      <params>
         <int32 name="note" value="41"/>
      </params>
      <attribs>
         <combo attributeName="device" selection="internal port 1"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df">
         <sDescription>Midi note output</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_out.axh</helpPatch>
         <inlets>
            <frac32.positive name="velo" description="velocity"/>
            <bool32.rising name="trig" description="trigger"/>
         </inlets>
         <outlets/>
         <displays/>
         <params>
            <int32 name="note">
               <MinValue i="0"/>
               <MaxValue i="128"/>
            </int32>
         </params>
         <attribs>
            <combo name="device">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int ntrig;
int lastnote;]]></code.declaration>
         <code.init><![CDATA[ntrig=0;]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig>0) && !ntrig) {
lastnote = param_note;
MidiSend3((midi_device_t) attr_device, MIDI_NOTE_ON + (attr_channel-1),lastnote,inlet_velo>>20);  ntrig=1;
}
if (!(inlet_trig>0) && ntrig) {MidiSend3((midi_device_t) attr_device, MIDI_NOTE_OFF + (attr_channel-1),lastnote,__USAT(inlet_velo>>20,7)); ntrig=0;}]]></code.krate>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df" name="note_12" x="2142" y="1260">
      <params>
         <int32 name="note" value="42"/>
      </params>
      <attribs>
         <combo attributeName="device" selection="internal port 1"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df">
         <sDescription>Midi note output</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_out.axh</helpPatch>
         <inlets>
            <frac32.positive name="velo" description="velocity"/>
            <bool32.rising name="trig" description="trigger"/>
         </inlets>
         <outlets/>
         <displays/>
         <params>
            <int32 name="note">
               <MinValue i="0"/>
               <MaxValue i="128"/>
            </int32>
         </params>
         <attribs>
            <combo name="device">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int ntrig;
int lastnote;]]></code.declaration>
         <code.init><![CDATA[ntrig=0;]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig>0) && !ntrig) {
lastnote = param_note;
MidiSend3((midi_device_t) attr_device, MIDI_NOTE_ON + (attr_channel-1),lastnote,inlet_velo>>20);  ntrig=1;
}
if (!(inlet_trig>0) && ntrig) {MidiSend3((midi_device_t) attr_device, MIDI_NOTE_OFF + (attr_channel-1),lastnote,__USAT(inlet_velo>>20,7)); ntrig=0;}]]></code.krate>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df" name="note_13" x="2310" y="1260">
      <params>
         <int32 name="note" value="43"/>
      </params>
      <attribs>
         <combo attributeName="device" selection="internal port 1"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df">
         <sDescription>Midi note output</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_out.axh</helpPatch>
         <inlets>
            <frac32.positive name="velo" description="velocity"/>
            <bool32.rising name="trig" description="trigger"/>
         </inlets>
         <outlets/>
         <displays/>
         <params>
            <int32 name="note">
               <MinValue i="0"/>
               <MaxValue i="128"/>
            </int32>
         </params>
         <attribs>
            <combo name="device">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int ntrig;
int lastnote;]]></code.declaration>
         <code.init><![CDATA[ntrig=0;]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig>0) && !ntrig) {
lastnote = param_note;
MidiSend3((midi_device_t) attr_device, MIDI_NOTE_ON + (attr_channel-1),lastnote,inlet_velo>>20);  ntrig=1;
}
if (!(inlet_trig>0) && ntrig) {MidiSend3((midi_device_t) attr_device, MIDI_NOTE_OFF + (attr_channel-1),lastnote,__USAT(inlet_velo>>20,7)); ntrig=0;}]]></code.krate>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df" name="note_14" x="2492" y="1260">
      <params>
         <int32 name="note" value="45"/>
      </params>
      <attribs>
         <combo attributeName="device" selection="internal port 1"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df">
         <sDescription>Midi note output</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_out.axh</helpPatch>
         <inlets>
            <frac32.positive name="velo" description="velocity"/>
            <bool32.rising name="trig" description="trigger"/>
         </inlets>
         <outlets/>
         <displays/>
         <params>
            <int32 name="note">
               <MinValue i="0"/>
               <MaxValue i="128"/>
            </int32>
         </params>
         <attribs>
            <combo name="device">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int ntrig;
int lastnote;]]></code.declaration>
         <code.init><![CDATA[ntrig=0;]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig>0) && !ntrig) {
lastnote = param_note;
MidiSend3((midi_device_t) attr_device, MIDI_NOTE_ON + (attr_channel-1),lastnote,inlet_velo>>20);  ntrig=1;
}
if (!(inlet_trig>0) && ntrig) {MidiSend3((midi_device_t) attr_device, MIDI_NOTE_OFF + (attr_channel-1),lastnote,__USAT(inlet_velo>>20,7)); ntrig=0;}]]></code.krate>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df" name="note_15" x="2646" y="1260">
      <params>
         <int32 name="note" value="46"/>
      </params>
      <attribs>
         <combo attributeName="device" selection="internal port 1"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df">
         <sDescription>Midi note output</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_out.axh</helpPatch>
         <inlets>
            <frac32.positive name="velo" description="velocity"/>
            <bool32.rising name="trig" description="trigger"/>
         </inlets>
         <outlets/>
         <displays/>
         <params>
            <int32 name="note">
               <MinValue i="0"/>
               <MaxValue i="128"/>
            </int32>
         </params>
         <attribs>
            <combo name="device">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int ntrig;
int lastnote;]]></code.declaration>
         <code.init><![CDATA[ntrig=0;]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig>0) && !ntrig) {
lastnote = param_note;
MidiSend3((midi_device_t) attr_device, MIDI_NOTE_ON + (attr_channel-1),lastnote,inlet_velo>>20);  ntrig=1;
}
if (!(inlet_trig>0) && ntrig) {MidiSend3((midi_device_t) attr_device, MIDI_NOTE_OFF + (attr_channel-1),lastnote,__USAT(inlet_velo>>20,7)); ntrig=0;}]]></code.krate>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df" name="note_16" x="2814" y="1260">
      <params>
         <int32 name="note" value="47"/>
      </params>
      <attribs>
         <combo attributeName="device" selection="internal port 1"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="2d63a894-a4de-4399-a6dc-2f23980e82df">
         <sDescription>Midi note output</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_out.axh</helpPatch>
         <inlets>
            <frac32.positive name="velo" description="velocity"/>
            <bool32.rising name="trig" description="trigger"/>
         </inlets>
         <outlets/>
         <displays/>
         <params>
            <int32 name="note">
               <MinValue i="0"/>
               <MaxValue i="128"/>
            </int32>
         </params>
         <attribs>
            <combo name="device">
               <MenuEntries>
                  <string>din</string>
                  <string>usb host port 1</string>
                  <string>usb host port 2</string>
                  <string>usb host port 3</string>
                  <string>usb host port 4</string>
                  <string>internal port 1</string>
                  <string>internal port 2</string>
                  <string>usb device port 1</string>
               </MenuEntries>
               <CEntries>
                  <string>MIDI_DEVICE_DIN, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 1</string>
                  <string>MIDI_DEVICE_USB_HOST, 2</string>
                  <string>MIDI_DEVICE_USB_HOST, 3</string>
                  <string>MIDI_DEVICE_USB_HOST, 4</string>
                  <string>MIDI_DEVICE_INTERNAL, 1</string>
                  <string>MIDI_DEVICE_INTERNAL, 2</string>
                  <string>MIDI_DEVICE_USB_DEVICE, 1</string>
               </CEntries>
            </combo>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="0"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int ntrig;
int lastnote;]]></code.declaration>
         <code.init><![CDATA[ntrig=0;]]></code.init>
         <code.krate><![CDATA[if ((inlet_trig>0) && !ntrig) {
lastnote = param_note;
MidiSend3((midi_device_t) attr_device, MIDI_NOTE_ON + (attr_channel-1),lastnote,inlet_velo>>20);  ntrig=1;
}
if (!(inlet_trig>0) && ntrig) {MidiSend3((midi_device_t) attr_device, MIDI_NOTE_OFF + (attr_channel-1),lastnote,__USAT(inlet_velo>>20,7)); ntrig=0;}]]></code.krate>
      </object>
   </patchobj>
   <comment type="patch/comment" x="532" y="1288" text="cload intitialise patch for patch chaging"/>
   <patchobj type="patch/object" uuid="27a4893e-93bb-4a7c-b41c-0b02da02cbed" name="keyb_2" x="532" y="1302">
      <params/>
      <attribs/>
      <object id="patch/object" uuid="27a4893e-93bb-4a7c-b41c-0b02da02cbed">
         <sDescription>Monophonic MIDI keyboard note input, gate, velocity and release velocity</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets/>
         <outlets>
            <bool32 name="gate" description="key pressed?"/>
         </outlets>
         <displays/>
         <params/>
         <attribs/>
         <includes/>
         <code.declaration><![CDATA[uint8_t _gate;
int ccv;]]></code.declaration>
         <code.init><![CDATA[_gate = 0;
]]></code.init>
         <code.krate><![CDATA[if (ccv&&_gate){
	outlet_gate=1;
}
else outlet_gate=0;]]></code.krate>
         <code.midihandler><![CDATA[if ((status == MIDI_NOTE_ON + 8) && (data2)) {if (data1 == 108) {
   _gate = 1;
}
} else if (((status == MIDI_NOTE_ON + 8) && (!data2))||          (status == MIDI_NOTE_OFF + 8)) {
  if (data1 == 108) {
    _gate = 0;
  }
} 
if ((status == 8 + MIDI_CONTROL_CHANGE)&&(data1 == 107)) { ccv = data2;}]]></code.midihandler>
      </object>
   </patchobj>
   <obj type="patch/load" uuid="634bf1f8c313920d7f19fc402ba937fd1ee27802" name="load_3" x="644" y="1302">
      <params/>
      <attribs>
         <table attributeName="filename" table="/init trevor upload/patch.bin"/>
      </attribs>
   </obj>
   <comment type="patch/comment" x="1750" y="1582" text="//////////////////////////////////////////////////////////////////////////////////////////////////////////////midi from pads and sequencer to samples/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////"/>
   <patchobj type="patch/object" uuid="cfdbcf08-471f-4530-92b3-c813f0e2955d" name="keyb_9" x="1750" y="1596">
      <params/>
      <attribs>
         <spinner attributeName="note" value="37"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="cfdbcf08-471f-4530-92b3-c813f0e2955d">
         <sDescription>Monophonic MIDI keyboard note input, gate, velocity and release velocity</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets>
            <bool32 name="off"/>
         </inlets>
         <outlets>
            <bool32 name="gate" description="key pressed?"/>
            <frac32.positive name="velocity" description="note-on velocity"/>
            <frac32.positive name="releaseVelocity" description="note-off velocity"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="note" MinValue="0" MaxValue="127" DefaultValue="64"/>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="1"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int off;
uint8_t _gate;
uint8_t _velo;
uint8_t _rvelo;
__attribute__ (( always_inline )) __STATIC_INLINE int midi_device_test( midi_device_t dev, uint8_t port, int selected_dev, uint8_t selected_port )
      {
        if(    (selected_dev == MIDI_DEVICE_OMNI)
            || (selected_dev == dev && selected_port == port)
            )
          return 1;
        return 0;
      }]]></code.declaration>
         <code.init><![CDATA[_gate = 0;]]></code.init>
         <code.krate><![CDATA[off=inlet_off;
outlet_gate= _gate<<27;
outlet_velocity= _velo<<20;
outlet_releaseVelocity= _rvelo<<20;]]></code.krate>
         <code.midihandler><![CDATA[if (off){
if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {if (data1 == attr_note) {
   _velo = data2;
   _gate = 1;
}
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (data1 == attr_note) {
    _rvelo = data2;
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
  _gate = 0;
}
}
if (!off){
if( midi_device_test( dev, port, MIDI_DEVICE_INTERNAL, 1 ) == 1 ){
	if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {if (data1 == attr_note) {
   _velo = data2;
   _gate = 1;
}
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (data1 == attr_note) {
    _rvelo = data2;
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
  _gate = 0;
}
}
}]]></code.midihandler>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="758c6321-e31e-470f-acfb-e72e58a68b47" name="Temp_1" x="1890" y="1596">
      <params/>
      <attribs>
         <spinner attributeName="note" value="38"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="758c6321-e31e-470f-acfb-e72e58a68b47">
         <sDescription>Monophonic MIDI keyboard note input, gate, velocity and release velocity</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets>
            <bool32 name="off"/>
         </inlets>
         <outlets>
            <bool32 name="gate" description="key pressed?"/>
            <frac32.positive name="velocity" description="note-on velocity"/>
            <frac32.positive name="releaseVelocity" description="note-off velocity"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="note" MinValue="0" MaxValue="127" DefaultValue="64"/>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="1"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int off;
uint8_t _gate;
uint8_t _velo;
uint8_t _rvelo;
__attribute__ (( always_inline )) __STATIC_INLINE int midi_device_test( midi_device_t dev, uint8_t port, int selected_dev, uint8_t selected_port )
      {
        if(    (selected_dev == MIDI_DEVICE_OMNI)
            || (selected_dev == dev && selected_port == port)
            )
          return 1;
        return 0;
      }]]></code.declaration>
         <code.init><![CDATA[_gate = 0;]]></code.init>
         <code.krate><![CDATA[off=inlet_off;
outlet_gate= _gate<<27;
outlet_velocity= _velo<<20;
outlet_releaseVelocity= _rvelo<<20;]]></code.krate>
         <code.midihandler><![CDATA[if (off){
if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {if (data1 == attr_note) {
   _velo = data2;
   _gate = 1;
}
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (data1 == attr_note) {
    _rvelo = data2;
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
  _gate = 0;
}
}
if (!off){
if( midi_device_test( dev, port, MIDI_DEVICE_INTERNAL, 1 ) == 1 ){
	if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {if (data1 == attr_note) {
   _velo = data2;
   _gate = 1;
}
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (data1 == attr_note) {
    _rvelo = data2;
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
  _gate = 0;
}
}
}]]></code.midihandler>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="1c4e99c7-9206-4b14-ab56-4902a2e93647" name="trevort2_3" x="2044" y="1596">
      <params/>
      <attribs>
         <spinner attributeName="Note" value="39"/>
         <spinner attributeName="yeah" value="36"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="1c4e99c7-9206-4b14-ab56-4902a2e93647">
         <sDescription>Monophonic MIDI keyboard note input. Only responding to a single note, with polyphonic aftertouch and gate output</sDescription>
         <author>Remco van der Most</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets>
            <bool32 name="off"/>
         </inlets>
         <outlets>
            <bool32 name="gate"/>
            <frac32.positive name="velocity"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="Note" MinValue="0" MaxValue="127" DefaultValue="0"/>
            <spinner name="yeah" MinValue="0" MaxValue="127" DefaultValue="0"/>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="1"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int off;
int8_t _note;
uint8_t _gate;
uint8_t _velo;
uint8_t _rvelo;
__attribute__ (( always_inline )) __STATIC_INLINE int midi_device_test( midi_device_t dev, uint8_t port, int selected_dev, uint8_t selected_port )
      {
        if(    (selected_dev == MIDI_DEVICE_OMNI)
            || (selected_dev == dev && selected_port == port)
            )
          return 1;
        return 0;
      }]]></code.declaration>
         <code.init><![CDATA[_gate = 0;
_note = 0;]]></code.init>
         <code.krate><![CDATA[off=inlet_off;
outlet_gate=_gate<<27;
outlet_velocity= _velo<<20;]]></code.krate>
         <code.midihandler><![CDATA[if (off){
if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {
  if ((data1 == attr_Note)||(data1 == attr_yeah)) {
    _velo = data2;
    _note = data1-64;
    _gate = 1;
  }
    
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (_note == data1-64) {
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
   _gate = 0;
}
}

if (!off){
if( midi_device_test( dev, port, MIDI_DEVICE_INTERNAL, 1 ) == 1 ){	
if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {
  if ((data1 == attr_Note)||(data1 == attr_yeah)) {
    _velo = data2;
    _note = data1-64;
    _gate = 1;
  }
    
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (_note == data1-64) {
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
   _gate = 0;
}
}
}]]></code.midihandler>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="5166eb80-2b38-48ce-8643-8f786c4c95f3" name="Temp_2" x="2254" y="1596">
      <params/>
      <attribs>
         <spinner attributeName="note" value="41"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="5166eb80-2b38-48ce-8643-8f786c4c95f3">
         <sDescription>Monophonic MIDI keyboard note input, gate, velocity and release velocity</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets>
            <bool32 name="off"/>
         </inlets>
         <outlets>
            <bool32 name="gate" description="key pressed?"/>
            <frac32.positive name="velocity" description="note-on velocity"/>
            <frac32.positive name="releaseVelocity" description="note-off velocity"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="note" MinValue="0" MaxValue="127" DefaultValue="64"/>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="1"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int off;
uint8_t _gate;
uint8_t _velo;
uint8_t _rvelo;
__attribute__ (( always_inline )) __STATIC_INLINE int midi_device_test( midi_device_t dev, uint8_t port, int selected_dev, uint8_t selected_port )
      {
        if(    (selected_dev == MIDI_DEVICE_OMNI)
            || (selected_dev == dev && selected_port == port)
            )
          return 1;
        return 0;
      }]]></code.declaration>
         <code.init><![CDATA[_gate = 0;]]></code.init>
         <code.krate><![CDATA[off=inlet_off;
outlet_gate= _gate<<27;
outlet_velocity= _velo<<20;
outlet_releaseVelocity= _rvelo<<20;]]></code.krate>
         <code.midihandler><![CDATA[if (off){
if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {if (data1 == attr_note) {
   _velo = data2;
   _gate = 1;
}
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (data1 == attr_note) {
    _rvelo = data2;
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
  _gate = 0;
}
}
if (!off){
if( midi_device_test( dev, port, MIDI_DEVICE_INTERNAL, 1 ) == 1 ){
	if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {if (data1 == attr_note) {
   _velo = data2;
   _gate = 1;
}
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (data1 == attr_note) {
    _rvelo = data2;
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
  _gate = 0;
}
}
}]]></code.midihandler>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="528ca7f3-5d4f-4321-af78-ee82f3459575" name="Temp_3" x="2394" y="1596">
      <params/>
      <attribs>
         <spinner attributeName="note" value="42"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="528ca7f3-5d4f-4321-af78-ee82f3459575">
         <sDescription>Monophonic MIDI keyboard note input, gate, velocity and release velocity</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets>
            <bool32 name="off"/>
         </inlets>
         <outlets>
            <bool32 name="gate" description="key pressed?"/>
            <frac32.positive name="velocity" description="note-on velocity"/>
            <frac32.positive name="releaseVelocity" description="note-off velocity"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="note" MinValue="0" MaxValue="127" DefaultValue="64"/>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="1"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int off;
uint8_t _gate;
uint8_t _velo;
uint8_t _rvelo;
__attribute__ (( always_inline )) __STATIC_INLINE int midi_device_test( midi_device_t dev, uint8_t port, int selected_dev, uint8_t selected_port )
      {
        if(    (selected_dev == MIDI_DEVICE_OMNI)
            || (selected_dev == dev && selected_port == port)
            )
          return 1;
        return 0;
      }]]></code.declaration>
         <code.init><![CDATA[_gate = 0;]]></code.init>
         <code.krate><![CDATA[off=inlet_off;
outlet_gate= _gate<<27;
outlet_velocity= _velo<<20;
outlet_releaseVelocity= _rvelo<<20;]]></code.krate>
         <code.midihandler><![CDATA[if (off){
if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {if (data1 == attr_note) {
   _velo = data2;
   _gate = 1;
}
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (data1 == attr_note) {
    _rvelo = data2;
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
  _gate = 0;
}
}
if (!off){
if( midi_device_test( dev, port, MIDI_DEVICE_INTERNAL, 1 ) == 1 ){
	if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {if (data1 == attr_note) {
   _velo = data2;
   _gate = 1;
}
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (data1 == attr_note) {
    _rvelo = data2;
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
  _gate = 0;
}
}
}]]></code.midihandler>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="86109d95-10e4-467c-82e0-4219db76f3ad" name="Temp2_1" x="2534" y="1596">
      <params/>
      <attribs>
         <spinner attributeName="Note" value="43"/>
         <spinner attributeName="yeah" value="40"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="86109d95-10e4-467c-82e0-4219db76f3ad">
         <sDescription>Monophonic MIDI keyboard note input. Only responding to a single note, with polyphonic aftertouch and gate output</sDescription>
         <author>Remco van der Most</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets>
            <bool32 name="off"/>
         </inlets>
         <outlets>
            <bool32 name="gate"/>
            <frac32.positive name="velocity"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="Note" MinValue="0" MaxValue="127" DefaultValue="0"/>
            <spinner name="yeah" MinValue="0" MaxValue="127" DefaultValue="0"/>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="1"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int off;
int8_t _note;
uint8_t _gate;
uint8_t _velo;
uint8_t _rvelo;
__attribute__ (( always_inline )) __STATIC_INLINE int midi_device_test( midi_device_t dev, uint8_t port, int selected_dev, uint8_t selected_port )
      {
        if(    (selected_dev == MIDI_DEVICE_OMNI)
            || (selected_dev == dev && selected_port == port)
            )
          return 1;
        return 0;
      }]]></code.declaration>
         <code.init><![CDATA[_gate = 0;
_note = 0;]]></code.init>
         <code.krate><![CDATA[off=inlet_off;
outlet_gate=_gate<<27;
outlet_velocity= _velo<<20;]]></code.krate>
         <code.midihandler><![CDATA[if (off){
if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {
  if ((data1 == attr_Note)||(data1 == attr_yeah)) {
    _velo = data2;
    _note = data1-64;
    _gate = 1;
  }
    
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (_note == data1-64) {
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
   _gate = 0;
}
}

if (!off){
if( midi_device_test( dev, port, MIDI_DEVICE_INTERNAL, 1 ) == 1 ){	
if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {
  if ((data1 == attr_Note)||(data1 == attr_yeah)) {
    _velo = data2;
    _note = data1-64;
    _gate = 1;
  }
    
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (_note == data1-64) {
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
   _gate = 0;
}
}
}]]></code.midihandler>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="3adc9899-b23d-41fe-aa80-7c849d8aa6bd" name="Temp_4" x="2758" y="1596">
      <params/>
      <attribs>
         <spinner attributeName="note" value="45"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="3adc9899-b23d-41fe-aa80-7c849d8aa6bd">
         <sDescription>Monophonic MIDI keyboard note input, gate, velocity and release velocity</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets>
            <bool32 name="off"/>
         </inlets>
         <outlets>
            <bool32 name="gate" description="key pressed?"/>
            <frac32.positive name="velocity" description="note-on velocity"/>
            <frac32.positive name="releaseVelocity" description="note-off velocity"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="note" MinValue="0" MaxValue="127" DefaultValue="64"/>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="1"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int off;
uint8_t _gate;
uint8_t _velo;
uint8_t _rvelo;
__attribute__ (( always_inline )) __STATIC_INLINE int midi_device_test( midi_device_t dev, uint8_t port, int selected_dev, uint8_t selected_port )
      {
        if(    (selected_dev == MIDI_DEVICE_OMNI)
            || (selected_dev == dev && selected_port == port)
            )
          return 1;
        return 0;
      }]]></code.declaration>
         <code.init><![CDATA[_gate = 0;]]></code.init>
         <code.krate><![CDATA[off=inlet_off;
outlet_gate= _gate<<27;
outlet_velocity= _velo<<20;
outlet_releaseVelocity= _rvelo<<20;]]></code.krate>
         <code.midihandler><![CDATA[if (off){
if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {if (data1 == attr_note) {
   _velo = data2;
   _gate = 1;
}
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (data1 == attr_note) {
    _rvelo = data2;
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
  _gate = 0;
}
}
if (!off){
if( midi_device_test( dev, port, MIDI_DEVICE_INTERNAL, 1 ) == 1 ){
	if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {if (data1 == attr_note) {
   _velo = data2;
   _gate = 1;
}
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (data1 == attr_note) {
    _rvelo = data2;
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
  _gate = 0;
}
}
}]]></code.midihandler>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="e09351ad-e2db-432a-bd1d-daa50800a631" name="Temp_5" x="2898" y="1596">
      <params/>
      <attribs>
         <spinner attributeName="note" value="46"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="e09351ad-e2db-432a-bd1d-daa50800a631">
         <sDescription>Monophonic MIDI keyboard note input, gate, velocity and release velocity</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets>
            <bool32 name="off"/>
         </inlets>
         <outlets>
            <bool32 name="gate" description="key pressed?"/>
            <frac32.positive name="velocity" description="note-on velocity"/>
            <frac32.positive name="releaseVelocity" description="note-off velocity"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="note" MinValue="0" MaxValue="127" DefaultValue="64"/>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="1"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int off;
uint8_t _gate;
uint8_t _velo;
uint8_t _rvelo;
__attribute__ (( always_inline )) __STATIC_INLINE int midi_device_test( midi_device_t dev, uint8_t port, int selected_dev, uint8_t selected_port )
      {
        if(    (selected_dev == MIDI_DEVICE_OMNI)
            || (selected_dev == dev && selected_port == port)
            )
          return 1;
        return 0;
      }]]></code.declaration>
         <code.init><![CDATA[_gate = 0;]]></code.init>
         <code.krate><![CDATA[off=inlet_off;
outlet_gate= _gate<<27;
outlet_velocity= _velo<<20;
outlet_releaseVelocity= _rvelo<<20;]]></code.krate>
         <code.midihandler><![CDATA[if (off){
if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {if (data1 == attr_note) {
   _velo = data2;
   _gate = 1;
}
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (data1 == attr_note) {
    _rvelo = data2;
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
  _gate = 0;
}
}
if (!off){
if( midi_device_test( dev, port, MIDI_DEVICE_INTERNAL, 1 ) == 1 ){
	if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {if (data1 == attr_note) {
   _velo = data2;
   _gate = 1;
}
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (data1 == attr_note) {
    _rvelo = data2;
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
  _gate = 0;
}
}
}]]></code.midihandler>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="5a65dae5-8be0-4be8-bd92-eff5d1de1aed" name="Temp2_2" x="3038" y="1596">
      <params/>
      <attribs>
         <spinner attributeName="Note" value="47"/>
         <spinner attributeName="yeah" value="44"/>
         <spinner attributeName="channel" value="10"/>
      </attribs>
      <object id="patch/object" uuid="5a65dae5-8be0-4be8-bd92-eff5d1de1aed">
         <sDescription>Monophonic MIDI keyboard note input. Only responding to a single note, with polyphonic aftertouch and gate output</sDescription>
         <author>Remco van der Most</author>
         <license>BSD</license>
         <helpPatch>midi_in.axh</helpPatch>
         <inlets>
            <bool32 name="off"/>
         </inlets>
         <outlets>
            <bool32 name="gate"/>
            <frac32.positive name="velocity"/>
         </outlets>
         <displays/>
         <params/>
         <attribs>
            <spinner name="Note" MinValue="0" MaxValue="127" DefaultValue="0"/>
            <spinner name="yeah" MinValue="0" MaxValue="127" DefaultValue="0"/>
            <spinner name="channel" MinValue="1" MaxValue="16" DefaultValue="1"/>
         </attribs>
         <includes/>
         <code.declaration><![CDATA[int off;
int8_t _note;
uint8_t _gate;
uint8_t _velo;
uint8_t _rvelo;
__attribute__ (( always_inline )) __STATIC_INLINE int midi_device_test( midi_device_t dev, uint8_t port, int selected_dev, uint8_t selected_port )
      {
        if(    (selected_dev == MIDI_DEVICE_OMNI)
            || (selected_dev == dev && selected_port == port)
            )
          return 1;
        return 0;
      }]]></code.declaration>
         <code.init><![CDATA[_gate = 0;
_note = 0;]]></code.init>
         <code.krate><![CDATA[off=inlet_off;
outlet_gate=_gate<<27;
outlet_velocity= _velo<<20;]]></code.krate>
         <code.midihandler><![CDATA[if (off){
if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {
  if ((data1 == attr_Note)||(data1 == attr_yeah)) {
    _velo = data2;
    _note = data1-64;
    _gate = 1;
  }
    
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (_note == data1-64) {
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
   _gate = 0;
}
}

if (!off){
if( midi_device_test( dev, port, MIDI_DEVICE_INTERNAL, 1 ) == 1 ){	
if ((status == MIDI_NOTE_ON + (attr_channel-1)) && (data2)) {
  if ((data1 == attr_Note)||(data1 == attr_yeah)) {
    _velo = data2;
    _note = data1-64;
    _gate = 1;
  }
    
} else if (((status == MIDI_NOTE_ON + (attr_channel-1)) && (!data2))||          (status == MIDI_NOTE_OFF + (attr_channel-1))) {
  if (_note == data1-64) {
    _gate = 0;
  }
} else if ((status == (attr_channel-1) + MIDI_CONTROL_CHANGE)&&(data1 == MIDI_C_ALL_NOTES_OFF)) {
   _gate = 0;
}
}
}]]></code.midihandler>
      </object>
   </patchobj>
   <comment type="patch/comment" x="1750" y="1736" text="//////////////////////////////////////////////////////////////////////////////////////////////////////////////drum sample playback/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////"/>
   <obj type="table/play pitch" uuid="5632a54926261833bbb9fff049e71322c360e57e" name="play_16" x="1750" y="1750">
      <params>
         <frac32.s.map name="pitch" value="0.0"/>
      </params>
      <attribs>
         <objref attributeName="table" obj="7"/>
      </attribs>
   </obj>
   <obj type="table/play pitch" uuid="5632a54926261833bbb9fff049e71322c360e57e" name="play_18" x="1890" y="1750">
      <params>
         <frac32.s.map name="pitch" value="0.0"/>
      </params>
      <attribs>
         <objref attributeName="table" obj="8"/>
      </attribs>
   </obj>
   <obj type="table/play pitch" uuid="5632a54926261833bbb9fff049e71322c360e57e" name="play_17" x="2044" y="1750">
      <params>
         <frac32.s.map name="pitch" value="0.0"/>
      </params>
      <attribs>
         <objref attributeName="table" obj="9"/>
      </attribs>
   </obj>
   <obj type="table/play pitch" uuid="5632a54926261833bbb9fff049e71322c360e57e" name="play_8" x="2254" y="1750">
      <params>
         <frac32.s.map name="pitch" value="0.0"/>
      </params>
      <attribs>
         <objref attributeName="table" obj="1"/>
      </attribs>
   </obj>
   <obj type="table/play pitch" uuid="5632a54926261833bbb9fff049e71322c360e57e" name="play_9" x="2394" y="1750">
      <params>
         <frac32.s.map name="pitch" value="0.0"/>
      </params>
      <attribs>
         <objref attributeName="table" obj="2"/>
      </attribs>
   </obj>
   <obj type="table/play pitch" uuid="5632a54926261833bbb9fff049e71322c360e57e" name="play_10" x="2534" y="1750">
      <params>
         <frac32.s.map name="pitch" value="0.0"/>
      </params>
      <attribs>
         <objref attributeName="table" obj="3a"/>
      </attribs>
   </obj>
   <obj type="table/play pitch" uuid="5632a54926261833bbb9fff049e71322c360e57e" name="play_11" x="2758" y="1750">
      <params>
         <frac32.s.map name="pitch" value="0.0"/>
      </params>
      <attribs>
         <objref attributeName="table" obj="4"/>
      </attribs>
   </obj>
   <obj type="table/play pitch" uuid="5632a54926261833bbb9fff049e71322c360e57e" name="play_12" x="2898" y="1750">
      <params>
         <frac32.s.map name="pitch" value="0.0"/>
      </params>
      <attribs>
         <objref attributeName="table" obj="5"/>
      </attribs>
   </obj>
   <obj type="table/play pitch" uuid="5632a54926261833bbb9fff049e71322c360e57e" name="play_13" x="3038" y="1750">
      <params>
         <frac32.s.map name="pitch" value="0.0"/>
      </params>
      <attribs>
         <objref attributeName="table" obj="6"/>
      </attribs>
   </obj>
   <patchobj type="patch/object" uuid="156de8b9-9e11-4d7c-a419-6e7d85c5a3ca" name="scale_4" x="3388" y="1904">
      <params>
         <frac32.u.map name="a" value="30.0"/>
         <frac32.u.map name="b" value="55.5"/>
      </params>
      <attribs/>
      <object id="patch/object" uuid="156de8b9-9e11-4d7c-a419-6e7d85c5a3ca">
         <sDescription>Maps 0..64 to a..b</sDescription>
         <author>Johannes Elliesen</author>
         <license>BSD</license>
         <inlets>
            <frac32.positive name="c" description="control"/>
         </inlets>
         <outlets>
            <frac32 name="o" description="output"/>
         </outlets>
         <displays/>
         <params>
            <frac32.u.map name="a"/>
            <frac32.u.map name="b"/>
         </params>
         <attribs/>
         <includes/>
         <code.krate><![CDATA[{
      int64_t a = (int64_t)param_b * inlet_c;
      a += (int64_t)param_a * ((128<<20)-inlet_c);
      outlet_o= a>>27;
   }]]></code.krate>
      </object>
   </patchobj>
   <patchobj type="patch/object" uuid="13ccb9be-ae46-4d22-ba92-4ba5e0682e90" name="scale_5" x="3696" y="1904">
      <params>
         <frac32.u.map name="a" value="6.5"/>
         <frac32.u.map name="b" value="45.5"/>
      </params>
      <attribs/>
      <object id="patch/object" uuid="13ccb9be-ae46-4d22-ba92-4ba5e0682e90">
         <sDescription>Maps 0..64 to a..b</sDescription>
         <author>Johannes Elliesen</author>
         <license>BSD</license>
         <inlets>
            <frac32.positive name="c" description="control"/>
         </inlets>
         <outlets>
            <frac32 name="o" description="output"/>
         </outlets>
         <displays/>
         <params>
            <frac32.u.map name="a"/>
            <frac32.u.map name="b"/>
         </params>
         <attribs/>
         <includes/>
         <code.krate><![CDATA[{
      int64_t a = (int64_t)param_b * inlet_c;
      a += (int64_t)param_a * ((128<<20)-inlet_c);
      outlet_o= a>>27;
   }]]></code.krate>
      </object>
   </patchobj>
   <obj type="math/*c" uuid="7d5ef61c3bcd571ee6bbd8437ef3612125dfb225" name="*c_2" x="3514" y="1918">
      <params>
         <frac32.u.map name="amp" value="36.5"/>
      </params>
      <attribs/>
   </obj>
   <comment type="patch/comment" x="2296" y="1946" text="drum sample velocity"/>
   <patchobj type="patch/object" uuid="079173aa-02c7-416f-99ed-0c1176208a0a" name="record" x="2296" y="1960">
      <params/>
      <attribs/>
      <object id="patch/object" uuid="079173aa-02c7-416f-99ed-0c1176208a0a">
         <sDescription>8x &quot;voltage controlled amplifier&quot;, multiplies v and a inputs, with linear interpolation from k- to s-rate</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <inlets>
            <frac32 name="v1" description="gain input"/>
            <frac32buffer name="a1"/>
            <frac32 name="v2"/>
            <frac32buffer name="a2"/>
            <frac32 name="v3"/>
            <frac32buffer name="a3"/>
            <frac32 name="v4"/>
            <frac32buffer name="a4"/>
            <frac32 name="v5"/>
            <frac32buffer name="a5"/>
            <frac32 name="v6"/>
            <frac32buffer name="a6"/>
            <frac32 name="v7"/>
            <frac32buffer name="a7"/>
            <frac32 name="v8"/>
            <frac32buffer name="a8"/>
            <frac32 name="v9"/>
            <frac32buffer name="a9"/>
         </inlets>
         <outlets>
            <frac32buffer name="o1"/>
            <frac32buffer name="o2"/>
            <frac32buffer name="o3"/>
            <frac32buffer name="o4"/>
            <frac32buffer name="o5"/>
            <frac32buffer name="o6"/>
            <frac32buffer name="o7"/>
            <frac32buffer name="o8"/>
            <frac32buffer name="o9"/>
         </outlets>
         <displays/>
         <params/>
         <attribs/>
         <includes/>
         <code.declaration><![CDATA[int32_t prev1;
   int32_t step1;
int32_t prev2;
   int32_t step2;
int32_t prev3;
   int32_t step3;
int32_t prev4;
   int32_t step4;
int32_t prev5;
   int32_t step5;
int32_t prev6;
   int32_t step6;
int32_t prev7;
   int32_t step7;
int32_t prev8;
   int32_t step8;
int32_t prev9;
   int32_t step9;]]></code.declaration>
         <code.krate><![CDATA[step1 = (inlet_v1 - prev1)>>4;
   int32_t i1 = prev1;
   prev1 = inlet_v1;
   
   step2 = (inlet_v2 - prev2)>>4;
   int32_t i2 = prev2;
   prev2 = inlet_v2;
   
   step3 = (inlet_v3 - prev3)>>4;
   int32_t i3 = prev3;
   prev3 = inlet_v3;
   
   step4 = (inlet_v4 - prev4)>>4;
   int32_t i4 = prev4;
   prev4 = inlet_v4;
   
   step5 = (inlet_v5 - prev5)>>4;
   int32_t i5 = prev5;
   prev5 = inlet_v5;
   
   step6 = (inlet_v6 - prev6)>>4;
   int32_t i6 = prev6;
   prev6 = inlet_v6;
   
   step7 = (inlet_v7 - prev7)>>4;
   int32_t i7 = prev7;
   prev7 = inlet_v7;
   
   step8 = (inlet_v8 - prev8)>>4;
   int32_t i8 = prev8;
   prev8 = inlet_v8;

   step9 = (inlet_v9 - prev9)>>4;
   int32_t i9 = prev9;
   prev9 = inlet_v9;]]></code.krate>
         <code.srate><![CDATA[outlet_o1 =  ___SMMUL(inlet_a1,i1)<<5;
   i1 += step1;
   outlet_o2 =  ___SMMUL(inlet_a2,i2)<<5;
   i2 += step2;
   outlet_o3 =  ___SMMUL(inlet_a3,i3)<<5;
   i3 += step3;
   outlet_o4 =  ___SMMUL(inlet_a4,i4)<<5;
   i4 += step4;
   outlet_o5 =  ___SMMUL(inlet_a5,i5)<<5;
   i5 += step5;
   outlet_o6 =  ___SMMUL(inlet_a6,i6)<<5;
   i6 += step6;
   outlet_o7 =  ___SMMUL(inlet_a7,i7)<<5;
   i7 += step7;
   outlet_o8 =  ___SMMUL(inlet_a8,i8)<<5;
   i8 += step8;
   outlet_o9 =  ___SMMUL(inlet_a9,i9)<<5;
   i9 += step9;]]></code.srate>
      </object>
   </patchobj>
   <comment type="patch/comment" x="3304" y="2030" text="compressor"/>
   <comment type="patch/comment" x="3304" y="2044" text="left=hats snares"/>
   <comment type="patch/comment" x="3528" y="2044" text="whole kit vol"/>
   <comment type="patch/comment" x="3808" y="2044" text="whole kit vol"/>
   <comment type="patch/comment" x="2436" y="2058" text="kicks mixer"/>
   <comment type="patch/comment" x="2562" y="2058" text="snare mixer"/>
   <comment type="patch/comment" x="2688" y="2058" text="hats mixer"/>
   <comment type="patch/comment" x="2800" y="2058" text="snares and hats level controls"/>
   <comment type="patch/comment" x="3304" y="2058" text="right= kicks"/>
   <comment type="patch/comment" x="3528" y="2058" text="snares and hats"/>
   <comment type="patch/comment" x="3724" y="2058" text="kicks level"/>
   <comment type="patch/comment" x="3808" y="2058" text="kicks"/>
   <obj type="mix/mix 3 g" uuid="efc0bdb8ca0ec2184330951eff5203ff487e35a9" name="mix_1" x="2436" y="2072">
      <params>
         <frac32.u.map name="gain1" value="64.0"/>
         <frac32.u.map name="gain2" value="52.0"/>
         <frac32.u.map name="gain3" value="45.0"/>
      </params>
      <attribs/>
   </obj>
   <obj type="mix/mix 3 g" uuid="efc0bdb8ca0ec2184330951eff5203ff487e35a9" name="mix_2" x="2562" y="2072">
      <params>
         <frac32.u.map name="gain1" value="64.0"/>
         <frac32.u.map name="gain2" value="64.0"/>
         <frac32.u.map name="gain3" value="64.0"/>
      </params>
      <attribs/>
   </obj>
   <obj type="mix/mix 3 g" uuid="efc0bdb8ca0ec2184330951eff5203ff487e35a9" name="mix_3" x="2688" y="2072">
      <params>
         <frac32.u.map name="gain1" value="49.5"/>
         <frac32.u.map name="gain2" value="43.5"/>
         <frac32.u.map name="gain3" value="44.0"/>
      </params>
      <attribs/>
   </obj>
   <patchobj type="patch/object" uuid="7d64d44b-94ad-4188-b670-e19677ce2f8f" name="2vca_1" x="2800" y="2072">
      <params/>
      <attribs/>
      <object id="patch/object" uuid="7d64d44b-94ad-4188-b670-e19677ce2f8f">
         <sDescription>8x &quot;voltage controlled amplifier&quot;, multiplies v and a inputs, with linear interpolation from k- to s-rate</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <inlets>
            <frac32 name="v1" description="gain input"/>
            <frac32buffer name="a1"/>
            <frac32 name="v2"/>
            <frac32buffer name="a2"/>
         </inlets>
         <outlets>
            <frac32buffer name="o1"/>
            <frac32buffer name="o2"/>
         </outlets>
         <displays/>
         <params/>
         <attribs/>
         <includes/>
         <code.declaration><![CDATA[int32_t prev1;
   int32_t step1;
int32_t prev2;
   int32_t step2;]]></code.declaration>
         <code.krate><![CDATA[step1 = (inlet_v1 - prev1)>>4;
   int32_t i1 = prev1;
   prev1 = inlet_v1;
   
   step2 = (inlet_v2 - prev2)>>4;
   int32_t i2 = prev2;
   prev2 = inlet_v2;]]></code.krate>
         <code.srate><![CDATA[outlet_o1 =  ___SMMUL(inlet_a1,i1)<<5;
   i1 += step1;
   outlet_o2 =  ___SMMUL(inlet_a2,i2)<<5;
   i2 += step2;]]></code.srate>
      </object>
   </patchobj>
   <obj type="math/gain" uuid="62b1c1a6337c7c8f6aec96408a432477b113cfa0" name="gain_3" x="2898" y="2072">
      <params>
         <frac32.u.map name="amp" value="64.0"/>
      </params>
      <attribs/>
   </obj>
   <obj type="math/gain" uuid="62b1c1a6337c7c8f6aec96408a432477b113cfa0" name="gain_4" x="3010" y="2072">
      <params>
         <frac32.u.map name="amp" value="40.0"/>
      </params>
      <attribs/>
   </obj>
   <obj type="math/+" uuid="faedbea4612d9bd3644d6d3bf31946d848a70e19" name="+_2" x="3108" y="2072">
      <params/>
      <attribs/>
   </obj>
   <obj type="math/gain" uuid="62b1c1a6337c7c8f6aec96408a432477b113cfa0" name="gain_2" x="3192" y="2072">
      <params>
         <frac32.u.map name="amp" value="7.5"/>
      </params>
      <attribs/>
   </obj>
   <obj type="sss/dyn/compST" uuid="011bc610-1365-4629-8a4c-be04df5f5757" name="compST_1" x="3304" y="2072">
      <params>
         <frac32.u.map name="tresh" value="37.5"/>
         <frac32.u.map name="soft" value="48.5"/>
         <frac32.u.map name="ratio" value="40.5"/>
         <frac32.u.map name="attack" value="15.0"/>
         <frac32.u.map name="decay" value="9.5"/>
         <frac32.u.map name="gain" value="0.0"/>
         <bool32.tgl name="limiter" value="0"/>
      </params>
      <attribs/>
   </obj>
   <obj type="math/*c" uuid="7a66f52a9594e7e9eb31328ea725cb3641a80b55" name="*c_1" x="3416" y="2072">
      <params>
         <frac32.u.map name="amp" value="48.0"/>
      </params>
      <attribs/>
   </obj>
   <obj type="gain/vca" uuid="a9f2dcd18043e2f47364e45cb8814f63c2a37c0d" name="vca_4" x="3528" y="2072">
      <params/>
      <attribs/>
   </obj>
   <obj type="math/gain" uuid="62b1c1a6337c7c8f6aec96408a432477b113cfa0" name="gain_1" x="3598" y="2072">
      <params>
         <frac32.u.map name="amp" value="5.5"/>
      </params>
      <attribs/>
   </obj>
   <obj type="gain/vca" uuid="a9f2dcd18043e2f47364e45cb8814f63c2a37c0d" name="vca_6" x="3724" y="2072">
      <params/>
      <attribs/>
   </obj>
   <obj type="gain/vca" uuid="a9f2dcd18043e2f47364e45cb8814f63c2a37c0d" name="vca_5" x="3808" y="2072">
      <params/>
      <attribs/>
   </obj>
   <obj type="audio/out right" uuid="e58a4cbbb087052c5480366e3f5d3a04aa319777" name="out_2" x="3878" y="2072">
      <params/>
      <attribs/>
   </obj>
   <comment type="patch/comment" x="3458" y="2170" text="verb level"/>
   <comment type="patch/comment" x="3528" y="2170" text="verb highpass"/>
   <comment type="patch/comment" x="3640" y="2170" text="verb"/>
   <obj type="gain/vca" uuid="a9f2dcd18043e2f47364e45cb8814f63c2a37c0d" name="vca_1" x="3458" y="2184">
      <params/>
      <attribs/>
   </obj>
   <patchobj type="patch/object" uuid="a6178425-2da7-479e-8f0d-1b05a2d0bd37" name="hp_1" x="3528" y="2184">
      <params>
         <frac32.u.map name="reso" value="0.0"/>
      </params>
      <attribs/>
      <object id="patch/object" uuid="a6178425-2da7-479e-8f0d-1b05a2d0bd37">
         <sDescription>Highpass filter, state-variable type</sDescription>
         <author>Johannes Taelman</author>
         <license>BSD</license>
         <helpPatch>filter.axh</helpPatch>
         <inlets>
            <frac32buffer name="in" description="filter input"/>
            <frac32.bipolar name="pitch"/>
         </inlets>
         <outlets>
            <frac32buffer name="out" description="filter output"/>
         </outlets>
         <displays/>
         <params>
            <frac32.u.map.filterq name="reso"/>
         </params>
         <attribs/>
         <includes/>
         <code.declaration><![CDATA[int32_t low;
int32_t band;]]></code.declaration>
         <code.init><![CDATA[low = 0;
band = 0;]]></code.init>
         <code.krate><![CDATA[int32_t damp = (0x80<<24) - (param_reso<<4);
damp = ___SMMUL(damp,damp);
int32_t alpha;
int32_t freq;
MTOFEXTENDED(inlet_pitch,alpha);
SINE2TINTERP(alpha,freq);]]></code.krate>
         <code.srate><![CDATA[int32_t in1 = inlet_in;
int32_t notch = inlet_in - (___SMMUL(damp,band)<<1);
low = low + (___SMMUL(freq,band)<<1);
int32_t high  = notch - low;
band = (___SMMUL(freq,high)<<1) + band;// - drive*band*band*band;
int32_t out1 = high;
outlet_out = out1;]]></code.srate>
      </object>
   </patchobj>
   <obj type="fx/lmnts/reverb" uuid="8027561C-A0B5-4DF8-A10E-3ED1274F2980" name="reverb_1" x="3640" y="2184">
      <params>
         <frac32.u.map name="amount" value="64.0"/>
         <frac32.u.map name="time" value="0.0"/>
         <frac32.u.map name="diffusion" value="0.0"/>
         <frac32.u.map name="gain" value="27.5"/>
         <frac32.u.map name="lowpass" value="0.0"/>
      </params>
      <attribs/>
   </obj>
   <obj type="math/+" uuid="faedbea4612d9bd3644d6d3bf31946d848a70e19" name="+_1" x="3752" y="2184">
      <params/>
      <attribs/>
   </obj>
   <obj type="audio/out left" uuid="b11a3c09b2fdd575ea8212f2ce7743d5269253b1" name="out_1" x="3822" y="2184">
      <params/>
      <attribs/>
   </obj>
   <comment type="patch/comment" x="1722" y="2282" text="samples"/>
   <obj type="table/alloc 16b sdram load" uuid="e6b85dad3ab43565cda93ea4c43c73b668b1cd43" name="1" x="1624" y="2310">
      <params/>
      <attribs>
         <combo attributeName="size" selection="65536"/>
         <file attributeName="filename" file="/yeahbruv2/kik 1.raw"/>
      </attribs>
   </obj>
   <obj type="table/alloc 16b sdram load" uuid="e6b85dad3ab43565cda93ea4c43c73b668b1cd43" name="2" x="1848" y="2310">
      <params/>
      <attribs>
         <combo attributeName="size" selection="65536"/>
         <file attributeName="filename" file="/yeahbruv2/snare 1.raw"/>
      </attribs>
   </obj>
   <obj type="table/alloc 16b sdram load" uuid="e6b85dad3ab43565cda93ea4c43c73b668b1cd43" name="3a" x="2072" y="2310">
      <params/>
      <attribs>
         <combo attributeName="size" selection="131072"/>
         <file attributeName="filename" file="/yeahbruv2/hat 1.raw"/>
      </attribs>
   </obj>
   <obj type="table/alloc 16b sdram load" uuid="e6b85dad3ab43565cda93ea4c43c73b668b1cd43" name="4" x="1792" y="2380">
      <params/>
      <attribs>
         <combo attributeName="size" selection="65536"/>
         <file attributeName="filename" file="/yeahbruv2/kik 2.raw"/>
      </attribs>
   </obj>
   <obj type="table/alloc 16b sdram load" uuid="e6b85dad3ab43565cda93ea4c43c73b668b1cd43" name="5" x="1848" y="2380">
      <params/>
      <attribs>
         <combo attributeName="size" selection="65536"/>
         <file attributeName="filename" file="/yeahbruv2/snare 2.raw"/>
      </attribs>
   </obj>
   <obj type="table/alloc 16b sdram load" uuid="e6b85dad3ab43565cda93ea4c43c73b668b1cd43" name="6" x="2072" y="2380">
      <params/>
      <attribs>
         <combo attributeName="size" selection="65536"/>
         <file attributeName="filename" file="/yeahbruv2/hat 2.raw"/>
      </attribs>
   </obj>
   <obj type="table/alloc 16b sdram load" uuid="e6b85dad3ab43565cda93ea4c43c73b668b1cd43" name="7" x="1624" y="2450">
      <params/>
      <attribs>
         <combo attributeName="size" selection="65536"/>
         <file attributeName="filename" file="/yeahbruv2/kik 3.raw"/>
      </attribs>
   </obj>
   <obj type="table/alloc 16b sdram load" uuid="e6b85dad3ab43565cda93ea4c43c73b668b1cd43" name="8" x="1848" y="2450">
      <params/>
      <attribs>
         <combo attributeName="size" selection="65536"/>
         <file attributeName="filename" file="/yeahbruv2/snare 3.raw"/>
      </attribs>
   </obj>
   <obj type="table/alloc 16b sdram load" uuid="e6b85dad3ab43565cda93ea4c43c73b668b1cd43" name="9" x="2072" y="2450">
      <params/>
      <attribs>
         <combo attributeName="size" selection="65536"/>
         <file attributeName="filename" file="/yeahbruv2/hat 3.raw"/>
      </attribs>
   </obj>
   <nets>
      <net>
         <source obj="counter_4" outlet="o"/>
         <dest obj="step_1" inlet="step"/>
         <dest obj="step_2" inlet="step"/>
         <dest obj="step_3" inlet="step"/>
         <dest obj="x_1" inlet="steprec"/>
      </net>
      <net>
         <source obj="counter_3" outlet="o"/>
         <dest obj="step_38" inlet="step"/>
         <dest obj="step_40" inlet="step"/>
         <dest obj="step_42" inlet="step"/>
      </net>
      <net>
         <source obj="tablestore_1" outlet="v0"/>
         <dest obj="8x_1" inlet="in1"/>
      </net>
      <net>
         <source obj="tablestore_1" outlet="v1"/>
         <dest obj="8x_1" inlet="in2"/>
      </net>
      <net>
         <source obj="tablestore_1" outlet="v2"/>
         <dest obj="8x_1" inlet="in3"/>
      </net>
      <net>
         <source obj="tablestore_1" outlet="v3"/>
         <dest obj="8x_1" inlet="in4"/>
      </net>
      <net>
         <source obj="poly_1" outlet="cc0"/>
         <dest obj="tablestore_1" inlet="v0"/>
      </net>
      <net>
         <source obj="poly_1" outlet="cc1"/>
         <dest obj="tablestore_1" inlet="v1"/>
      </net>
      <net>
         <source obj="poly_1" outlet="cc2"/>
         <dest obj="tablestore_1" inlet="v2"/>
      </net>
      <net>
         <source obj="poly_1" outlet="cc3"/>
         <dest obj="tablestore_1" inlet="v3"/>
      </net>
      <net>
         <source obj="poly_1" outlet="cc4"/>
         <dest obj="tablestore_1" inlet="v4"/>
      </net>
      <net>
         <source obj="poly_1" outlet="cc5"/>
         <dest obj="tablestore_1" inlet="v5"/>
      </net>
      <net>
         <source obj="poly_1" outlet="cc6"/>
         <dest obj="tablestore_1" inlet="v6"/>
      </net>
      <net>
         <source obj="poly_1" outlet="cc7"/>
         <dest obj="tablestore_1" inlet="v7"/>
      </net>
      <net>
         <source obj="i_4" outlet="out"/>
         <dest obj="tablestore_1" inlet="offset"/>
      </net>
      <net>
         <source obj="i_5" outlet="out"/>
         <dest obj="step_38" inlet="offset"/>
         <dest obj="step_1" inlet="offset"/>
      </net>
      <net>
         <source obj="i_6" outlet="out"/>
         <dest obj="step_40" inlet="offset"/>
         <dest obj="step_2" inlet="offset"/>
      </net>
      <net>
         <source obj="i_7" outlet="out"/>
         <dest obj="step_42" inlet="offset"/>
         <dest obj="step_3" inlet="offset"/>
      </net>
      <net>
         <source obj="step_38" outlet="value"/>
         <dest obj="scale_1" inlet="c"/>
      </net>
      <net>
         <source obj="step_40" outlet="value"/>
         <dest obj="scale_2" inlet="c"/>
      </net>
      <net>
         <source obj="step_42" outlet="value"/>
         <dest obj="scale_3" inlet="c"/>
      </net>
      <net>
         <source obj="tablestore_1" outlet="v4"/>
         <dest obj="step_1" inlet="v"/>
      </net>
      <net>
         <source obj="tablestore_1" outlet="v5"/>
         <dest obj="step_2" inlet="v"/>
      </net>
      <net>
         <source obj="tablestore_1" outlet="v6"/>
         <dest obj="step_3" inlet="v"/>
      </net>
      <net>
         <source obj="launch_11" outlet="button4"/>
         <dest obj="tcopy_3" inlet="trig"/>
      </net>
      <net>
         <source obj="i_10" outlet="out"/>
         <dest obj="tablestore_2" inlet="offset"/>
      </net>
      <net>
         <source obj="tablestore_2" outlet="v0"/>
         <dest obj="step_1" inlet="rec"/>
      </net>
      <net>
         <source obj="tablestore_2" outlet="v1"/>
         <dest obj="step_2" inlet="rec"/>
      </net>
      <net>
         <source obj="tablestore_2" outlet="v2"/>
         <dest obj="step_3" inlet="rec"/>
      </net>
      <net>
         <source obj="launch_11" outlet="button1"/>
         <dest obj="tablestore_2" inlet="v0"/>
      </net>
      <net>
         <source obj="launch_11" outlet="button2"/>
         <dest obj="tablestore_2" inlet="v1"/>
      </net>
      <net>
         <source obj="launch_11" outlet="button3"/>
         <dest obj="tablestore_2" inlet="v2"/>
      </net>
      <net>
         <source obj="scale_1" outlet="o"/>
         <dest obj="unipolar2bipolar_1" inlet="i"/>
      </net>
      <net>
         <source obj="scale_2" outlet="o"/>
         <dest obj="unipolar2bipolar_2" inlet="i"/>
      </net>
      <net>
         <source obj="scale_3" outlet="o"/>
         <dest obj="unipolar2bipolar_3" inlet="i"/>
      </net>
      <net>
         <source obj="unipolar2bipolar_1" outlet="o"/>
         <dest obj="8x_1" inlet="in5"/>
      </net>
      <net>
         <source obj="unipolar2bipolar_2" outlet="o"/>
         <dest obj="8x_1" inlet="in6"/>
      </net>
      <net>
         <source obj="unipolar2bipolar_3" outlet="o"/>
         <dest obj="8x_1" inlet="in7"/>
      </net>
      <net>
         <source obj="change_1" outlet="trig"/>
         <dest obj="clk_mul_1" inlet="clk"/>
         <dest obj="clk_mul_4" inlet="clk"/>
         <dest obj="clk_mul_2" inlet="clk"/>
         <dest obj="and_8" inlet="i1"/>
         <dest obj="clk_mul_5" inlet="clk"/>
         <dest obj="note_20" inlet="trig"/>
         <dest obj="note_20" inlet="velo"/>
      </net>
      <net>
         <source obj="or_1" outlet="o"/>
         <dest obj="counter_4" inlet="r"/>
         <dest obj="counter2_init_start_1" inlet="r"/>
         <dest obj="counter_2" inlet="r"/>
         <dest obj="counter_1" inlet="r"/>
      </net>
      <net>
         <source obj="and_3" outlet="o"/>
         <dest obj="counter2_init_start_1" inlet="inc"/>
         <dest obj="counter_1" inlet="trig"/>
      </net>
      <net>
         <source obj="counter2_init_start_1" outlet="c"/>
         <dest obj="counter_4" inlet="trig"/>
      </net>
      <net>
         <source obj="counter_1" outlet="o"/>
         <dest obj="x_1" inlet="steplay"/>
      </net>
      <net>
         <source obj="toggle_6" outlet="start"/>
         <dest obj="or_1" inlet="i1"/>
         <dest obj="counter_3" inlet="r"/>
      </net>
      <net>
         <source obj="play_16" outlet="wave"/>
         <dest obj="record" inlet="a1"/>
      </net>
      <net>
         <source obj="play_18" outlet="wave"/>
         <dest obj="record" inlet="a2"/>
      </net>
      <net>
         <source obj="play_17" outlet="wave"/>
         <dest obj="record" inlet="a3"/>
      </net>
      <net>
         <source obj="play_8" outlet="wave"/>
         <dest obj="record" inlet="a4"/>
      </net>
      <net>
         <source obj="play_9" outlet="wave"/>
         <dest obj="record" inlet="a5"/>
      </net>
      <net>
         <source obj="play_10" outlet="wave"/>
         <dest obj="record" inlet="a6"/>
      </net>
      <net>
         <source obj="play_11" outlet="wave"/>
         <dest obj="record" inlet="a7"/>
      </net>
      <net>
         <source obj="play_12" outlet="wave"/>
         <dest obj="record" inlet="a8"/>
      </net>
      <net>
         <source obj="play_13" outlet="wave"/>
         <dest obj="record" inlet="a9"/>
      </net>
      <net>
         <source obj="record" outlet="o1"/>
         <dest obj="mix_1" inlet="in1"/>
      </net>
      <net>
         <source obj="record" outlet="o2"/>
         <dest obj="mix_2" inlet="in1"/>
      </net>
      <net>
         <source obj="record" outlet="o3"/>
         <dest obj="mix_3" inlet="in1"/>
      </net>
      <net>
         <source obj="record" outlet="o4"/>
         <dest obj="mix_1" inlet="in2"/>
      </net>
      <net>
         <source obj="record" outlet="o5"/>
         <dest obj="mix_2" inlet="in2"/>
      </net>
      <net>
         <source obj="record" outlet="o6"/>
         <dest obj="mix_3" inlet="in2"/>
      </net>
      <net>
         <source obj="record" outlet="o7"/>
         <dest obj="mix_1" inlet="in3"/>
      </net>
      <net>
         <source obj="record" outlet="o8"/>
         <dest obj="mix_2" inlet="in3"/>
      </net>
      <net>
         <source obj="record" outlet="o9"/>
         <dest obj="mix_3" inlet="in3"/>
      </net>
      <net>
         <source obj="8x_1" outlet="out5"/>
         <dest obj="play_16" inlet="pitch"/>
         <dest obj="play_8" inlet="pitch"/>
         <dest obj="play_11" inlet="pitch"/>
      </net>
      <net>
         <source obj="8x_1" outlet="out6"/>
         <dest obj="play_18" inlet="pitch"/>
         <dest obj="play_9" inlet="pitch"/>
         <dest obj="play_12" inlet="pitch"/>
      </net>
      <net>
         <source obj="8x_1" outlet="out7"/>
         <dest obj="play_17" inlet="pitch"/>
         <dest obj="play_10" inlet="pitch"/>
         <dest obj="play_13" inlet="pitch"/>
      </net>
      <net>
         <source obj="8x_1" outlet="out4"/>
         <dest obj="vca_4" inlet="v"/>
         <dest obj="vca_5" inlet="v"/>
      </net>
      <net>
         <source obj="vca_6" outlet="o"/>
         <dest obj="vca_5" inlet="a"/>
      </net>
      <net>
         <source obj="mix_1" outlet="out"/>
         <dest obj="gain_2" inlet="in"/>
      </net>
      <net>
         <source obj="vca_5" outlet="o"/>
         <dest obj="out_2" inlet="wave"/>
      </net>
      <net>
         <source obj="vca_4" outlet="o"/>
         <dest obj="vca_1" inlet="a"/>
         <dest obj="+_1" inlet="in1"/>
      </net>
      <net>
         <source obj="mix_2" outlet="out"/>
         <dest obj="2vca_1" inlet="a1"/>
      </net>
      <net>
         <source obj="mix_3" outlet="out"/>
         <dest obj="2vca_1" inlet="a2"/>
      </net>
      <net>
         <source obj="8x_1" outlet="out1"/>
         <dest obj="vca_6" inlet="v"/>
      </net>
      <net>
         <source obj="8x_1" outlet="out2"/>
         <dest obj="2vca_1" inlet="v1"/>
      </net>
      <net>
         <source obj="8x_1" outlet="out3"/>
         <dest obj="2vca_1" inlet="v2"/>
      </net>
      <net>
         <source obj="keyb_9" outlet="gate"/>
         <dest obj="play_16" inlet="start"/>
      </net>
      <net>
         <source obj="Temp_1" outlet="gate"/>
         <dest obj="play_18" inlet="start"/>
      </net>
      <net>
         <source obj="trevort2_3" outlet="gate"/>
         <dest obj="play_17" inlet="start"/>
      </net>
      <net>
         <source obj="keyb_9" outlet="velocity"/>
         <dest obj="record" inlet="v1"/>
      </net>
      <net>
         <source obj="Temp_1" outlet="velocity"/>
         <dest obj="record" inlet="v2"/>
      </net>
      <net>
         <source obj="trevort2_3" outlet="velocity"/>
         <dest obj="record" inlet="v3"/>
      </net>
      <net>
         <source obj="Temp_2" outlet="velocity"/>
         <dest obj="record" inlet="v4"/>
      </net>
      <net>
         <source obj="Temp_3" outlet="velocity"/>
         <dest obj="record" inlet="v5"/>
      </net>
      <net>
         <source obj="Temp2_1" outlet="velocity"/>
         <dest obj="record" inlet="v6"/>
      </net>
      <net>
         <source obj="Temp_4" outlet="velocity"/>
         <dest obj="record" inlet="v7"/>
      </net>
      <net>
         <source obj="Temp_5" outlet="velocity"/>
         <dest obj="record" inlet="v8"/>
      </net>
      <net>
         <source obj="Temp2_2" outlet="velocity"/>
         <dest obj="record" inlet="v9"/>
      </net>
      <net>
         <source obj="x_1" outlet="g"/>
         <dest obj="note_8" inlet="trig"/>
      </net>
      <net>
         <source obj="x_1" outlet="g2"/>
         <dest obj="note_9" inlet="trig"/>
      </net>
      <net>
         <source obj="x_1" outlet="g3"/>
         <dest obj="note_10" inlet="trig"/>
      </net>
      <net>
         <source obj="x_1" outlet="g4"/>
         <dest obj="note_11" inlet="trig"/>
      </net>
      <net>
         <source obj="x_1" outlet="g5"/>
         <dest obj="note_12" inlet="trig"/>
      </net>
      <net>
         <source obj="x_1" outlet="g6"/>
         <dest obj="note_13" inlet="trig"/>
      </net>
      <net>
         <source obj="x_1" outlet="g7"/>
         <dest obj="note_14" inlet="trig"/>
      </net>
      <net>
         <source obj="x_1" outlet="g8"/>
         <dest obj="note_15" inlet="trig"/>
      </net>
      <net>
         <source obj="x_1" outlet="g9"/>
         <dest obj="note_16" inlet="trig"/>
      </net>
      <net>
         <source obj="x_1" outlet="v"/>
         <dest obj="note_8" inlet="velo"/>
      </net>
      <net>
         <source obj="x_1" outlet="v2"/>
         <dest obj="note_9" inlet="velo"/>
      </net>
      <net>
         <source obj="x_1" outlet="v3"/>
         <dest obj="note_10" inlet="velo"/>
      </net>
      <net>
         <source obj="x_1" outlet="v4"/>
         <dest obj="note_11" inlet="velo"/>
      </net>
      <net>
         <source obj="x_1" outlet="v5"/>
         <dest obj="note_12" inlet="velo"/>
      </net>
      <net>
         <source obj="x_1" outlet="v6"/>
         <dest obj="note_13" inlet="velo"/>
      </net>
      <net>
         <source obj="x_1" outlet="v7"/>
         <dest obj="note_14" inlet="velo"/>
      </net>
      <net>
         <source obj="x_1" outlet="v8"/>
         <dest obj="note_15" inlet="velo"/>
      </net>
      <net>
         <source obj="x_1" outlet="v9"/>
         <dest obj="note_16" inlet="velo"/>
      </net>
      <net>
         <source obj="object_1" outlet="out"/>
         <dest obj="x_1" inlet="select"/>
      </net>
      <net>
         <source obj="clk_mul_4" outlet="clk"/>
         <dest obj="and_3" inlet="i2"/>
      </net>
      <net>
         <source obj="toggle_6" outlet="o"/>
         <dest obj="and_3" inlet="i1"/>
         <dest obj="and_5" inlet="i1"/>
         <dest obj="and_20" inlet="i2"/>
         <dest obj="x_1" inlet="play"/>
      </net>
      <net>
         <source obj="clk_mul_5" outlet="clk"/>
         <dest obj="and_5" inlet="i2"/>
      </net>
      <net>
         <source obj="launch_2" outlet="button1"/>
         <dest obj="tcopy_1" inlet="trig"/>
         <dest obj="or_9" inlet="i3"/>
      </net>
      <net>
         <source obj="launch_2" outlet="snapshot"/>
         <dest obj="tcopy_1" inlet="snapshot"/>
      </net>
      <net>
         <source obj="launch_2" outlet="save"/>
         <dest obj="tcopy_1" inlet="save"/>
      </net>
      <net>
         <source obj="c_1" outlet="out"/>
         <dest obj="save_1" inlet="filename"/>
      </net>
      <net>
         <source obj="and_5" outlet="o"/>
         <dest obj="counter_3" inlet="trig"/>
      </net>
      <net>
         <source obj="+_1" outlet="out"/>
         <dest obj="out_1" inlet="wave"/>
      </net>
      <net>
         <source obj="reverb_1" outlet="l"/>
         <dest obj="+_1" inlet="in2"/>
      </net>
      <net>
         <source obj="hp_1" outlet="out"/>
         <dest obj="reverb_1" inlet="l"/>
      </net>
      <net>
         <source obj="compST_1" outlet="outL"/>
         <dest obj="*c_1" inlet="in"/>
      </net>
      <net>
         <source obj="*c_1" outlet="out"/>
         <dest obj="vca_4" inlet="a"/>
      </net>
      <net>
         <source obj="gain_2" outlet="out"/>
         <dest obj="compST_1" inlet="inR"/>
      </net>
      <net>
         <source obj="compST_1" outlet="outR"/>
         <dest obj="gain_1" inlet="in"/>
      </net>
      <net>
         <source obj="gain_1" outlet="out"/>
         <dest obj="vca_6" inlet="a"/>
      </net>
      <net>
         <source obj="flipflop_1" outlet="o"/>
         <dest obj="or_2" inlet="i1"/>
         <dest obj="or_8" inlet="i1"/>
      </net>
      <net>
         <source obj="and_1" outlet="o"/>
         <dest obj="delayedpulse_1" inlet="trig"/>
         <dest obj="flipflop_3" inlet="set"/>
         <dest obj="counter_6" inlet="trig"/>
         <dest obj="or_3" inlet="i1"/>
         <dest obj="or_4" inlet="i1"/>
      </net>
      <net>
         <source obj="object_1" outlet="record"/>
         <dest obj="flipflop_1" inlet="set"/>
         <dest obj="counter_5" inlet="r"/>
         <dest obj="counter_6" inlet="r"/>
         <dest obj="or_9" inlet="i1"/>
      </net>
      <net>
         <source obj="counter_4" outlet="c"/>
         <dest obj="and_1" inlet="i2"/>
         <dest obj="and_2" inlet="i2"/>
      </net>
      <net>
         <source obj="flipflop_2" outlet="o"/>
         <dest obj="or_2" inlet="i2"/>
         <dest obj="x_1" inlet="rec"/>
      </net>
      <net>
         <source obj="counter_5" outlet="c"/>
         <dest obj="or_5" inlet="i1"/>
      </net>
      <net>
         <source obj="or_2" outlet="o"/>
         <dest obj="and_1" inlet="i1"/>
      </net>
      <net>
         <source obj="delayedpulse_1" outlet="pulse"/>
         <dest obj="flipflop_2" inlet="set"/>
         <dest obj="counter_5" inlet="trig"/>
      </net>
      <net>
         <source obj="counter_6" outlet="c"/>
         <dest obj="or_7" inlet="i1"/>
      </net>
      <net>
         <source obj="flipflop_3" outlet="o"/>
         <dest obj="or_6" inlet="i1"/>
      </net>
      <net>
         <source obj="flipflop_4" outlet="o"/>
         <dest obj="and_2" inlet="i1"/>
         <dest obj="or_6" inlet="i2"/>
         <dest obj="or_11" inlet="i1"/>
         <dest obj="inv_4" inlet="i"/>
         <dest obj="b_2" inlet="trig"/>
         <dest obj="or_7" inlet="i2"/>
      </net>
      <net>
         <source obj="and_2" outlet="o"/>
         <dest obj="or_3" inlet="i2"/>
      </net>
      <net>
         <source obj="object_1" outlet="overdub"/>
         <dest obj="flipflop_4" inlet="trig"/>
         <dest obj="or_5" inlet="i2"/>
         <dest obj="or_4" inlet="i2"/>
      </net>
      <net>
         <source obj="or_4" outlet="o"/>
         <dest obj="flipflop_1" inlet="reset"/>
      </net>
      <net>
         <source obj="or_5" outlet="o"/>
         <dest obj="flipflop_2" inlet="reset"/>
      </net>
      <net>
         <source obj="or_7" outlet="o"/>
         <dest obj="flipflop_3" inlet="reset"/>
      </net>
      <net>
         <source obj="object_1" outlet="clear"/>
         <dest obj="or_8" inlet="i2"/>
      </net>
      <net>
         <source obj="object_1" outlet="cleartrigger"/>
         <dest obj="or_3" inlet="i3"/>
      </net>
      <net>
         <source obj="or_9" outlet="o"/>
         <dest obj="flipflop_4" inlet="reset"/>
      </net>
      <net>
         <source obj="object_1" outlet="reset"/>
         <dest obj="or_5" inlet="i3"/>
         <dest obj="or_9" inlet="i2"/>
         <dest obj="or_4" inlet="i3"/>
         <dest obj="or_7" inlet="i3"/>
      </net>
      <net>
         <source obj="inv_1" outlet="o"/>
         <dest obj="Temp2_2" inlet="off"/>
         <dest obj="keyb_9" inlet="off"/>
         <dest obj="Temp_1" inlet="off"/>
         <dest obj="trevort2_3" inlet="off"/>
         <dest obj="Temp_2" inlet="off"/>
         <dest obj="Temp_3" inlet="off"/>
         <dest obj="Temp2_1" inlet="off"/>
         <dest obj="Temp_5" inlet="off"/>
         <dest obj="Temp_4" inlet="off"/>
      </net>
      <net>
         <source obj="trevort2_4" outlet="gate"/>
         <dest obj="inv_1" inlet="i"/>
      </net>
      <net>
         <source obj="Temp_2" outlet="gate"/>
         <dest obj="play_8" inlet="start"/>
      </net>
      <net>
         <source obj="Temp_3" outlet="gate"/>
         <dest obj="play_9" inlet="start"/>
      </net>
      <net>
         <source obj="Temp2_1" outlet="gate"/>
         <dest obj="play_10" inlet="start"/>
      </net>
      <net>
         <source obj="Temp_4" outlet="gate"/>
         <dest obj="play_11" inlet="start"/>
      </net>
      <net>
         <source obj="Temp_5" outlet="gate"/>
         <dest obj="play_12" inlet="start"/>
      </net>
      <net>
         <source obj="Temp2_2" outlet="gate"/>
         <dest obj="play_13" inlet="start"/>
      </net>
      <net>
         <source obj="or_8" outlet="o"/>
         <dest obj="x_1" inlet="clear"/>
      </net>
      <net>
         <source obj="poly_2" outlet="cc0"/>
         <dest obj="tablestore_3" inlet="v0"/>
      </net>
      <net>
         <source obj="poly_2" outlet="cc1"/>
         <dest obj="tablestore_3" inlet="v1"/>
      </net>
      <net>
         <source obj="poly_2" outlet="cc2"/>
         <dest obj="tablestore_3" inlet="v2"/>
      </net>
      <net>
         <source obj="poly_2" outlet="cc3"/>
         <dest obj="tablestore_3" inlet="v3"/>
      </net>
      <net>
         <source obj="poly_2" outlet="cc4"/>
         <dest obj="tablestore_3" inlet="v4"/>
      </net>
      <net>
         <source obj="poly_2" outlet="cc5"/>
         <dest obj="tablestore_3" inlet="v5"/>
      </net>
      <net>
         <source obj="poly_2" outlet="cc6"/>
         <dest obj="tablestore_3" inlet="v6"/>
      </net>
      <net>
         <source obj="poly_2" outlet="cc7"/>
         <dest obj="tablestore_3" inlet="v7"/>
      </net>
      <net>
         <source obj="i_8" outlet="out"/>
         <dest obj="tablestore_3" inlet="offset"/>
      </net>
      <net>
         <source obj="vca_1" outlet="o"/>
         <dest obj="hp_1" inlet="in"/>
      </net>
      <net>
         <source obj="tablestore_3" outlet="v7"/>
         <dest obj="*c_2" inlet="in"/>
      </net>
      <net>
         <source obj="tablestore_3" outlet="v6"/>
         <dest obj="reverb_1" inlet="time"/>
      </net>
      <net>
         <source obj="tablestore_3" outlet="v5"/>
         <dest obj="scale_4" inlet="c"/>
      </net>
      <net>
         <source obj="tablestore_3" outlet="v4"/>
         <dest obj="reverb_1" inlet="lowpass"/>
      </net>
      <net>
         <source obj="tablestore_3" outlet="v3"/>
         <dest obj="scale_5" inlet="c"/>
      </net>
      <net>
         <source obj="or_10" outlet="o"/>
         <dest obj="inv_2" inlet="i"/>
         <dest obj="tablestore_3" inlet="write"/>
      </net>
      <net>
         <source obj="inv_2" outlet="o"/>
         <dest obj="tablestore_1" inlet="write"/>
      </net>
      <net>
         <source obj="note_5" outlet="gate"/>
         <dest obj="or_10" inlet="i1"/>
      </net>
      <net>
         <source obj="scale_4" outlet="o"/>
         <dest obj="reverb_1" inlet="diffusion"/>
      </net>
      <net>
         <source obj="*c_2" outlet="out"/>
         <dest obj="vca_1" inlet="v"/>
      </net>
      <net>
         <source obj="scale_5" outlet="o"/>
         <dest obj="hp_1" inlet="pitch"/>
      </net>
      <net>
         <source obj="note_7" outlet="gate"/>
         <dest obj="or_10" inlet="i2"/>
      </net>
      <net>
         <source obj="launch_3" outlet="snapshot"/>
         <dest obj="tcopy_2" inlet="snapshot"/>
      </net>
      <net>
         <source obj="launch_3" outlet="button1"/>
         <dest obj="tcopy_2" inlet="trig"/>
         <dest obj="object_1" inlet="change"/>
         <dest obj="or_9" inlet="i4"/>
         <dest obj="or_5" inlet="i4"/>
         <dest obj="or_13" inlet="i1"/>
      </net>
      <net>
         <source obj="clk_mul_2" outlet="clk"/>
         <dest obj="and_20" inlet="i1"/>
      </net>
      <net>
         <source obj="and_20" outlet="o"/>
         <dest obj="counter_2" inlet="trig"/>
      </net>
      <net>
         <source obj="2vca_1" outlet="o1"/>
         <dest obj="gain_3" inlet="in"/>
      </net>
      <net>
         <source obj="2vca_1" outlet="o2"/>
         <dest obj="gain_4" inlet="in"/>
      </net>
      <net>
         <source obj="+_2" outlet="out"/>
         <dest obj="compST_1" inlet="inL"/>
      </net>
      <net>
         <source obj="inv_4" outlet="o"/>
         <dest obj="pulselength_2" inlet="trig"/>
         <dest obj="b_1" inlet="trig"/>
      </net>
      <net>
         <source obj="or_11" outlet="o"/>
         <dest obj="x_1" inlet="overdub"/>
      </net>
      <net>
         <source obj="gain_3" outlet="out"/>
         <dest obj="+_2" inlet="in1"/>
      </net>
      <net>
         <source obj="gain_4" outlet="out"/>
         <dest obj="+_2" inlet="in2"/>
      </net>
      <net>
         <source obj="and_8" outlet="o"/>
         <dest obj="flipflop_7" inlet="reset"/>
         <dest obj="toggle_6" inlet="trig"/>
         <dest obj="toggle_1" inlet="trig"/>
      </net>
      <net>
         <source obj="flipflop_7" outlet="o"/>
         <dest obj="and_8" inlet="i2"/>
      </net>
      <net>
         <source obj="launchcontrol_1" outlet="t0"/>
         <dest obj="flipflop_7" inlet="set"/>
      </net>
      <net>
         <source obj="toggle_4" outlet="o"/>
         <dest obj="and_6" inlet="i2"/>
         <dest obj="and_7" inlet="i2"/>
         <dest obj="inv_6" inlet="i"/>
      </net>
      <net>
         <source obj="clock_2" outlet="pos4ppq"/>
         <dest obj="change_1" inlet="in"/>
         <dest obj="==_1" inlet="in1"/>
         <dest obj="==_2" inlet="in1"/>
         <dest obj="i_11" inlet="in"/>
      </net>
      <net>
         <source obj="i_2" outlet="out"/>
         <dest obj="==_2" inlet="in2"/>
      </net>
      <net>
         <source obj="i_3" outlet="out"/>
         <dest obj="==_1" inlet="in2"/>
      </net>
      <net>
         <source obj="==_1" outlet="out"/>
         <dest obj="and_6" inlet="i1"/>
      </net>
      <net>
         <source obj="==_2" outlet="out"/>
         <dest obj="and_7" inlet="i1"/>
      </net>
      <net>
         <source obj="launchcontrol_1" outlet="t2"/>
         <dest obj="toggle_4" inlet="trig"/>
      </net>
      <net>
         <source obj="inv_6" outlet="o"/>
         <dest obj="clock_1" inlet="run"/>
      </net>
      <net>
         <source obj="toggle_1" outlet="stop"/>
         <dest obj="clock_tx_1" inlet="stop"/>
         <dest obj="clock_tx_2" inlet="stop"/>
         <dest obj="note_21" inlet="velo"/>
         <dest obj="note_21" inlet="trig"/>
      </net>
      <net>
         <source obj="i_9" outlet="out"/>
         <dest obj="note_18" inlet="note"/>
      </net>
      <net>
         <source obj="clock_2" outlet="pos24ppq"/>
         <dest obj="i_12" inlet="in"/>
         <dest obj="change_2" inlet="in"/>
      </net>
      <net>
         <source obj="i_13" outlet="out"/>
         <dest obj="note_20" inlet="note"/>
      </net>
      <net>
         <source obj="i_14" outlet="out"/>
         <dest obj="note_21" inlet="note"/>
      </net>
      <net>
         <source obj="keyb_1" outlet="gate"/>
         <dest obj="save_1" inlet="trig"/>
      </net>
      <net>
         <source obj="keyb_2" outlet="gate"/>
         <dest obj="load_3" inlet="trig"/>
      </net>
      <net>
         <source obj="change_2" outlet="trig"/>
         <dest obj="clock_tx_1" inlet="24ppq"/>
         <dest obj="clock_tx_2" inlet="24ppq"/>
      </net>
      <net>
         <source obj="launch_3" outlet="save"/>
         <dest obj="tcopy_2" inlet="save"/>
      </net>
      <net>
         <source obj="toggle_6" outlet="stop"/>
         <dest obj="counter_1" inlet="rstop"/>
      </net>
      <net>
         <source obj="toggle_1" outlet="start"/>
         <dest obj="clock_tx_1" inlet="start"/>
         <dest obj="clock_tx_2" inlet="start"/>
         <dest obj="note_18" inlet="velo"/>
         <dest obj="note_18" inlet="trig"/>
      </net>
      <net>
         <source obj="keyb_3" outlet="gate"/>
         <dest obj="or_15" inlet="i1"/>
      </net>
      <net>
         <source obj="dial_1" outlet="out"/>
         <dest obj="note_1" inlet="note"/>
      </net>
      <net>
         <source obj="dial_2" outlet="out"/>
         <dest obj="note_1" inlet="velo"/>
      </net>
      <net>
         <source obj="map_1" outlet="o"/>
         <dest obj="clock_1" inlet="bpm"/>
      </net>
      <net>
         <source obj="cc_1" outlet="midiCC"/>
         <dest obj="tablestore_4" inlet="v0"/>
      </net>
      <net>
         <source obj="tablestore_4" outlet="v0"/>
         <dest obj="map_1" inlet="c"/>
      </net>
      <net>
         <source obj="keyb_4" outlet="gate"/>
         <dest obj="or_1" inlet="i2"/>
      </net>
      <net>
         <source obj="and_7" outlet="o"/>
         <dest obj="toggle_1" inlet="reset"/>
         <dest obj="or_15" inlet="i2"/>
      </net>
      <net>
         <source obj="and_6" outlet="o"/>
         <dest obj="toggle_1" inlet="set"/>
         <dest obj="or_13" inlet="i2"/>
      </net>
      <net>
         <source obj="or_13" outlet="o"/>
         <dest obj="toggle_6" inlet="set"/>
      </net>
      <net>
         <source obj="or_15" outlet="o"/>
         <dest obj="toggle_6" inlet="reset"/>
      </net>
      <net>
         <source obj="or_3" outlet="o"/>
         <dest obj="x_1" inlet="trig"/>
      </net>
      <net>
         <source obj="pulselength_2" outlet="pulse"/>
         <dest obj="or_11" inlet="i2"/>
      </net>
      <net>
         <source obj="b_1" outlet="pulse"/>
         <dest obj="or_3" inlet="i4"/>
      </net>
      <net>
         <source obj="or_6" outlet="o"/>
         <dest obj="note_1" inlet="trig"/>
      </net>
      <net>
         <source obj="b_2" outlet="pulse"/>
         <dest obj="tcopy_6" inlet="trig"/>
      </net>
   </nets>
   <settings>
      <subpatchmode>no</subpatchmode>
      <MidiChannel>10</MidiChannel>
      <NPresets>0</NPresets>
      <NPresetEntries>0</NPresetEntries>
      <NModulationSources>0</NModulationSources>
      <NModulationTargetsPerSource>0</NModulationTargetsPerSource>
   </settings>
   <notes><![CDATA[]]></notes>
   <windowPos>
      <x>-8</x>
      <y>0</y>
      <width>1616</width>
      <height>876</height>
   </windowPos>
</patch-1.0>