<!DOCTYPE html>
<html lang="en" class="desktop-view not-mobile-device  anon">
  <head>
    <meta charset="utf-8">
    <title>MIDI transpose patch example - Patching - Axoloti Community</title>
    <meta name="description" content="Ok, so this is probably the most wasteful usage of an Axoloti, but I wanted to see how it would be to do some MIDI processing, as well as get some exercise in patches and object writing. 

What I wanted is a MIDI transpo&amp;hellip;">
    <meta name="discourse_theme_key" content="b5ce34aa-3ee1-4d3e-b190-0a2ab62c7408">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="http://community.axoloti.com/t/midi-transpose-patch-example/1328" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="http://community.axoloti.com/opensearch.xml" title="Axoloti Community Search">

    

      <meta name="fragment" content="!">


    <script>
      window.EmberENV = window.EmberENV || {};
      window.EmberENV['FORCE_JQUERY'] = true;
    </script>

    <link rel='preload' href='/assets/locales/en-5bbc8626277bd471a9fcd063411070c515cad1a78c86a38ad27792a513f11bd4.js' as='script'/>
<script src='/assets/locales/en-5bbc8626277bd471a9fcd063411070c515cad1a78c86a38ad27792a513f11bd4.js'></script>
    <link rel='preload' href='/assets/ember_jquery-a8dcbd325e04410f036f2a791d66d8316c48c5387acdd914de99a5dd6afb3cd3.js' as='script'/>
<script src='/assets/ember_jquery-a8dcbd325e04410f036f2a791d66d8316c48c5387acdd914de99a5dd6afb3cd3.js'></script>
    <link rel='preload' href='/assets/preload-store-ec90ffab9d7a6d9e507dda7cf7343e9d50b8bce624f7f44486ac8fd6b9814309.js' as='script'/>
<script src='/assets/preload-store-ec90ffab9d7a6d9e507dda7cf7343e9d50b8bce624f7f44486ac8fd6b9814309.js'></script>
    <link rel='preload' href='/assets/vendor-199fce5a9e9895329b51b04605f1f5061951acb488baa6b2ea2fc2ae36def529.js' as='script'/>
<script src='/assets/vendor-199fce5a9e9895329b51b04605f1f5061951acb488baa6b2ea2fc2ae36def529.js'></script>
    <link rel='preload' href='/assets/pretty-text-bundle-e888dd08c05658b05da2124dd56955aa8fe94225d532fb8bfa3264a3eb2aa581.js' as='script'/>
<script src='/assets/pretty-text-bundle-e888dd08c05658b05da2124dd56955aa8fe94225d532fb8bfa3264a3eb2aa581.js'></script>
    <link rel='preload' href='/assets/application-13a284a273d9247cd8b3d19ae7d053297aeb5b3eabaa9a901c9fd236fb7dfe60.js' as='script'/>
<script src='/assets/application-13a284a273d9247cd8b3d19ae7d053297aeb5b3eabaa9a901c9fd236fb7dfe60.js'></script>
    <link rel='preload' href='/assets/plugin-3a5d56cbe920ebb10de8abd59e839cf2d48d598ca07a267327f96e3fec534065.js' as='script'/>
<script src='/assets/plugin-3a5d56cbe920ebb10de8abd59e839cf2d48d598ca07a267327f96e3fec534065.js'></script>
    <link rel='preload' href='/assets/plugin-third-party-346f0166b34a16f0ac66ea388d925068ee8f76267dc167ac7173785ea046f465.js' as='script'/>
<script src='/assets/plugin-third-party-346f0166b34a16f0ac66ea388d925068ee8f76267dc167ac7173785ea046f465.js'></script>


      

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

    <link rel="manifest" href="/manifest.json">


      <link href="/stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>


  <link href="/stylesheets/desktop_theme_1_8c71a74fd9227b24e44e6f42af02a696e954cd89.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop_theme"/>

    

<link rel="preload" href="/assets/fontawesome-webfont-2adefcbc041e7d18fcf2d417879dc5a09997aa64d675b7a3c4b6ce33da13f3fe.woff2?http://community.axoloti.com&2&v=4.7.0" as="font" type="font/woff2" crossorigin />
<style>
  @font-face {
    font-family: 'FontAwesome';
    src: url('/assets/fontawesome-webfont-2adefcbc041e7d18fcf2d417879dc5a09997aa64d675b7a3c4b6ce33da13f3fe.woff2?http://community.axoloti.com&2&v=4.7.0') format('woff2'),
         url('/assets/fontawesome-webfont-ba0c59deb5450f5cb41b3f93609ee2d0d995415877ddfa223e8a8a7533474f07.woff?http://community.axoloti.com&amp;2&v=4.7.0') format('woff');
  }
</style>


      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;MIDI transpose patch example&#39;" href="http://community.axoloti.com/t/midi-transpose-patch-example/1328.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/optimized/2X/1/14a0b37312f02196fc93c60dcc7a444a05cb89a0_1_690x393.jpg" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/optimized/2X/1/14a0b37312f02196fc93c60dcc7a444a05cb89a0_1_690x393.jpg" />
<meta property="og:url" content="http://community.axoloti.com/t/midi-transpose-patch-example/1328" />
<meta name="twitter:url" content="http://community.axoloti.com/t/midi-transpose-patch-example/1328" />
<meta property="og:title" content="MIDI transpose patch example" />
<meta name="twitter:title" content="MIDI transpose patch example" />
<meta property="og:description" content="Ok, so this is probably the most wasteful usage of an Axoloti, but I wanted to see how it would be to do some MIDI processing, as well as get some exercise in patches and object writing.   What I wanted is a MIDI transpose function that I can connect to any MIDI keyboard which will simply shift the MIDI notes up or down by octaves. As an added complexity, I want it to work even if the transpose button is pressed while notes are held down, so simply shifting the note number won&#39;t work. And I want..." />
<meta name="twitter:description" content="Ok, so this is probably the most wasteful usage of an Axoloti, but I wanted to see how it would be to do some MIDI processing, as well as get some exercise in patches and object writing.   What I wanted is a MIDI transpose function that I can connect to any MIDI keyboard which will simply shift the MIDI notes up or down by octaves. As an added complexity, I want it to work even if the transpose button is pressed while notes are held down, so simply shifting the note number won&#39;t work. And I want..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="5 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="2 ❤" />



    
  </head>

  <body class="">
    

    <div class='debug-eyeline'></div>

    <noscript data-path="/t/midi-transpose-patch-example/1328">
      <header class="d-header">
  <div class="wrap">
    <div class="contents">
      <div class="row">
        <div class="title span13">
          <a href="/">
              <img src="/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo">
          </a>
        </div>
            <div class='panel clearfix'>
              <a href="/login" class='btn btn-primary btn-small login-button'><i class="fa fa-user"></i> Log In</a>
            </div>
      </div>
    </div>
  </div>
</header>

      <div id="main-outlet" class="wrap">
        <!-- preload-content: -->
        <h1>
  <a href="/t/midi-transpose-patch-example/1328">MIDI transpose patch example</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="/c/patching" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/ricard'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2016-03-19T23:03:13Z' itemprop='datePublished'>
             2016-03-19 23:03:13 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ok, so this is probably the most wasteful usage of an Axoloti, but I wanted to see how it would be to do some MIDI processing, as well as get some exercise in patches and object writing.</p>

<p>What I wanted is a MIDI transpose function that I can connect to any MIDI keyboard which will simply shift the MIDI notes up or down by octaves. As an added complexity, I want it to work even if the transpose button is pressed while notes are held down, so simply shifting the note number won't work. And I want it to work polyphonically too.</p>

<p>So to this avail I created a MIDI transpose object, which takes MIDI in data on any channel, transposes it by an amount governed by its input, and outputs it on the same channel.</p>

<p>In the patch, the transposition is controlled by using MIDI program change: MIDI program numbers 0,1,2,3,4,5,6,7 set the transposition to -4,-3-,2-,1,0,1,2 or 3 octaves, respectively. Actually, any group of divisible-by-8 program numbers achieve the same thing.</p>

<p>I noticed by the way, that the MIDI input objects such as midi/in/pgm have an internal channel attribute that is undefined, so they only react to channel 1 (I suppose undefined attributes default to 0), and the channel cannot be set. So currently, the patch only responds to program changes on channel 0 even though the actual transposition can take place on any channel.</p>

<p>A limitation currently with the transpose object is that it only functions correctly one a single channel at a time. It has an internal vector storing the transpositions at the time of the note on in order to retain that transposition for the subsequent note off, and all note on events regardless of channel are stored in the vector. To do this properly would require a multi-dimensional vector, but that would head up 16 times more memory too (ok, so it only ends up being about 2 kbytes in the end, but still...). Room for future improvement.</p>

<p>The sample-and-hold is there so that a new transposition is only performed when a program change is actually received; since the output from the midi/in/pgm object defaults to 0, that would give a start-up transposition of -4 octaves otherwise.</p>

<p>There's also the added bonus of the red led on the Axoloti board lighting up every time a note on is received. It's not part of the transpose function.</p>

<p>I wasn't sure where to put the transpose object definition (I'm using version 1.0.6). It is currently in axoloti/objects/midi .</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/14a0b37312f02196fc93c60dcc7a444a05cb89a0" href="//community.axoloti.com/uploads/default/original/2X/1/14a0b37312f02196fc93c60dcc7a444a05cb89a0.jpg" class="lightbox" title="miditranspose.jpg"><img src="//community.axoloti.com/uploads/default/optimized/2X/1/14a0b37312f02196fc93c60dcc7a444a05cb89a0_1_690x393.jpg" width="690" height="393"><div class="meta">
<span class="filename">miditranspose.jpg</span><span class="informations">1182x674 61.3 KB</span><span class="expand"></span>
</div></a></div></p>

<p><a class="attachment" href="//community.axoloti.com/uploads/default/original/2X/9/960bfcc001096f1d6fc3d750e0226fa5979a5dff.axp">miditranspose.axp</a> (4.7 KB)</p>

<p><a class="attachment" href="//community.axoloti.com/uploads/default/original/2X/d/d07f271bf1bbe78e1c390ea2085b84a83793b267.axo">transpose.axo</a> (2.4 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:2'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='MIDI transpose patch example'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-03-20T12:15:52Z' itemprop='datePublished'>
             2016-03-20 12:15:52 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="1" data-topic="1328"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/ricard/40/163_1.png" class="avatar">ricard:</div>
<blockquote><p>Ok, so this is probably the most wasteful usage of an Axoloti,</p></blockquote></aside>

<p>Oh, Id not say its a waste of Axoloti resources, to the contrary I think of axoloti as a swiss army knife, you can use  it for all sorts of things, sometimes simultaneous, sometimes just for a particular use.<br>(its why its nice to a have more than one, means you just have a few blocks you can move around <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"> ) </p>

<aside class="quote" data-post="1" data-topic="1328"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/ricard/40/163_1.png" class="avatar">ricard:</div>
<blockquote><p>I noticed by the way, that the MIDI input objects such as midi/in/pgm have an internal channel attribute that is undefined,</p></blockquote></aside>

<p>yeah the thing is most of the time you want the midi in objects to be 'omni', to react to any channel, and then its the patch that restricts this down... but in the case of the top level patch, in particular, this is not always desirable.<br>actually I think, once in dev, I did put the channel selector on all in objects, but its was deemed as potentially confusing, a source for user bugs... perhaps we should review this again.</p>

<aside class="quote" data-post="1" data-topic="1328"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/ricard/40/163_1.png" class="avatar">ricard:</div>
<blockquote><p>To do this properly would require a multi-dimensional vector, but that would head up 16 times more memory too</p></blockquote></aside>

<p>I think I would probably store active notes, i.e. if you have 5 notes held down, you only need an array with 5 elements, so number of channels becomes irrelevant.</p>

<aside class="quote" data-post="1" data-topic="1328"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/ricard/40/163_1.png" class="avatar">ricard:</div>
<blockquote><p>There's also the added bonus of the red led on the Axoloti board lighting up every time a note on is received. It's not part of the transpose function.</p></blockquote></aside>

<p>this is cool, actually Ive been meaning to just put a controller script together to flash this LED on any midi activity, its so handy knowing when there is midi being received <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='MIDI transpose patch example'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/keyman'><b itemprop='author'>keyman</b></a>
           
           <time datetime='2016-03-20T12:36:28Z' itemprop='datePublished'>
             2016-03-20 12:36:28 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Not much to add as i'm with thetechnobear opinion; it works great!<br>Nice to have along a Controller object? but for me this would have to be addressed to CC number, leaving PGM for patch change <img src="/images/emoji/emoji_one/wink.png?v=0" title=":wink:" class="emoji" alt=":wink:"> easy to change?</p>

<p>Just end to say you can be part of :<br><a href="//community.axoloti.com/c/community-library" class="onebox" target="_blank">http://community.axoloti.com/c/community-library</a></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='MIDI transpose patch example'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/ricard'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2016-03-20T22:08:35Z' itemprop='datePublished'>
             2016-03-20 22:08:35 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="2" data-topic="1328" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>yeah the thing is most of the time you want the midi in objects to be 'omni', to react to any channel, and then its the patch that restricts this down... but in the case of the top level patch, in particular, this is not always desirable.<br>actually I think, once in dev, I did put the channel selector on all in objects, but its was deemed as potentially confusing, a source for user bugs... perhaps we should review this again.</p></blockquote></aside>

<p>I'm not sure I follow you, do you mean that you'd have MIDI reception at a top level, and then transfer the data to subpatches using an internal MIDI port, or something like that?</p>

<p>Perhaps there could be a "global" MIDI channel object for the whole patch, and each MIDI input object could follow the global object, as it is likely that all MIDI input objects would respond to the same channel. If no global object were present, the inputs could default to omni.</p>

<p>As it is right now it is largely confusing, because there's no indication that there's any channel being selected, and it's hard coded to channel 1. Perhaps most people use channel 1 for the outputs from their master keyboards, so it doesn't really matter in most cases?</p>

<aside class="quote" data-post="2" data-topic="1328" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote>
<aside class="quote" data-post="1" data-topic="1328"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/ricard/40/163_1.png" class="avatar">ricard:</div>
<blockquote><p>To do this properly would require a multi-dimensional vector, but that would head up 16 times more memory too</p></blockquote></aside><p>I think I would probably store active notes, i.e. if you have 5 notes held down, you only need an array with 5 elements, so number of channels becomes irrelevant.</p>
</blockquote></aside>

<p>You don't know beforehand how many simultaneous notes there will be held (although it's unlikely to be many more than the number of fingers for an average person! <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"> in theory it could be the number of available MIDI notes though), so you don't know how large to make the array, and also, that approach means you have to search through the list in order when receiving the note off. If the patch doesn't do much else it would be ok, but I think there's a point to keeping the CPU load as low as possible so I'd like to avoid searches whenever possible.</p>

<p>A relevant question is: roughly how much RAM is available for a patch for this type of data?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='MIDI transpose patch example'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-03-21T00:25:01Z' itemprop='datePublished'>
             2016-03-21 00:25:01 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>no, thats not how it works...</p>

<p>attr_midichannel is replaced when the patch is compiled, and is set to the channel that is set in patch settings. (and 0 can = omni), the messages are then routed directly, no 'internal port'<br>so the principle is, that it is the patch settings that determine the midi channel in use. (so yes there is an indication of which midi channels, its there!)<br>this way you can have an different sub patches set for different midi channels e.g. one for lead sound, another for bass another for drums etc.</p>

<p>my point was its could be a bit different in the top level patch , where you might want to deal with this differently, e.g. have some objects that were tied to a particular channel, without having to create a subpatch to do the filtering.</p>

<p>Id not like a global or even patch midi object, too easy for users to miss, and again, doesn't help when you want a single patch to handle multiple channels.</p>

<p>its ok the way it is, I was trying to explain why it is as it is, and that its not hard coded to 1, as you said... and then got a bit side tracked.</p>

<p>touches vs notes, as with all things, you have to make design choices, there are always trade-offs.<br>was just a suggestions vs. what seemed a pretty large memory usage, which is going to me mainly filled with zeros <img src="/images/emoji/emoji_one/wink.png?v=0" title=":wink:" class="emoji" alt=":wink:"> <br>but hey, its your object, so your choice... you decide the 'constraints'.</p>

<p>you have plenty of memory as long as you use sdram tables. but of course the larger you make it, the less likely it is it can be used with other patches.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='MIDI transpose patch example'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/ricard'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2016-03-21T05:35:19Z' itemprop='datePublished'>
             2016-03-21 05:35:19 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="5" data-topic="1328" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote>
<p>no, thats not how it works...</p>
<p>attr_midichannel is replaced when the patch is compiled, and is set to the channel that is set in patch settings. (and 0 can = omni), the messages are then routed directly, no 'internal port'</p>
</blockquote></aside>

<p>Ok, thanks for clarifying that, I hadn't really noticed the MIDI channel settings in the settings window. It all makes more sense now, I was otherwise wondering why I didn't get an 'undefined variable' error when attr_midichannel was being referenced in the object but there was no definition for it.</p>

<p>However, I can't seem to set the midi channel to 0 for omni, and as the code is written it tests directly against attr_midichannel with no special case for 0.</p>

<aside class="quote" data-post="5" data-topic="1328" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>so the principle is, that it is the patch settings that determine the midi channel in use. (so yes there is an indication of which midi channels, its there!)<br>this way you can have an different sub patches set for different midi channels e.g. one for lead sound, another for bass another for drums etc.</p></blockquote></aside>

<p>Yes, that is really the way I was hoping it would work.<br></p>

<aside class="quote" data-post="5" data-topic="1328" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>my point was its could be a bit different in the top level patch , where you might want to deal with this differently, e.g. have some objects that were tied to a particular channel, without having to create a subpatch to do the filtering.</p></blockquote></aside>

<p>How about two different types if midi/input objects, one with a local channel selection and one using the global one? Or perhaps even better having a channel selector that by default is set to the special value 'patch', where it gets the setting from attr_midichannel. That way if you through up a midi input object, it by default just follows the patch settings, but you can always change it if you want.<br></p>

<aside class="quote" data-post="5" data-topic="1328" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>Id not like a global or even patch midi object, too easy for users to miss, and again, doesn't help when you want a single patch to handle multiple channels.</p></blockquote></aside>

<p>I agree, yes it's much better the way it is.<br></p>

<aside class="quote" data-post="5" data-topic="1328" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>was just a suggestions vs. what seemed a pretty large memory usage, which is going to me mainly filled with zeros <img src="/images/emoji/emoji_one/wink.png?v=0" title=":wink:" class="emoji" alt=":wink:"> <br>but hey, its your object, so your choice... you decide the 'constraints'.</p></blockquote></aside>

<p>After I wrote my reply I realized that the search would be done when a MIDI event occurs, not at the k-rate code so I guess it would not impact too much on the available DSP performance which was what I was getting at - but of course when something does happen it will take time at that particular point.<br></p>

<aside class="quote" data-post="5" data-topic="1328" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>you have plenty of memory as long as you use sdram tables. but of course the larger you make it, the less likely it is it can be used with other patches.</p></blockquote></aside>

<p>I suppose if I just declare an array it goes into the internal RAM of the STM32F427? That's why I was wondering if there's a rough idea of how much is actually available in this application.</p>

<p>Can I set up an array in SDRAM using a C declaration with some qualifier of some sort, or does one need special functions for that?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='MIDI transpose patch example'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/keyman'><b itemprop='author'>keyman</b></a>
           
           <time datetime='2016-03-21T11:57:23Z' itemprop='datePublished'>
             2016-03-21 11:57:23 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sdram 8Mb (is available for user applications)</p>

<aside class="quote" data-topic="613" data-slug="recording-audio-to-sdcard" data-post="14"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/johannes/40/8_1.png" class="avatar"><a href="//community.axoloti.com/t/recording-audio-to-sdcard/613/14">Recording audio to sdcard</a>
</div>
<blockquote><p>SDram is unrelated to SDcard. The only similarity is the SD letters.   Sdram  - is volatile storage (contents lost when you remove power) - allows random access (read a single sample from a given location)   Sdcard - non-volatile storage, preserves contents when you remove power, "flash" memory - only allows block access, can't just read a single sample but needs to setup a block transfer, which is extremely inefficient when only a single sample is needed.</p></blockquote></aside>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='MIDI transpose patch example'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-03-21T13:48:39Z' itemprop='datePublished'>
             2016-03-21 13:48:39 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="6" data-topic="1328"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/ricard/40/163_1.png" class="avatar">ricard:</div>
<blockquote><p>Can I set up an array in SDRAM using a C declaration with some qualifier of some sort, or does one need special functions for that?</p></blockquote></aside>

<p>yes, you can of course see this in the alloc table sdram object </p>

<pre><code>static int16_t _array[attr_poly][LENGTH] __attribute__ ((section (".sdram")));</code></pre>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='MIDI transpose patch example'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/ricard'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2016-03-22T05:35:25Z' itemprop='datePublished'>
             2016-03-22 05:35:25 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ok, here's an updated version, which has a configurable midi/thru object so that it echos other MIDI messages than note on and off. I've also added an omni attribute to the midi/transpose and midi/thru objects so that they either operate on any MIDI channel, or the specific one set for the patch.</p>

<p>When I tried adding parameters I got an 'out of scope' error when referencing them in the MIDI code. What I seemed to need to do is have internal local variables to which I copy the parameter values in the k-rate code, which in turn are accessed by the MIDI code.</p>

<p>I've been toying with the idea of creating 'note on any' and 'note off any' objects, similar to 'cc any', which would allow me to do the MIDI processing in the actual patch and not inside an object. It would incur more latency though, as each step of processing would incur a k-rate sample time delay (which admittedly is only 333µs).</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/b18423206a1e356d8a736ffa98e86f6c24a2dc45" href="//community.axoloti.com/uploads/default/original/2X/b/b18423206a1e356d8a736ffa98e86f6c24a2dc45.jpg" class="lightbox" title="miditranspose2.jpg"><img src="//community.axoloti.com/uploads/default/optimized/2X/b/b18423206a1e356d8a736ffa98e86f6c24a2dc45_1_690x399.jpg" width="690" height="399"><div class="meta">
<span class="filename">miditranspose2.jpg</span><span class="informations">1186x687 65.7 KB</span><span class="expand"></span>
</div></a></div><br><a class="attachment" href="//community.axoloti.com/uploads/default/original/2X/1/1e275cecd161a9ce5898df8271e7997c33f20f36.axp">miditranspose.axp</a> (5.6 KB) <a class="attachment" href="//community.axoloti.com/uploads/default/original/2X/2/27b4fd4af7a4162cf94f8fd6d56eaf896d5048aa.axo">transpose.axo</a> (2.7 KB) <a class="attachment" href="//community.axoloti.com/uploads/default/original/2X/6/6638b89426c96667609226233cb64148b6b37de4.axo">thru.axo</a> (3.6 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='MIDI transpose patch example'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Doublecoolbossman'><b itemprop='author'>Doublecoolbossman</b></a>
           
           <time datetime='2017-03-21T11:26:48Z' itemprop='datePublished'>
             2017-03-21 11:26:48 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Is there a way to convert a signal to program change (like there is with midi CC's) within the axoloti? I need a simple way to shift up and down octaves and I will be using a midi controller that doesn't send program change. Id like to be able to transpose via push buttons into the gpios.</p>

<p> I've thought about adding/subtracting constants (12) to the midi notes using flip/flops, vcas, and mixers, but if there is a more elegant way, I would prefer it.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='MIDI transpose patch example'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2017-03-21T12:35:33Z' itemprop='datePublished'>
             2017-03-21 12:35:33 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="10" data-topic="1328"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar_proxy/v2/letter/d/bc79bd/40.png" class="avatar">Doublecoolbossman:</div>
<blockquote><p>Is there a way to convert a signal to program change (like there is with midi CC's) within the axoloti?</p></blockquote></aside>

<p>Im not quite sure what you mean really, you can use midi/in/cc in a same way as the example above instead of midi/in/pgm.... </p>

<aside class="quote" data-post="10" data-topic="1328"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar_proxy/v2/letter/d/bc79bd/40.png" class="avatar">Doublecoolbossman:</div>
<blockquote><p>Id like to be able to transpose via push buttons into the gpios.</p></blockquote></aside>

<p>sure you can use gpio/in/digital</p>

<p>really it all comes down to what you want to do exactly, basically in a patch, if the input comes from midi or gpio, it all gets converted into the same data types, from which you can then add your own transpose logic. (which depends on your needs e.g. do you want a simple up/down 1 octave, or to be able to select octaves from a dial/pot etc )</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='MIDI transpose patch example'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Doublecoolbossman'><b itemprop='author'>Doublecoolbossman</b></a>
           
           <time datetime='2017-03-21T13:39:56Z' itemprop='datePublished'>
             2017-03-21 13:39:56 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>D'oh! Thanks, I'll try it out with midi cc!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='MIDI transpose patch example'>
      <hr>
  </div>






        <!-- :preload-content -->
        <footer>
          <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
            <a href='/'>Home</a>
            <a href="/categories">Categories</a>
            <a href="/guidelines">FAQ/Guidelines</a>
            <a href="/tos">Terms of Service</a>
            <a href="/privacy">Privacy Policy</a>
          </nav>
        </footer>
      </div>

      <footer id='noscript-footer'>
        <p>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
      </footer>
    </noscript>

      

    <section id='main'>
    </section>

    <div id='offscreen-content'>
    </div>

      <form id='hidden-login-form' method="post" action="/login" style="display: none;">
        <input name="username" type="text"     id="signin_username">
        <input name="password" type="password" id="signin_password">
        <input name="redirect" type="hidden">
        <input type="submit" id="signin-button" value="Log In">
      </form>

      <script>
      (function() {
        var ps = require('preload-store').default;
          ps.store("site", {"default_archetype":"regular","notification_types":{"mentioned":1,"replied":2,"quoted":3,"edited":4,"liked":5,"private_message":6,"invited_to_private_message":7,"invitee_accepted":8,"posted":9,"moved_post":10,"linked":11,"granted_badge":12,"invited_to_topic":13,"custom":14,"group_mentioned":15,"group_message_summary":16,"watching_first_post":17,"topic_reminder":18},"post_types":{"regular":1,"moderator_action":2,"small_action":3,"whisper":4},"groups":[{"id":1,"name":"admins"},{"id":0,"name":"everyone"},{"id":2,"name":"moderators"},{"id":3,"name":"staff"},{"id":10,"name":"trust_level_0"},{"id":11,"name":"trust_level_1"},{"id":12,"name":"trust_level_2"},{"id":13,"name":"trust_level_3"},{"id":14,"name":"trust_level_4"}],"filters":["latest","unread","new","read","posted","bookmarks"],"periods":["all","yearly","quarterly","monthly","weekly","daily"],"top_menu_items":["latest","unread","new","read","posted","bookmarks","category","categories","top"],"anonymous_top_menu_items":["latest","top","categories","category","categories","top"],"uncategorized_category_id":1,"is_readonly":false,"disabled_plugins":[],"user_field_max_length":2048,"suppressed_from_homepage_category_ids":[],"post_action_types":[{"name_key":"bookmark","name":"Bookmark","description":"Bookmark this post","short_description":"Bookmark this post","long_form":"bookmarked this post","is_flag":false,"icon":null,"id":1,"is_custom_flag":false},{"name_key":"like","name":"Like","description":"Like this post","short_description":"Like this post","long_form":"liked this","is_flag":false,"icon":"heart","id":2,"is_custom_flag":false},{"name_key":"off_topic","name":"Off-Topic","description":"This post is not relevant to the current discussion as defined by the title and first post, and should probably be moved elsewhere.","short_description":"Not relevant to the discussion","long_form":"flagged this as off-topic","is_flag":true,"icon":null,"id":3,"is_custom_flag":false},{"name_key":"inappropriate","name":"Inappropriate","description":"This post contains content that a reasonable person would consider offensive, abusive, or a violation of \u003ca href=\"/guidelines\"\u003eour community guidelines\u003c/a\u003e.","short_description":"A violation of \u003ca href=\"/guidelines\"\u003eour community guidelines\u003c/a\u003e","long_form":"flagged this as inappropriate","is_flag":true,"icon":null,"id":4,"is_custom_flag":false},{"name_key":"vote","name":"Vote","description":"Vote for this post","short_description":"Vote for this post","long_form":"voted for this post","is_flag":false,"icon":null,"id":5,"is_custom_flag":false},{"name_key":"spam","name":"Spam","description":"This post is an advertisement, or vandalism. It is not useful or relevant to the current topic.","short_description":"This is an advertisement or vandalism","long_form":"flagged this as spam","is_flag":true,"icon":null,"id":8,"is_custom_flag":false},{"name_key":"notify_user","name":"Send @{{username}} a message","description":"I want to talk to this person directly and privately about their post.","short_description":"I want to talk to this person directly and privately about their post.","long_form":"messaged user","is_flag":true,"icon":null,"id":6,"is_custom_flag":true},{"name_key":"notify_moderators","name":"Something Else","description":"This post requires staff attention for another reason not listed above.","short_description":"Requires staff attention for another reason","long_form":"flagged this for staff attention","is_flag":true,"icon":null,"id":7,"is_custom_flag":true}],"topic_flag_types":[{"name_key":"inappropriate","name":"Inappropriate","description":"This topic contains content that a reasonable person would consider offensive, abusive, or a violation of \u003ca href=\"/guidelines\"\u003eour community guidelines\u003c/a\u003e.","short_description":"translation missing: en.topic_flag_types.inappropriate.short_description","long_form":"flagged this as inappropriate","is_flag":true,"icon":null,"id":4,"is_custom_flag":false},{"name_key":"spam","name":"Spam","description":"This topic is an advertisement. It is not useful or relevant to this site, but promotional in nature.","short_description":"translation missing: en.topic_flag_types.spam.short_description","long_form":"flagged this as spam","is_flag":true,"icon":null,"id":8,"is_custom_flag":false},{"name_key":"notify_moderators","name":"Something Else","description":"This topic requires general staff attention based on the \u003ca href=\"/guidelines\"\u003eguidelines\u003c/a\u003e, \u003ca href=\"/tos\"\u003eTOS\u003c/a\u003e, or for another reason not listed above.","short_description":"translation missing: en.topic_flag_types.notify_moderators.short_description","long_form":"flagged this for moderator attention","is_flag":true,"icon":null,"id":7,"is_custom_flag":true}],"can_create_tag":null,"can_tag_topics":null,"tags_filter_regexp":"[/\\?#\\[\\]@!\\$\u0026'\\(\\)\\*\\+,;=\\.%\\\\`^\\s|\\{\\}\"\u003c\u003e]+","top_tags":["midi","controllers","modular","1.0.11","linux","windows","macos","troubleshooting","usb","challenge","wavetable","library","current","tips","out","14bit"],"topic_featured_link_allowed_category_ids":[2,4,11,1,6,10,15,5,12,3,9,8,14,16,7,13],"user_themes":[{"theme_key":"b5ce34aa-3ee1-4d3e-b190-0a2ab62c7408","name":"Migrated from Site Text","default":true}],"categories":[{"id":1,"name":"Uncategorized","color":"AB9364","text_color":"FFFFFF","slug":"uncategorized","topic_count":-1,"post_count":1,"position":0,"description":"Topics that don't need a category, or don't fit into any other existing category.","description_text":"","topic_url":"/t/","read_restricted":false,"permission":null,"notification_level":1,"topic_template":null,"has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":10,"name":"User Guide","color":"3AB54A","text_color":"FFFFFF","slug":"user-guide","topic_count":24,"post_count":87,"position":1,"description":"This category contains posts to help users use Axoloti, a dynamic user guide.","description_text":"This category contains posts to help users use Axoloti, a dynamic user guide.","topic_url":"/t/about-the-user-guide-category/51","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":8,"name":"Helpdesk","color":"9EB83B","text_color":"FFFFFF","slug":"helpdesk","topic_count":305,"post_count":2381,"position":2,"description":"This category is for reporting issues and bugs\u003cbr\u003ePlease use other categories for discussions on features or questions or \"how to?\"","description_text":"This category is for reporting issues and bugsPlease use other categories for discussions on features or questions or \"how to?\"","topic_url":"/t/about-the-helpdesk-category/23","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":13,"name":"Community Library","color":"9EB83B","text_color":"FFFFFF","slug":"community-library","topic_count":52,"post_count":2591,"position":3,"description":"Category for the community library","description_text":"Category for the community library","topic_url":"/t/about-the-community-library-category/1005","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":7,"name":"Patching","color":"AB9364","text_color":"FFFFFF","slug":"patching","topic_count":794,"post_count":6621,"position":4,"description":"This category is for discussion about patching Axoloti, and sharing patches.","description_text":"This category is for discussion about patching Axoloti, and sharing patches.","topic_url":"/t/about-the-patching-category/14","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":5,"name":"Hardware","color":"AB9364","text_color":"FFFFFF","slug":"hardware","topic_count":518,"post_count":5738,"position":5,"description":"This category is intended for discussion about the Axoloti hardware and connecting to other hardware, including , connecting midi controllers and other hardware, related hardware projects. ","description_text":"This category is intended for discussion about the Axoloti hardware and connecting to other hardware, including , connecting midi controllers and other hardware, related hardware projects.","topic_url":"/t/about-the-hardware-category/12","read_restricted":false,"permission":null,"notification_level":1,"topic_template":null,"has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":6,"name":"Software","color":"AB9364","text_color":"FFFFFF","slug":"software","topic_count":304,"post_count":2992,"position":6,"description":"This category is for posts regarding the software of Axoloti, this includes the Axoloti patching GUI, Axoloti Objects (axo) and firmware. Please use the Patching category to discuss patching Axoloti. ","description_text":"This category is for posts regarding the software of Axoloti, this includes the Axoloti patching GUI, Axoloti Objects (axo) and firmware. Please use the Patching category to discuss patching Axoloti.","topic_url":"/t/about-the-software-category/13","read_restricted":false,"permission":null,"notification_level":1,"topic_template":null,"has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":16,"name":"AxoObject coding","color":"AB9364","text_color":"FFFFFF","slug":"axoobject-code","topic_count":224,"post_count":1858,"position":7,"description":"Category to discuss coding Axoloti Objects.","description_text":"Category to discuss coding Axoloti Objects.","topic_url":"/t/about-the-axoobject-coding-category/1519","read_restricted":false,"permission":null,"notification_level":1,"topic_template":null,"has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":14,"name":"News/Events","color":"283890","text_color":"FFFFFF","slug":"events","topic_count":26,"post_count":95,"position":8,"description":"Meetups, workshops, presentations, all sort of events.\u003cbr\u003eIt's perfectly fine for users to announce and discuss their own events, as long as it is related to Axoloti somehow.\u003cbr\u003eStart your topic title with the name of the area where your event will happen.","description_text":"Meetups, workshops, presentations, all sort of events.It's perfectly fine for users to announce and discuss their own events, as long as it is related to Axoloti somehow.Start your topic title with the name of the area where your event will happen.","topic_url":"/t/about-the-events-category/1142","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":12,"name":"Challenges","color":"0E76BD","text_color":"FFFFFF","slug":"challenges","topic_count":17,"post_count":249,"position":9,"description":"This category is for challenges, competitions and discussions related to these.\u003cbr\u003eposters are reminded when entering challenges and competitions to not include any copyrighted material","description_text":"This category is for challenges, competitions and discussions related to these.posters are reminded when entering challenges and competitions to not include any copyrighted material","topic_url":"/t/about-the-challenges-category/838","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":9,"name":"Your Music/Projects","color":"0E76BD","text_color":"FFFFFF","slug":"your-music-projects","topic_count":147,"post_count":1000,"position":10,"description":"Have some music that you have made with Axoloti? or an interesting project you would like to share the communities?\u003cbr\u003eTells us about it here.","description_text":"Have some music that you have made with Axoloti? or an interesting project you would like to share the communities?Tells us about it here.","topic_url":"/t/about-the-your-music-projects-category/25","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":15,"name":"Lounge","color":"AB9364","text_color":"FFFFFF","slug":"lounge","topic_count":81,"post_count":1054,"position":11,"description":"This category is for discussions that are related to Axoloti generally but are not specifically about Axoloti.\u003cbr\u003e(please ensure it has some relevance to Axoloti, rather than general discussion) ","description_text":"This category is for discussions that are related to Axoloti generally but are not specifically about Axoloti.(please ensure it has some relevance to Axoloti, rather than general discussion)","topic_url":"/t/about-the-lounge-category/1277","read_restricted":false,"permission":null,"notification_level":1,"topic_template":null,"has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":11,"name":"Developer","color":"BF1E2E","text_color":"FFFFFF","slug":"developer","topic_count":62,"post_count":553,"position":12,"description":"This category is for discussion about the development of Axoloti at a low level, its intended only for developers/programmers.","description_text":"This category is for discussion about the development of Axoloti at a low level, its intended only for developers/programmers.","topic_url":"/t/about-the-developer-category/735","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"This category is for low level discussion on the development of Axoloti, its is intended for developers/programmers only.","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":3,"name":"Website and Forum","color":"808281","text_color":"FFFFFF","slug":"meta","topic_count":38,"post_count":348,"position":13,"description":"Discussion about this site, its organization, how it works, and how we can improve it.","description_text":"Discussion about this site, its organization, how it works, and how we can improve it.","topic_url":"/t/about-the-meta-category/2","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null}],"trust_levels":[{"id":0,"name":"new user"},{"id":1,"name":"basic user"},{"id":2,"name":"member"},{"id":3,"name":"regular"},{"id":4,"name":"leader"}],"archetypes":[{"id":"regular","name":"Regular Topic","options":[]},{"id":"banner","name":"Banner Topic","options":[]}],"user_fields":[]});
          ps.store("siteSettings", {"title":"Axoloti Community","contact_email":"johannes.taelman@gmail.com","contact_url":"","logo_url":"/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png","logo_small_url":"/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png","mobile_logo_url":"","favicon_url":"/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png","allow_user_locale":false,"suggested_topics":5,"track_external_right_clicks":false,"ga_universal_tracking_code":"UA-56017691-4","ga_universal_domain_name":"auto","ga_tracking_code":"","ga_domain_name":"","gtm_container_id":"","top_menu":"categories|latest|new|unread|top","post_menu":"like-count|like|share|flag|edit|bookmark|delete|admin|reply","post_menu_hidden_items":"flag|bookmark|edit|delete|admin","share_links":"twitter|facebook|email","desktop_category_page_style":"categories_and_latest_topics","category_colors":"BF1E2E|F1592A|F7941D|9EB83B|3AB54A|12A89D|25AAE2|0E76BD|652D90|92278F|ED207B|8C6238|231F20|808281|B3B5B4|283890","category_style":"bullet","enable_mobile_theme":true,"relative_date_duration":30,"fixed_category_positions":true,"fixed_category_positions_on_create":false,"enable_badges":true,"enable_badge_sql":false,"enable_whispers":false,"invite_only":false,"login_required":false,"must_approve_users":false,"enable_local_logins":true,"allow_new_registrations":true,"enable_signup_cta":true,"enable_google_oauth2_logins":false,"enable_yahoo_logins":false,"enable_twitter_logins":false,"enable_instagram_logins":false,"enable_facebook_logins":false,"enable_github_logins":false,"enable_sso":false,"sso_overrides_avatar":false,"min_username_length":3,"max_username_length":20,"min_password_length":10,"min_admin_password_length":15,"logout_redirect":"","full_name_required":false,"enable_names":true,"invites_per_page":40,"delete_user_max_post_age":60,"delete_all_posts_max":15,"show_email_on_profile":false,"prioritize_username_in_ux":true,"enable_user_directory":true,"allow_anonymous_posting":false,"anonymous_posting_min_trust_level":1,"hide_user_profiles_from_public":false,"enable_group_directory":true,"min_post_length":20,"min_first_post_length":20,"min_private_message_post_length":10,"max_post_length":32000,"topic_featured_link_enabled":true,"min_topic_title_length":15,"max_topic_title_length":255,"min_private_message_title_length":2,"allow_uncategorized_topics":false,"min_title_similar_length":10,"min_body_similar_length":15,"enable_private_messages":true,"edit_history_visible_to_public":false,"delete_removed_posts_after":24,"enable_experimental_markdown_it":false,"traditional_markdown_linebreaks":false,"enable_markdown_typographer":false,"allow_html_tables":false,"suppress_reply_directly_below":true,"suppress_reply_directly_above":true,"max_reply_history":1,"newuser_max_images":1,"newuser_max_attachments":2,"show_pinned_excerpt_mobile":true,"show_pinned_excerpt_desktop":true,"display_name_on_posts":false,"show_time_gap_days":7,"short_progress_text_threshold":10000,"default_code_lang":"auto","autohighlight_all_code":false,"highlighted_languages":"apache|bash|cs|cpp|css|coffeescript|diff|xml|http|ini|json|java|javascript|makefile|markdown|nginx|objectivec|ruby|perl|php|python|sql|handlebars","censored_words":"","censored_pattern":"","enable_emoji":true,"emoji_set":"twitter","code_formatting_style":"4-spaces-indent","allowed_href_schemes":"","email_time_window_mins":10,"disable_digest_emails":false,"email_in":false,"disable_emails":false,"bounce_score_threshold":4,"max_image_size_kb":3072,"max_attachment_size_kb":3072,"authorized_extensions":"jpg|jpeg|png|gif|axo|axp|axs|axh|fpd|brd|axt","max_image_width":690,"max_image_height":500,"prevent_anons_from_downloading_files":false,"enable_s3_uploads":false,"allow_profile_backgrounds":true,"allow_uploaded_avatars":true,"allow_animated_avatars":false,"default_avatars":"","external_system_avatars_enabled":true,"external_system_avatars_url":"/letter_avatar_proxy/v2/letter/{first_letter}/{color}/{size}.png","allow_staff_to_upload_any_file_in_pm":true,"tl1_requires_read_posts":30,"tl3_links_no_follow":false,"use_admin_ip_whitelist":false,"max_oneboxes_per_post":50,"alert_admins_if_errors_per_minute":0,"alert_admins_if_errors_per_hour":0,"max_prints_per_hour_per_user":5,"enable_long_polling":true,"long_polling_base_url":"/","background_polling_interval":60000,"polling_interval":3000,"anon_polling_interval":15000,"flush_timings_secs":20,"verbose_localization":false,"max_new_topics":500,"tos_url":"","privacy_policy_url":"","faq_url":"","maximum_backups":5,"min_search_term_length":3,"version_checks":true,"suppress_uncategorized_badge":true,"topic_views_heat_low":1000,"topic_views_heat_medium":2000,"topic_views_heat_high":5000,"topic_post_like_heat_low":0.5,"topic_post_like_heat_medium":1.0,"topic_post_like_heat_high":2.0,"history_hours_low":12,"history_hours_medium":24,"history_hours_high":48,"cold_age_days_low":14,"cold_age_days_medium":90,"cold_age_days_high":180,"global_notice":"","show_create_topics_notice":true,"bootstrap_mode_min_users":50,"bootstrap_mode_enabled":false,"automatically_unpin_topics":true,"read_time_word_count":500,"disable_mailing_list_mode":false,"default_topics_automatic_unpin":true,"tagging_enabled":true,"tag_style":"simple","max_tags_per_topic":5,"max_tag_length":20,"min_trust_level_to_tag_topics":0,"max_tag_search_results":5,"show_filter_by_tag":true,"tags_sort_alphabetically":false,"staff_tags":"","suppress_overlapping_tags_in_list":false,"discourse_narrative_bot_enabled":true,"poll_enabled":true,"poll_maximum_options":20,"details_enabled":true,"available_locales":"ar|bs_BA|cs|da|de|el|en|es|et|fa_IR|fi|fr|gl|he|id|it|ja|ko|nb_NO|nl|pl_PL|pt|pt_BR|ro|ru|sk|sq|sv|te|tr_TR|uk|ur|vi|zh_CN|zh_TW"});
          ps.store("customHTML", {"top":"","footer":""});
          ps.store("banner", {});
          ps.store("customEmoji", []);
          ps.store("translationOverrides", {});
          ps.store("topic_1328", {"post_stream":{"posts":[{"id":7491,"name":"Ricard Wanderlof","username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","created_at":"2016-03-19T23:03:13.890Z","cooked":"\u003cp\u003eOk, so this is probably the most wasteful usage of an Axoloti, but I wanted to see how it would be to do some MIDI processing, as well as get some exercise in patches and object writing.\u003c/p\u003e\n\n\u003cp\u003eWhat I wanted is a MIDI transpose function that I can connect to any MIDI keyboard which will simply shift the MIDI notes up or down by octaves. As an added complexity, I want it to work even if the transpose button is pressed while notes are held down, so simply shifting the note number won't work. And I want it to work polyphonically too.\u003c/p\u003e\n\n\u003cp\u003eSo to this avail I created a MIDI transpose object, which takes MIDI in data on any channel, transposes it by an amount governed by its input, and outputs it on the same channel.\u003c/p\u003e\n\n\u003cp\u003eIn the patch, the transposition is controlled by using MIDI program change: MIDI program numbers 0,1,2,3,4,5,6,7 set the transposition to -4,-3-,2-,1,0,1,2 or 3 octaves, respectively. Actually, any group of divisible-by-8 program numbers achieve the same thing.\u003c/p\u003e\n\n\u003cp\u003eI noticed by the way, that the MIDI input objects such as midi/in/pgm have an internal channel attribute that is undefined, so they only react to channel 1 (I suppose undefined attributes default to 0), and the channel cannot be set. So currently, the patch only responds to program changes on channel 0 even though the actual transposition can take place on any channel.\u003c/p\u003e\n\n\u003cp\u003eA limitation currently with the transpose object is that it only functions correctly one a single channel at a time. It has an internal vector storing the transpositions at the time of the note on in order to retain that transposition for the subsequent note off, and all note on events regardless of channel are stored in the vector. To do this properly would require a multi-dimensional vector, but that would head up 16 times more memory too (ok, so it only ends up being about 2 kbytes in the end, but still...). Room for future improvement.\u003c/p\u003e\n\n\u003cp\u003eThe sample-and-hold is there so that a new transposition is only performed when a program change is actually received; since the output from the midi/in/pgm object defaults to 0, that would give a start-up transposition of -4 octaves otherwise.\u003c/p\u003e\n\n\u003cp\u003eThere's also the added bonus of the red led on the Axoloti board lighting up every time a note on is received. It's not part of the transpose function.\u003c/p\u003e\n\n\u003cp\u003eI wasn't sure where to put the transpose object definition (I'm using version 1.0.6). It is currently in axoloti/objects/midi .\u003c/p\u003e\n\n\u003cp\u003e\u003cdiv class=\"lightbox-wrapper\"\u003e\u003ca data-download-href=\"//community.axoloti.com/uploads/default/14a0b37312f02196fc93c60dcc7a444a05cb89a0\" href=\"//community.axoloti.com/uploads/default/original/2X/1/14a0b37312f02196fc93c60dcc7a444a05cb89a0.jpg\" class=\"lightbox\" title=\"miditranspose.jpg\"\u003e\u003cimg src=\"//community.axoloti.com/uploads/default/optimized/2X/1/14a0b37312f02196fc93c60dcc7a444a05cb89a0_1_690x393.jpg\" width=\"690\" height=\"393\"\u003e\u003cdiv class=\"meta\"\u003e\n\u003cspan class=\"filename\"\u003emiditranspose.jpg\u003c/span\u003e\u003cspan class=\"informations\"\u003e1182x674 61.3 KB\u003c/span\u003e\u003cspan class=\"expand\"\u003e\u003c/span\u003e\n\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca class=\"attachment\" href=\"//community.axoloti.com/uploads/default/original/2X/9/960bfcc001096f1d6fc3d750e0226fa5979a5dff.axp\"\u003emiditranspose.axp\u003c/a\u003e (4.7 KB)\u003c/p\u003e\n\n\u003cp\u003e\u003ca class=\"attachment\" href=\"//community.axoloti.com/uploads/default/original/2X/d/d07f271bf1bbe78e1c390ea2085b84a83793b267.axo\"\u003etranspose.axo\u003c/a\u003e (2.4 KB)\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2016-03-19T23:13:00.485Z","reply_count":2,"reply_to_post_number":null,"quote_count":0,"avg_time":59,"incoming_link_count":122,"reads":112,"score":707.35,"yours":false,"topic_id":1328,"topic_slug":"midi-transpose-patch-example","display_username":"Ricard Wanderlof","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"/uploads/default/original/2X/d/d07f271bf1bbe78e1c390ea2085b84a83793b267.axo","internal":true,"reflection":false,"clicks":15},{"url":"/uploads/default/original/2X/9/960bfcc001096f1d6fc3d750e0226fa5979a5dff.axp","internal":true,"reflection":false,"clicks":14}],"read":true,"user_title":null,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":111,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":7500,"name":"Mark Harris","username":"thetechnobear","avatar_template":"/user_avatar/community.axoloti.com/thetechnobear/{size}/6_1.png","created_at":"2016-03-20T12:15:52.625Z","cooked":"\u003caside class=\"quote\" data-post=\"1\" data-topic=\"1328\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/ricard/40/163_1.png\" class=\"avatar\"\u003ericard:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eOk, so this is probably the most wasteful usage of an Axoloti,\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eOh, Id not say its a waste of Axoloti resources, to the contrary I think of axoloti as a swiss army knife, you can use  it for all sorts of things, sometimes simultaneous, sometimes just for a particular use.\u003cbr\u003e(its why its nice to a have more than one, means you just have a few blocks you can move around \u003cimg src=\"/images/emoji/emoji_one/smile.png?v=0\" title=\":smile:\" class=\"emoji\" alt=\":smile:\"\u003e ) \u003c/p\u003e\n\n\u003caside class=\"quote\" data-post=\"1\" data-topic=\"1328\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/ricard/40/163_1.png\" class=\"avatar\"\u003ericard:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eI noticed by the way, that the MIDI input objects such as midi/in/pgm have an internal channel attribute that is undefined,\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eyeah the thing is most of the time you want the midi in objects to be 'omni', to react to any channel, and then its the patch that restricts this down... but in the case of the top level patch, in particular, this is not always desirable.\u003cbr\u003eactually I think, once in dev, I did put the channel selector on all in objects, but its was deemed as potentially confusing, a source for user bugs... perhaps we should review this again.\u003c/p\u003e\n\n\u003caside class=\"quote\" data-post=\"1\" data-topic=\"1328\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/ricard/40/163_1.png\" class=\"avatar\"\u003ericard:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eTo do this properly would require a multi-dimensional vector, but that would head up 16 times more memory too\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eI think I would probably store active notes, i.e. if you have 5 notes held down, you only need an array with 5 elements, so number of channels becomes irrelevant.\u003c/p\u003e\n\n\u003caside class=\"quote\" data-post=\"1\" data-topic=\"1328\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/ricard/40/163_1.png\" class=\"avatar\"\u003ericard:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eThere's also the added bonus of the red led on the Axoloti board lighting up every time a note on is received. It's not part of the transpose function.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003ethis is cool, actually Ive been meaning to just put a controller script together to flash this LED on any midi activity, its so handy knowing when there is midi being received \u003cimg src=\"/images/emoji/emoji_one/smile.png?v=0\" title=\":smile:\" class=\"emoji\" alt=\":smile:\"\u003e\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2016-03-20T12:15:52.625Z","reply_count":1,"reply_to_post_number":null,"quote_count":1,"avg_time":31,"incoming_link_count":1,"reads":97,"score":30.95,"yours":false,"topic_id":1328,"topic_slug":"midi-transpose-patch-example","display_username":"Mark Harris","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":5,"hidden":false,"hidden_reason_id":null,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":7503,"name":"Antonio Machado","username":"keyman","avatar_template":"/user_avatar/community.axoloti.com/keyman/{size}/49_1.png","created_at":"2016-03-20T12:36:28.887Z","cooked":"\u003cp\u003eNot much to add as i'm with thetechnobear opinion; it works great!\u003cbr\u003eNice to have along a Controller object? but for me this would have to be addressed to CC number, leaving PGM for patch change \u003cimg src=\"/images/emoji/emoji_one/wink.png?v=0\" title=\":wink:\" class=\"emoji\" alt=\":wink:\"\u003e easy to change?\u003c/p\u003e\n\n\u003cp\u003eJust end to say you can be part of :\u003cbr\u003e\u003ca href=\"//community.axoloti.com/c/community-library\" class=\"onebox\" target=\"_blank\"\u003ehttp://community.axoloti.com/c/community-library\u003c/a\u003e\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2016-03-20T12:36:28.887Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"avg_time":17,"incoming_link_count":0,"reads":81,"score":17.05,"yours":false,"topic_id":1328,"topic_slug":"midi-transpose-patch-example","display_username":"Antonio Machado","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://community.axoloti.com/c/community-library","internal":true,"reflection":false,"clicks":0}],"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":68,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":7530,"name":"Ricard Wanderlof","username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","created_at":"2016-03-20T22:08:35.972Z","cooked":"\u003caside class=\"quote\" data-post=\"2\" data-topic=\"1328\" data-full=\"true\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png\" class=\"avatar\"\u003ethetechnobear:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eyeah the thing is most of the time you want the midi in objects to be 'omni', to react to any channel, and then its the patch that restricts this down... but in the case of the top level patch, in particular, this is not always desirable.\u003cbr\u003eactually I think, once in dev, I did put the channel selector on all in objects, but its was deemed as potentially confusing, a source for user bugs... perhaps we should review this again.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eI'm not sure I follow you, do you mean that you'd have MIDI reception at a top level, and then transfer the data to subpatches using an internal MIDI port, or something like that?\u003c/p\u003e\n\n\u003cp\u003ePerhaps there could be a \"global\" MIDI channel object for the whole patch, and each MIDI input object could follow the global object, as it is likely that all MIDI input objects would respond to the same channel. If no global object were present, the inputs could default to omni.\u003c/p\u003e\n\n\u003cp\u003eAs it is right now it is largely confusing, because there's no indication that there's any channel being selected, and it's hard coded to channel 1. Perhaps most people use channel 1 for the outputs from their master keyboards, so it doesn't really matter in most cases?\u003c/p\u003e\n\n\u003caside class=\"quote\" data-post=\"2\" data-topic=\"1328\" data-full=\"true\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png\" class=\"avatar\"\u003ethetechnobear:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003caside class=\"quote\" data-post=\"1\" data-topic=\"1328\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/ricard/40/163_1.png\" class=\"avatar\"\u003ericard:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eTo do this properly would require a multi-dimensional vector, but that would head up 16 times more memory too\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\u003cp\u003eI think I would probably store active notes, i.e. if you have 5 notes held down, you only need an array with 5 elements, so number of channels becomes irrelevant.\u003c/p\u003e\n\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eYou don't know beforehand how many simultaneous notes there will be held (although it's unlikely to be many more than the number of fingers for an average person! \u003cimg src=\"/images/emoji/emoji_one/smile.png?v=0\" title=\":smile:\" class=\"emoji\" alt=\":smile:\"\u003e in theory it could be the number of available MIDI notes though), so you don't know how large to make the array, and also, that approach means you have to search through the list in order when receiving the note off. If the patch doesn't do much else it would be ok, but I think there's a point to keeping the CPU load as low as possible so I'd like to avoid searches whenever possible.\u003c/p\u003e\n\n\u003cp\u003eA relevant question is: roughly how much RAM is available for a patch for this type of data?\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2016-03-20T22:08:35.972Z","reply_count":1,"reply_to_post_number":2,"quote_count":2,"avg_time":20,"incoming_link_count":1,"reads":79,"score":26.8,"yours":false,"topic_id":1328,"topic_slug":"midi-transpose-patch-example","display_username":"Ricard Wanderlof","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":111,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":7533,"name":"Mark Harris","username":"thetechnobear","avatar_template":"/user_avatar/community.axoloti.com/thetechnobear/{size}/6_1.png","created_at":"2016-03-21T00:25:01.389Z","cooked":"\u003cp\u003eno, thats not how it works...\u003c/p\u003e\n\n\u003cp\u003eattr_midichannel is replaced when the patch is compiled, and is set to the channel that is set in patch settings. (and 0 can = omni), the messages are then routed directly, no 'internal port'\u003cbr\u003eso the principle is, that it is the patch settings that determine the midi channel in use. (so yes there is an indication of which midi channels, its there!)\u003cbr\u003ethis way you can have an different sub patches set for different midi channels e.g. one for lead sound, another for bass another for drums etc.\u003c/p\u003e\n\n\u003cp\u003emy point was its could be a bit different in the top level patch , where you might want to deal with this differently, e.g. have some objects that were tied to a particular channel, without having to create a subpatch to do the filtering.\u003c/p\u003e\n\n\u003cp\u003eId not like a global or even patch midi object, too easy for users to miss, and again, doesn't help when you want a single patch to handle multiple channels.\u003c/p\u003e\n\n\u003cp\u003eits ok the way it is, I was trying to explain why it is as it is, and that its not hard coded to 1, as you said... and then got a bit side tracked.\u003c/p\u003e\n\n\u003cp\u003etouches vs notes, as with all things, you have to make design choices, there are always trade-offs.\u003cbr\u003ewas just a suggestions vs. what seemed a pretty large memory usage, which is going to me mainly filled with zeros \u003cimg src=\"/images/emoji/emoji_one/wink.png?v=0\" title=\":wink:\" class=\"emoji\" alt=\":wink:\"\u003e \u003cbr\u003ebut hey, its your object, so your choice... you decide the 'constraints'.\u003c/p\u003e\n\n\u003cp\u003eyou have plenty of memory as long as you use sdram tables. but of course the larger you make it, the less likely it is it can be used with other patches.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2016-03-21T00:25:01.389Z","reply_count":1,"reply_to_post_number":4,"quote_count":0,"avg_time":12,"incoming_link_count":2,"reads":70,"score":29.6,"yours":false,"topic_id":1328,"topic_slug":"midi-transpose-patch-example","display_username":"Mark Harris","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png"},"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":5,"hidden":false,"hidden_reason_id":null,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":7536,"name":"Ricard Wanderlof","username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","created_at":"2016-03-21T05:35:19.649Z","cooked":"\u003caside class=\"quote\" data-post=\"5\" data-topic=\"1328\" data-full=\"true\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png\" class=\"avatar\"\u003ethetechnobear:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eno, thats not how it works...\u003c/p\u003e\n\u003cp\u003eattr_midichannel is replaced when the patch is compiled, and is set to the channel that is set in patch settings. (and 0 can = omni), the messages are then routed directly, no 'internal port'\u003c/p\u003e\n\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eOk, thanks for clarifying that, I hadn't really noticed the MIDI channel settings in the settings window. It all makes more sense now, I was otherwise wondering why I didn't get an 'undefined variable' error when attr_midichannel was being referenced in the object but there was no definition for it.\u003c/p\u003e\n\n\u003cp\u003eHowever, I can't seem to set the midi channel to 0 for omni, and as the code is written it tests directly against attr_midichannel with no special case for 0.\u003c/p\u003e\n\n\u003caside class=\"quote\" data-post=\"5\" data-topic=\"1328\" data-full=\"true\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png\" class=\"avatar\"\u003ethetechnobear:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eso the principle is, that it is the patch settings that determine the midi channel in use. (so yes there is an indication of which midi channels, its there!)\u003cbr\u003ethis way you can have an different sub patches set for different midi channels e.g. one for lead sound, another for bass another for drums etc.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eYes, that is really the way I was hoping it would work.\u003cbr\u003e\u003c/p\u003e\n\n\u003caside class=\"quote\" data-post=\"5\" data-topic=\"1328\" data-full=\"true\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png\" class=\"avatar\"\u003ethetechnobear:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003emy point was its could be a bit different in the top level patch , where you might want to deal with this differently, e.g. have some objects that were tied to a particular channel, without having to create a subpatch to do the filtering.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eHow about two different types if midi/input objects, one with a local channel selection and one using the global one? Or perhaps even better having a channel selector that by default is set to the special value 'patch', where it gets the setting from attr_midichannel. That way if you through up a midi input object, it by default just follows the patch settings, but you can always change it if you want.\u003cbr\u003e\u003c/p\u003e\n\n\u003caside class=\"quote\" data-post=\"5\" data-topic=\"1328\" data-full=\"true\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png\" class=\"avatar\"\u003ethetechnobear:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eId not like a global or even patch midi object, too easy for users to miss, and again, doesn't help when you want a single patch to handle multiple channels.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eI agree, yes it's much better the way it is.\u003cbr\u003e\u003c/p\u003e\n\n\u003caside class=\"quote\" data-post=\"5\" data-topic=\"1328\" data-full=\"true\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png\" class=\"avatar\"\u003ethetechnobear:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003ewas just a suggestions vs. what seemed a pretty large memory usage, which is going to me mainly filled with zeros \u003cimg src=\"/images/emoji/emoji_one/wink.png?v=0\" title=\":wink:\" class=\"emoji\" alt=\":wink:\"\u003e \u003cbr\u003ebut hey, its your object, so your choice... you decide the 'constraints'.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eAfter I wrote my reply I realized that the search would be done when a MIDI event occurs, not at the k-rate code so I guess it would not impact too much on the available DSP performance which was what I was getting at - but of course when something does happen it will take time at that particular point.\u003cbr\u003e\u003c/p\u003e\n\n\u003caside class=\"quote\" data-post=\"5\" data-topic=\"1328\" data-full=\"true\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png\" class=\"avatar\"\u003ethetechnobear:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eyou have plenty of memory as long as you use sdram tables. but of course the larger you make it, the less likely it is it can be used with other patches.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eI suppose if I just declare an array it goes into the internal RAM of the STM32F427? That's why I was wondering if there's a rough idea of how much is actually available in this application.\u003c/p\u003e\n\n\u003cp\u003eCan I set up an array in SDRAM using a C declaration with some qualifier of some sort, or does one need special functions for that?\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2016-03-21T05:35:52.267Z","reply_count":2,"reply_to_post_number":5,"quote_count":1,"avg_time":20,"incoming_link_count":1,"reads":66,"score":29.2,"yours":false,"topic_id":1328,"topic_slug":"midi-transpose-patch-example","display_username":"Ricard Wanderlof","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"thetechnobear","avatar_template":"/user_avatar/community.axoloti.com/thetechnobear/{size}/6_1.png"},"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":111,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":7555,"name":"Antonio Machado","username":"keyman","avatar_template":"/user_avatar/community.axoloti.com/keyman/{size}/49_1.png","created_at":"2016-03-21T11:57:23.171Z","cooked":"\u003cp\u003eSdram 8Mb (is available for user applications)\u003c/p\u003e\n\n\u003caside class=\"quote\" data-topic=\"613\" data-slug=\"recording-audio-to-sdcard\" data-post=\"14\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/johannes/40/8_1.png\" class=\"avatar\"\u003e\u003ca href=\"//community.axoloti.com/t/recording-audio-to-sdcard/613/14\"\u003eRecording audio to sdcard\u003c/a\u003e\n\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eSDram is unrelated to SDcard. The only similarity is the SD letters.   Sdram  - is volatile storage (contents lost when you remove power) - allows random access (read a single sample from a given location)   Sdcard - non-volatile storage, preserves contents when you remove power, \"flash\" memory - only allows block access, can't just read a single sample but needs to setup a block transfer, which is extremely inefficient when only a single sample is needed.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e","post_number":7,"post_type":1,"updated_at":"2016-03-21T11:57:23.171Z","reply_count":0,"reply_to_post_number":6,"quote_count":0,"avg_time":11,"incoming_link_count":0,"reads":57,"score":11.95,"yours":false,"topic_id":1328,"topic_slug":"midi-transpose-patch-example","display_username":"Antonio Machado","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://community.axoloti.com/t/recording-audio-to-sdcard/613/14","internal":true,"reflection":false,"title":"Recording audio to sdcard","clicks":0}],"read":true,"user_title":null,"reply_to_user":{"username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png"},"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":68,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":7563,"name":"Mark Harris","username":"thetechnobear","avatar_template":"/user_avatar/community.axoloti.com/thetechnobear/{size}/6_1.png","created_at":"2016-03-21T13:48:39.883Z","cooked":"\u003caside class=\"quote\" data-post=\"6\" data-topic=\"1328\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/ricard/40/163_1.png\" class=\"avatar\"\u003ericard:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eCan I set up an array in SDRAM using a C declaration with some qualifier of some sort, or does one need special functions for that?\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eyes, you can of course see this in the alloc table sdram object \u003c/p\u003e\n\n\u003cpre\u003e\u003ccode\u003estatic int16_t _array[attr_poly][LENGTH] __attribute__ ((section (\".sdram\")));\u003c/code\u003e\u003c/pre\u003e","post_number":8,"post_type":1,"updated_at":"2016-03-21T13:48:39.883Z","reply_count":0,"reply_to_post_number":6,"quote_count":1,"avg_time":34,"incoming_link_count":0,"reads":58,"score":13.3,"yours":false,"topic_id":1328,"topic_slug":"midi-transpose-patch-example","display_username":"Mark Harris","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":5,"hidden":false,"hidden_reason_id":null,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":7617,"name":"Ricard Wanderlof","username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","created_at":"2016-03-22T05:35:25.546Z","cooked":"\u003cp\u003eOk, here's an updated version, which has a configurable midi/thru object so that it echos other MIDI messages than note on and off. I've also added an omni attribute to the midi/transpose and midi/thru objects so that they either operate on any MIDI channel, or the specific one set for the patch.\u003c/p\u003e\n\n\u003cp\u003eWhen I tried adding parameters I got an 'out of scope' error when referencing them in the MIDI code. What I seemed to need to do is have internal local variables to which I copy the parameter values in the k-rate code, which in turn are accessed by the MIDI code.\u003c/p\u003e\n\n\u003cp\u003eI've been toying with the idea of creating 'note on any' and 'note off any' objects, similar to 'cc any', which would allow me to do the MIDI processing in the actual patch and not inside an object. It would incur more latency though, as each step of processing would incur a k-rate sample time delay (which admittedly is only 333µs).\u003c/p\u003e\n\n\u003cp\u003e\u003cdiv class=\"lightbox-wrapper\"\u003e\u003ca data-download-href=\"//community.axoloti.com/uploads/default/b18423206a1e356d8a736ffa98e86f6c24a2dc45\" href=\"//community.axoloti.com/uploads/default/original/2X/b/b18423206a1e356d8a736ffa98e86f6c24a2dc45.jpg\" class=\"lightbox\" title=\"miditranspose2.jpg\"\u003e\u003cimg src=\"//community.axoloti.com/uploads/default/optimized/2X/b/b18423206a1e356d8a736ffa98e86f6c24a2dc45_1_690x399.jpg\" width=\"690\" height=\"399\"\u003e\u003cdiv class=\"meta\"\u003e\n\u003cspan class=\"filename\"\u003emiditranspose2.jpg\u003c/span\u003e\u003cspan class=\"informations\"\u003e1186x687 65.7 KB\u003c/span\u003e\u003cspan class=\"expand\"\u003e\u003c/span\u003e\n\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003cbr\u003e\u003ca class=\"attachment\" href=\"//community.axoloti.com/uploads/default/original/2X/1/1e275cecd161a9ce5898df8271e7997c33f20f36.axp\"\u003emiditranspose.axp\u003c/a\u003e (5.6 KB) \u003ca class=\"attachment\" href=\"//community.axoloti.com/uploads/default/original/2X/2/27b4fd4af7a4162cf94f8fd6d56eaf896d5048aa.axo\"\u003etranspose.axo\u003c/a\u003e (2.7 KB) \u003ca class=\"attachment\" href=\"//community.axoloti.com/uploads/default/original/2X/6/6638b89426c96667609226233cb64148b6b37de4.axo\"\u003ethru.axo\u003c/a\u003e (3.6 KB)\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2016-03-22T05:36:12.399Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"avg_time":59,"incoming_link_count":0,"reads":59,"score":14.75,"yours":false,"topic_id":1328,"topic_slug":"midi-transpose-patch-example","display_username":"Ricard Wanderlof","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"/uploads/default/original/2X/2/27b4fd4af7a4162cf94f8fd6d56eaf896d5048aa.axo","internal":true,"reflection":false,"clicks":24},{"url":"/uploads/default/original/2X/1/1e275cecd161a9ce5898df8271e7997c33f20f36.axp","internal":true,"reflection":false,"clicks":19},{"url":"/uploads/default/original/2X/6/6638b89426c96667609226233cb64148b6b37de4.axo","internal":true,"reflection":false,"clicks":16}],"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":111,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":18972,"name":"Mike","username":"Doublecoolbossman","avatar_template":"/letter_avatar_proxy/v2/letter/d/bc79bd/{size}.png","created_at":"2017-03-21T11:26:48.150Z","cooked":"\u003cp\u003eIs there a way to convert a signal to program change (like there is with midi CC's) within the axoloti? I need a simple way to shift up and down octaves and I will be using a midi controller that doesn't send program change. Id like to be able to transpose via push buttons into the gpios.\u003c/p\u003e\n\n\u003cp\u003e I've thought about adding/subtracting constants (12) to the midi notes using flip/flops, vcas, and mixers, but if there is a more elegant way, I would prefer it.\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2017-03-21T11:26:48.150Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"avg_time":32,"incoming_link_count":0,"reads":37,"score":14.0,"yours":false,"topic_id":1328,"topic_slug":"midi-transpose-patch-example","display_username":"Mike","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1171,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":18976,"name":"Mark Harris","username":"thetechnobear","avatar_template":"/user_avatar/community.axoloti.com/thetechnobear/{size}/6_1.png","created_at":"2017-03-21T12:35:33.263Z","cooked":"\u003caside class=\"quote\" data-post=\"10\" data-topic=\"1328\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/letter_avatar_proxy/v2/letter/d/bc79bd/40.png\" class=\"avatar\"\u003eDoublecoolbossman:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eIs there a way to convert a signal to program change (like there is with midi CC's) within the axoloti?\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eIm not quite sure what you mean really, you can use midi/in/cc in a same way as the example above instead of midi/in/pgm.... \u003c/p\u003e\n\n\u003caside class=\"quote\" data-post=\"10\" data-topic=\"1328\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/letter_avatar_proxy/v2/letter/d/bc79bd/40.png\" class=\"avatar\"\u003eDoublecoolbossman:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eId like to be able to transpose via push buttons into the gpios.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003esure you can use gpio/in/digital\u003c/p\u003e\n\n\u003cp\u003ereally it all comes down to what you want to do exactly, basically in a patch, if the input comes from midi or gpio, it all gets converted into the same data types, from which you can then add your own transpose logic. (which depends on your needs e.g. do you want a simple up/down 1 octave, or to be able to select octaves from a dial/pot etc )\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2017-03-21T12:35:33.263Z","reply_count":1,"reply_to_post_number":10,"quote_count":1,"avg_time":20,"incoming_link_count":0,"reads":36,"score":13.2,"yours":false,"topic_id":1328,"topic_slug":"midi-transpose-patch-example","display_username":"Mark Harris","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":5,"hidden":false,"hidden_reason_id":null,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":18982,"name":"Mike","username":"Doublecoolbossman","avatar_template":"/letter_avatar_proxy/v2/letter/d/bc79bd/{size}.png","created_at":"2017-03-21T13:39:56.158Z","cooked":"\u003cp\u003eD'oh! Thanks, I'll try it out with midi cc!\u003c/p\u003e","post_number":12,"post_type":1,"updated_at":"2017-03-21T13:39:56.158Z","reply_count":0,"reply_to_post_number":11,"quote_count":0,"avg_time":8,"incoming_link_count":0,"reads":35,"score":7.4,"yours":false,"topic_id":1328,"topic_slug":"midi-transpose-patch-example","display_username":"Mike","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"thetechnobear","avatar_template":"/user_avatar/community.axoloti.com/thetechnobear/{size}/6_1.png"},"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1171,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false}],"stream":[7491,7500,7503,7530,7533,7536,7555,7563,7617,18972,18976,18982]},"timeline_lookup":[[1,1149],[2,1148],[6,1147],[9,1146],[10,782]],"id":1328,"title":"MIDI transpose patch example","fancy_title":"MIDI transpose patch example","posts_count":12,"created_at":"2016-03-19T23:03:13.429Z","views":1396,"reply_count":7,"participant_count":4,"like_count":2,"last_posted_at":"2017-03-21T13:39:56.158Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"midi-transpose-patch-example","category_id":7,"word_count":2738,"deleted_at":null,"user_id":111,"pm_with_non_human_user":false,"draft":null,"draft_key":"topic_1328","draft_sequence":null,"unpinned":null,"pinned_globally":false,"pinned":false,"pinned_at":null,"pinned_until":null,"details":{"created_by":{"id":111,"username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png"},"last_poster":{"id":1171,"username":"Doublecoolbossman","avatar_template":"/letter_avatar_proxy/v2/letter/d/bc79bd/{size}.png"},"participants":[{"id":111,"username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","post_count":4,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":5,"username":"thetechnobear","avatar_template":"/user_avatar/community.axoloti.com/thetechnobear/{size}/6_1.png","post_count":4,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":1171,"username":"Doublecoolbossman","avatar_template":"/letter_avatar_proxy/v2/letter/d/bc79bd/{size}.png","post_count":2,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":68,"username":"keyman","avatar_template":"/user_avatar/community.axoloti.com/keyman/{size}/49_1.png","post_count":2,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"suggested_topics":[{"id":5259,"title":"Is it possible to read filenames from SD card?","fancy_title":"Is it possible to read filenames from SD card?","slug":"is-it-possible-to-read-filenames-from-sd-card","posts_count":6,"reply_count":1,"highest_post_number":6,"image_url":null,"created_at":"2018-12-17T15:30:36.834Z","last_posted_at":"2018-12-21T13:36:05.295Z","bumped":true,"bumped_at":"2018-12-21T13:36:05.295Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":0,"views":174,"category_id":7,"tags":[],"featured_link":null,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1968,"username":"kentronix","avatar_template":"/user_avatar/community.axoloti.com/kentronix/{size}/5766_1.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":106,"username":"maceq687","avatar_template":"/user_avatar/community.axoloti.com/maceq687/{size}/161_1.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1894,"username":"BrianA","avatar_template":"/user_avatar/community.axoloti.com/briana/{size}/5651_1.png"}}]},{"id":4619,"title":"Phasor to SQUARE wave?","fancy_title":"Phasor to SQUARE wave?","slug":"phasor-to-square-wave","posts_count":10,"reply_count":7,"highest_post_number":10,"image_url":"/uploads/default/original/2X/9/980eef63fa1dc6912c3a66fa57fd5a6f54d0b459.jpg","created_at":"2018-05-28T08:06:13.685Z","last_posted_at":"2018-06-03T19:20:28.052Z","bumped":true,"bumped_at":"2018-06-03T19:20:28.052Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":0,"views":361,"category_id":7,"tags":[],"featured_link":null,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1202,"username":"djsoulmachine","avatar_template":"/user_avatar/community.axoloti.com/djsoulmachine/{size}/3888_1.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":790,"username":"lokki","avatar_template":"/user_avatar/community.axoloti.com/lokki/{size}/5157_1.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":967,"username":"SmashedTransistors","avatar_template":"/user_avatar/community.axoloti.com/smashedtransistors/{size}/3147_1.png"}}]},{"id":4847,"title":"Alternate Tuning/Just Intonation","fancy_title":"Alternate Tuning/Just Intonation","slug":"alternate-tuning-just-intonation","posts_count":8,"reply_count":5,"highest_post_number":8,"image_url":null,"created_at":"2018-08-05T15:01:02.129Z","last_posted_at":"2018-09-01T17:42:26.646Z","bumped":true,"bumped_at":"2018-09-01T17:42:26.646Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":1,"views":279,"category_id":7,"tags":[],"featured_link":null,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1855,"username":"tokeoh","avatar_template":"/letter_avatar_proxy/v2/letter/t/f6c823/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":5,"username":"thetechnobear","avatar_template":"/user_avatar/community.axoloti.com/thetechnobear/{size}/6_1.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1816,"username":"electricanada","avatar_template":"/letter_avatar_proxy/v2/letter/e/e8c25b/{size}.png"}}]},{"id":4758,"title":"Beginner - midi note to float/integer ('select' pure data)","fancy_title":"Beginner - midi note to float/integer (\u0026lsquo;select\u0026rsquo; pure data)","slug":"beginner-midi-note-to-float-integer-select-pure-data","posts_count":11,"reply_count":4,"highest_post_number":11,"image_url":null,"created_at":"2018-07-07T21:53:11.408Z","last_posted_at":"2018-07-29T19:25:18.083Z","bumped":true,"bumped_at":"2018-07-29T19:25:18.083Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":0,"views":466,"category_id":7,"tags":[],"featured_link":null,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1378,"username":"sharp","avatar_template":"/letter_avatar_proxy/v2/letter/s/bbce88/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":5,"username":"thetechnobear","avatar_template":"/user_avatar/community.axoloti.com/thetechnobear/{size}/6_1.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1672,"username":"deadsy","avatar_template":"/user_avatar/community.axoloti.com/deadsy/{size}/5105_1.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":111,"username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png"}}]},{"id":5294,"title":"Patching a Dry/Wet","fancy_title":"Patching a Dry/Wet","slug":"patching-a-dry-wet","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":null,"created_at":"2018-12-26T18:56:53.311Z","last_posted_at":"2018-12-26T21:44:16.505Z","bumped":true,"bumped_at":"2018-12-26T21:44:16.505Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":2,"views":148,"category_id":7,"tags":[],"featured_link":null,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1990,"username":"TangoTits","avatar_template":"/letter_avatar_proxy/v2/letter/t/c89c15/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":745,"username":"jaffasplaffa","avatar_template":"/user_avatar/community.axoloti.com/jaffasplaffa/{size}/5808_1.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":967,"username":"SmashedTransistors","avatar_template":"/user_avatar/community.axoloti.com/smashedtransistors/{size}/3147_1.png"}}]}],"links":[{"url":"/uploads/default/original/2X/2/27b4fd4af7a4162cf94f8fd6d56eaf896d5048aa.axo","title":null,"fancy_title":null,"internal":true,"attachment":true,"reflection":false,"clicks":24,"user_id":111,"domain":"community.axoloti.com"},{"url":"/uploads/default/original/2X/1/1e275cecd161a9ce5898df8271e7997c33f20f36.axp","title":null,"fancy_title":null,"internal":true,"attachment":true,"reflection":false,"clicks":19,"user_id":111,"domain":"community.axoloti.com"},{"url":"/uploads/default/original/2X/6/6638b89426c96667609226233cb64148b6b37de4.axo","title":null,"fancy_title":null,"internal":true,"attachment":true,"reflection":false,"clicks":16,"user_id":111,"domain":"community.axoloti.com"},{"url":"/uploads/default/original/2X/d/d07f271bf1bbe78e1c390ea2085b84a83793b267.axo","title":null,"fancy_title":null,"internal":true,"attachment":true,"reflection":false,"clicks":15,"user_id":111,"domain":"community.axoloti.com"},{"url":"/uploads/default/original/2X/9/960bfcc001096f1d6fc3d750e0226fa5979a5dff.axp","title":null,"fancy_title":null,"internal":true,"attachment":true,"reflection":false,"clicks":14,"user_id":111,"domain":"community.axoloti.com"},{"url":"http://community.axoloti.com/t/recording-audio-to-sdcard/613/14","title":"Recording audio to sdcard","fancy_title":null,"internal":true,"attachment":false,"reflection":false,"clicks":0,"user_id":68,"domain":"community.axoloti.com"},{"url":"http://community.axoloti.com/c/community-library","title":null,"fancy_title":null,"internal":true,"attachment":false,"reflection":false,"clicks":0,"user_id":68,"domain":"community.axoloti.com"}],"notification_level":1,"can_flag_topic":false},"highest_post_number":12,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":null,"tags":[],"featured_link":null,"topic_timer":null,"message_bus_last_id":38});
      })();
      </script>

    

    <script>
  Ember.RSVP.configure('onerror', function(e) {
    // Ignore TransitionAborted exceptions that bubble up
    if (e && e.message === "TransitionAborted") { return; }

    window.onerror(e && e.message, null,null,null,e);
  });
</script>

<script>

  (function() {
    var ps = require('preload-store').default;

    Discourse.CDN = '';
    Discourse.BaseUrl = 'community.axoloti.com'.replace(/:[\d]*$/,"");
    Discourse.BaseUri = '';
    Discourse.Environment = 'production';
    Discourse.SiteSettings = ps.get('siteSettings');
    Discourse.LetterAvatarVersion = '5_9b142ce9460b8c6b265fd9abf598d3fd';
    I18n.defaultLocale = 'en';
    Discourse.start();
    Discourse.set('assetVersion','d1ec72c862674d2eea0eb8ef6fc5934f');
    Discourse.Session.currentProp("disableCustomCSS", false);
    Discourse.HighlightJSPath = "/highlight-js/community.axoloti.com/100444ceef8ca161334f64d3ce49fe7a1556f943.js";
  })();
</script>

<link rel='preload' href='/assets/browser-update-f57286e74ddbc53aa899689b01ef467078911e4138050c561939955849af35dd.js' as='script'/>
<script src='/assets/browser-update-f57286e74ddbc53aa899689b01ef467078911e4138050c561939955849af35dd.js'></script>


    

      
    
  </body>
</html>
