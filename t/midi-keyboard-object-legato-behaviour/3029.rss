<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>MIDI Keyboard Object Legato Behaviour</title>
    <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029</link>
    <description>Does anyone know if it would be possible for a custom object to recreate the legato note-handling often found on analogue monosynths, whereby if a note is held while a second note is played, the held note is retriggered when the second note is released?

With the current Keyboard input objects, the first note is cut off by the second, but does not retrigger when the second note is released.

a|x</description>
    
    <lastBuildDate>Mon, 20 Mar 2017 16:05:23 +0000</lastBuildDate>
    <category>AxoObject coding</category>
    <atom:link href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>all good! no worries.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/31">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/31</link>
        <pubDate>Mon, 20 Mar 2017 16:05:23 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-31</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@toneburst alx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/toneburst">@toneburst</a> wrote:</p>
          <blockquote>
              <p>A very belated sorry for wasting everyone's time with this. The combination of the keyb lru and flipflop objects does exactly what I was after perfectly, as was pointed out when I last posted an almost identical question some time ago.</p>

<p>Sorry again, guys,</p>

<p>a|x</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/30">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/30</link>
        <pubDate>Mon, 20 Mar 2017 09:35:44 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-30</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="21" data-topic="3029"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar_proxy/v2/letter/t/b9e5f3/40.png" class="avatar">toneburst:</div>
<blockquote><p>I think I discovered that already. Actually, it may have been you who pointed it out to me when I posted a thread about legato a while back.</p></blockquote></aside>

<p>yes, it was about legato glide stuff, here: <a href="//community.axoloti.com/t/mono-legato-detecting-overlapping-notes/1780/13?u=lokki">https://sebiik.github.io/community.axoloti.com.backup/t/mono-legato-detecting-overlapping-notes/1780/13?u=lokki</a> you liked it then <img src="//community.axoloti.com/images/emoji/emoji_one/slight_smile.png?v=3" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>

<aside class="quote" data-post="26" data-topic="3029"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar_proxy/v2/letter/t/b9e5f3/40.png" class="avatar">toneburst:</div>
<blockquote>
<p>It would be great it there was a third gate object that stayed high as long as more than one note is held. With that, you could do all those classic mono-legato/triggered portamento/glide effects that pair so well with the lru behaviour.</p>
<p>Having looked at the keyb zone lru object code, it looks like it's being passed data about notes, gates and velocities from a lower-level function (which I think it what you were saying, earlier, <a class="mention" href="/users/thetechnobear">@thetechnobear</a>).</p>
<p>That being the case, I guess it's not currently possible to get the count of currently-pressed notes in object code, so a gate outlet to trigger slew/portamento on legato notes also isn't possible. Maybe that's something that could be added later.</p>
</blockquote></aside>

<p>i think this is also covered in the above post i linked. with the addition of a flip flop you can get the mono synth legato portamento glide stuff...</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/29">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/29</link>
        <pubDate>Sat, 11 Mar 2017 08:03:29 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-29</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@toneburst alx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/toneburst">@toneburst</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="3" data-topic="3029" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/lokki/40/2882_1.png" class="avatar">lokki:</div>
<blockquote><p>(though i'm not sure if my controller resends the note on, once the second note is released, will have to check in the code)</p></blockquote></aside>

<p>I don't think it does do that, but the pitch does jump back to the next-most-recent note that's still being held, which is exactly what I had in mind.</p>

<p>a|x</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/28">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/28</link>
        <pubDate>Fri, 10 Mar 2017 22:22:41 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-28</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@axoman]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/axoman">@axoman</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="26" data-topic="3029"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar_proxy/v2/letter/t/b9e5f3/40.png" class="avatar">toneburst:</div>
<blockquote><p>Fair point. Sorry about that. Let's move on.</p></blockquote></aside>

<p>Now <em>that</em> sounds like a good idea.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/27">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/27</link>
        <pubDate>Fri, 10 Mar 2017 22:21:11 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-27</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@toneburst alx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/toneburst">@toneburst</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="25" data-topic="3029"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar_proxy/v2/letter/a/848f3c/40.png" class="avatar">axoman:</div>
<blockquote><p>Then don't keep pointlessly harping-on about my post, just because you got your own wording wrong.</p></blockquote></aside>

<p>Fair point. Sorry about that. Let's move on.</p>

<p>I've just tried the keyb zone lru object, and it does appear to do exactly what I wanted in fact!<br>Sorry for wasting everyone's time.</p>

<p>...Having  said that, there is one other thing I'd like that patch to be able to do, and I don't know if it's currently possible at the object level.</p>

<p>It would be great it there was a third gate object that stayed high as long as more than one note is held. With that, you could do all those classic mono-legato/triggered portamento/glide effects that pair so well with the lru behaviour.</p>

<p>Having looked at the keyb zone lru object code, it looks like it's being passed data about notes, gates and velocities from a lower-level function (which I think it what you were saying, earlier, <a class="mention" href="/users/thetechnobear">@thetechnobear</a>).</p>

<p>That being the case, I guess it's not currently possible to get the count of currently-pressed notes in object code, so a gate outlet to trigger slew/portamento on legato notes also isn't possible. Maybe that's something that could be added later.</p>

<p>a|x</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/26">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/26</link>
        <pubDate>Fri, 10 Mar 2017 22:15:46 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-26</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@axoman]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/axoman">@axoman</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="23" data-topic="3029" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar_proxy/v2/letter/t/b9e5f3/40.png" class="avatar">toneburst:</div>
<blockquote><p>That was my bad wording. It's unrelated to envelope object retriggering, though, which is where the thread got somewhat sidetracked.</p></blockquote></aside>

<p>Then don't keep pointlessly harping-on about my post, just because you got your own wording wrong.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/25">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/25</link>
        <pubDate>Fri, 10 Mar 2017 21:36:36 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-25</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@toneburst alx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/toneburst">@toneburst</a> wrote:</p>
          <blockquote>
              <p>Sorry, just catching up on older posts in this thread.</p>

<aside class="quote" data-post="11" data-topic="3029"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/lokki/40/2882_1.png" class="avatar">lokki:</div>
<blockquote>
<p>sorry for my ignorance, so you want a keyb-object that:</p>
<p>-does not retrigger when you play more then one note<br>-does retrigger the old note when you release the new note (if old note is still held of course)</p>
</blockquote></aside>

<p>Sort of. I've convinced myself that I probably want it to hold the gate outlet high until all notes have been released.</p>

<aside class="quote" data-post="11" data-topic="3029"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/lokki/40/2882_1.png" class="avatar">lokki:</div>
<blockquote><p>with lru you get:<br>-does not retrigger when you play more then one note<br>-does update pitch if you release new note and old note is still held (but no retriggering)</p></blockquote></aside>

<p>..so like this, in fact <img src="//community.axoloti.com/images/emoji/emoji_one/slight_smile.png?v=3" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>Maybe the lru object does exactly what I had in mind, afterall. Let me check again..</p>

<p>a|x</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/24">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/24</link>
        <pubDate>Fri, 10 Mar 2017 21:26:13 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-24</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@toneburst alx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/toneburst">@toneburst</a> wrote:</p>
          <blockquote>
              <p>That was my bad wording. What I really meant was that the note pitch should revert to the first note when the second is released, with or without retriggering of the object Gate output.</p>

<p>It's unrelated to envelope object retriggering, though, which is where the thread got somewhat sidetracked.</p>

<p>a|x</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/23">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/23</link>
        <pubDate>Fri, 10 Mar 2017 21:11:32 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-23</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@axoman]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/axoman">@axoman</a> wrote:</p>
          <blockquote>
              <p>The non-retriggering envelope issue was pointed out because your thread is discussing a retriggering issue, and they might have been related.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/22">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/22</link>
        <pubDate>Fri, 10 Mar 2017 21:05:03 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-22</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@toneburst alx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/toneburst">@toneburst</a> wrote:</p>
          <blockquote>
              <p><a class="mention" href="/users/lokki">@lokki</a> I think I discovered that already. Actually, it may have been you who pointed it out to me when I posted a thread about legato a while back.</p>

<p>The whole envelope retriggering thing is a bit of a diversion from my original post, though.</p>

<p>a|x</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/21">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/21</link>
        <pubDate>Fri, 10 Mar 2017 20:34:40 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-21</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="15" data-topic="3029"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar_proxy/v2/letter/t/b9e5f3/40.png" class="avatar">toneburst:</div>
<blockquote>
<p>There are two options in terms or gates. Either:</p>
<p>Gate is held high until all notes are released<br>Gate is toggled low and then high again whenever a new note is played</p>
</blockquote></aside>

<p>i can get number 1 by using gate1 of keyb lru.<br>i can get number 2 by using the gate2 of keyb lru.</p>

<p>check attached patch.<a class="attachment" href="//community.axoloti.com/uploads/default/original/2X/9/975f440b083116fbe9b4efca11e1adb97bc164be.axp">legatotest2.axp</a> (3.5 KB)</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/20">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/20</link>
        <pubDate>Fri, 10 Mar 2017 15:34:22 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-20</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@axoman]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/axoman">@axoman</a> wrote:</p>
          <blockquote>
              <p>Please, no apologies, I'd hate to have the workload you and Johannes must have with Axoloti!</p>

<p>I was really just adding the info to clarity of my own personal use of it, but as you say, as it's an inconsistency thing among the envelopes etc, I can always look for other envelopes.  Only reason I specifically used AD is because that's all I needed, it was really just for efficiency, to keep the CPU usage low.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/19">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/19</link>
        <pubDate>Fri, 10 Mar 2017 15:14:10 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-19</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@thetechnobear Mark Harris]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/thetechnobear">@thetechnobear</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="17" data-topic="3029"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar_proxy/v2/letter/a/848f3c/40.png" class="avatar">axoman:</div>
<blockquote><p>I can't get it to do that because the envelopes completely ignore when they're been retriggered,</p></blockquote></aside>

<p>this was the point made by Johannes, that I quoted... some envs reset on trigger, others do not. there is inconsistency.</p>

<p>as I was trying to explain in my last post, there are actually multiple 'issues' surround this, and they exist in different objects - which is why different people have different ideas as to what is broken , it just depends which bit of the puzzle they are looking at.</p>

<p>hence my mistake, I remembered the issue, but forgot Id only fixed the particular issue the Reggie has raised.<br>apologies for any confusion I may have inflicted.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/18">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/18</link>
        <pubDate>Fri, 10 Mar 2017 15:02:05 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-18</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@axoman]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/axoman">@axoman</a> wrote:</p>
          <blockquote>
              <p>Just tried it myself, same situation here, it's not what I meant.</p>

<p>Say for example that I have a note playing on every step of a 16-step sequence, and each step has a basic AD envelope of it's own.  I need the envelope to retrigger each time the note is triggered by each step of the sequence, but I can't get it to do that because the envelopes completely ignore when they're been retriggered, they carry on regardless until the end of the envelope is reached.</p>

<p>If the envelopes could talk they would be saying, right, I just got triggered, so don't bother me again until I've finished my current cycle.  Once I've finished, I'll accept another trigger request from you.  It doesn't seem bothered in the slightest that several other steps of the sequence have passed in the meantime, and that none of them got the envelope retrigger they expected.</p>

<p>This seems like more of an envelope issue to me, maybe they just need a reset inlet on them.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/17">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/17</link>
        <pubDate>Fri, 10 Mar 2017 14:56:13 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-17</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@thetechnobear Mark Harris]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/thetechnobear">@thetechnobear</a> wrote:</p>
          <blockquote>
              <p>yeah, sorry my memory failed me, and not having time to go back and check.</p>

<p>anyway, having a look at the object and also the previous thread, I kind of remember what whats going on now <img src="//community.axoloti.com/images/emoji/emoji_one/wink.png?v=3" title=":wink:" class="emoji" alt=":wink:"> </p>

<p>keyb (and variations) have a bugged legato/retrigger handling, the thread I linked was about this, its got some quite particular cases... but the more you play with it, the more you find its flaws <img src="//community.axoloti.com/images/emoji/emoji_one/wink.png?v=3" title=":wink:" class="emoji" alt=":wink:"> <br>so I fixed this issue (and Ive just retested -  it works correctly), but its only handles retrigger/legato within the confines of the objects 'behaviour' ... in the case of keyb, there is no concept of note allocation, so can have no idea of returning to a previous note. </p>

<p>btw, please also note johannes comment about adsr (its an important point, that can cause confusion) <br></p>

<p><aside class="quote"><blockquote><p>"env/adsr" does not reset to zero when interrupted, while "env/d" does.</p></blockquote></aside></p>

<p>so this, fixed behaviour would have to be transferred to other objects like lru, so that they would have correct retrigger/legato handling... this never happened because I didn't get enough feedback that it was ok  - needed for an object that is used by everyone all the time!  </p>

<p>to get to the monophonic behaviour as toneburst wants, it needs to take this, and then implement monophonic note priority in a different object.. , this would need to track ALL notes that currently held down by that voice for it to work properly.  (hence why you dont want the overhead in the basic keyb object) , basic variations could then allow for high or low note priority. definitely something that belongs in the factory library.<br>(bizarrely, I thought I had an object for this, but cant find it... perhaps, id just worked out what was required to implement then forgot about it .. i dont really play mono patches)</p>

<p>im not convinced you'd want 'live switching of modes' as this means you carry various overheads even if your now using them even if its just reduce optimisation paths/more memory</p>

<p>btw - perhaps a point not made clear in the above posts... there are many mono strategies, lru, high, low, are just 3... with legato/retrigger is on a different 'dimension' i.e. forming 6 combinations, but there are more (I think)</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/16">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/16</link>
        <pubDate>Fri, 10 Mar 2017 14:49:07 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-16</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@toneburst alx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/toneburst">@toneburst</a> wrote:</p>
          <blockquote>
              <p>Ah, yes, definitely not what I had in mind, and I don't know of any monosynths that operate as <a class="mention" href="/users/lokki">@lokki</a> describes.</p>

<p>Pitch should definitely jump back to the original note when the later note is released, in order to emulate most monosynth behaviour.</p>

<p>There are two options in terms or gates. Either:</p>

<ol>
<li>Gate is held high until all notes are released</li>
<li>Gate is toggled low and then high again whenever a new note is played</li>
</ol>

<p>There could be two gate outputs, one for each behaviour.</p>

<p>Thinking about it, it actually gets more complicated when you start to think about what happens if more that two notes are held.</p>

<p>I think the sanest way to deal with that would be the the pitch always jumps to any new note that is pressed. When that note is released, the pitch would jump to the most recently-pressed note that is still being held.</p>

<p>I guess you'd achieve this by adding each note to an array, and remove each note from the array when released. When a note is released, the pitch jumps to the highest-numbered array index containing a note-value.</p>

<p>If index 0 of the notes array doesn't hold a key number when a new note is pressed, we can set a gate output of type 1 (as above) high.</p>

<p>If on release, index 0 or the keys array only contains the note number of the just-released key, then we can set the gate low again.</p>

<p>a|x</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/15">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/15</link>
        <pubDate>Fri, 10 Mar 2017 14:37:59 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-15</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>sorry to come back to you with this <a class="mention" href="/users/thetechnobear">@thetechnobear</a> . but <a class="mention" href="/users/toneburst">@toneburst</a> asked about an object that retriggers legato held notes after new ones are released, you mentioned that you have an object for just that. now i tried your object and here it does not do that. what it does is sustain the last played note pitch as long as you hold the "first" note. so pitch does not jump back to the first note and there is no retriggering from gate or gate2. probably i am missing something really obvious. attached is my test-patch.<br>the first held note acts like a sustain pedal for the other notes...</p>

<p><a class="attachment" href="//community.axoloti.com/uploads/default/original/2X/a/abbf0a2f5d8aef2ccb57b6c931e59f2d42fdaf2d.axp">legatotest.axp</a> (2.7 KB)</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/14">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/14</link>
        <pubDate>Fri, 10 Mar 2017 13:37:17 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-14</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>all good, i did read the thread but don't seem to get it at all then... no worries.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/13">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/13</link>
        <pubDate>Fri, 10 Mar 2017 11:09:34 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-13</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@thetechnobear Mark Harris]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/thetechnobear">@thetechnobear</a> wrote:</p>
          <blockquote>
              <p>ok , ive uploaded the keyb object I had.</p>

<p><a class="mention" href="/users/lokki">@lokki</a> , sorry, I don't have time to get back into this topic, have a read of the thread I linked to, this was the reason for the change and so hopefully explains the change in behaviour.<br>( if you agree with it or not thats a different thing, and part of the reason I didn't end up releasing it.)</p>

<p>I tested it on 1.0.11, and was happy that it gave me behaviour that was consistent will real hardware synths, Ive not tried recently (this would require me diving into what the issues were), but I see not reason why 1.0.12 would break it.</p>

<p>BUT, I dont claim its perfect, at the same time as this topic,  I also was PM'ing Johannes, and during that discussion concluded the current model/objects were not ideal, for various reasons there are too simplistic ... but they need changes in the voice allocation code (which is not an object) to be improved - another reason I put it on the back burner.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/12">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/12</link>
        <pubDate>Fri, 10 Mar 2017 10:56:43 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-12</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>sorry for my ignorance, so you want a keyb-object that:</p>

<p>-does not retrigger when you play more then one note<br>-does retrigger the old note when you release the new note (if old note is still held of course)</p>

<p>right?</p>

<p>with lru you get:<br>-does not retrigger when you play more then one note<br>-does update pitch if you release new note and old note is still held (but no retriggering)</p>

<p>EDIT:</p>

<p>i just did some tests and i get this with lru object:</p>

<p>-if i use gate2 held notes are retriggered, but also overlapping notes. but that is not what you want, right?</p>

<p>-if i use gate1 held notes are not retriggered overlapping notes are also not retriggered.</p>

<p>EDIT2: your object (ltest2) <a class="mention" href="/users/thetechnobear">@thetechnobear</a>, does act very weird on 1.0.12, there is no retriggering at all when more than one note is held...</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/11">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/11</link>
        <pubDate>Fri, 10 Mar 2017 09:40:42 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-11</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>yeah, this should actually just work</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/10">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/10</link>
        <pubDate>Fri, 10 Mar 2017 09:05:19 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-10</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@toneburst alx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/toneburst">@toneburst</a> wrote:</p>
          <blockquote>
              <p>I think that's a different issue.</p>

<p>a|x</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/9">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/9</link>
        <pubDate>Fri, 10 Mar 2017 09:01:02 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-9</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@axoman]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/axoman">@axoman</a> wrote:</p>
          <blockquote>
              <p>I also welcome this addition.  I wanted my AD envelopes to retrigger on each key press the other day.<br>Definitely need this!</p>

<p>Thanks!</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/8">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/8</link>
        <pubDate>Thu, 09 Mar 2017 21:20:34 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-8</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
      <item>
        <title>MIDI Keyboard Object Legato Behaviour</title>
        <dc:creator><![CDATA[@toneburst alx]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/toneburst">@toneburst</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="2" data-topic="3029"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>I guess I should post it in the community library for now.</p></blockquote></aside>

<p>That would be cool, thanks. Will check it out when I get home.</p>

<aside class="quote" data-post="3" data-topic="3029" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/lokki/40/2882_1.png" class="avatar">lokki:</div>
<blockquote><p>doesn't midi keyb lru do this already? at least here it works (though i'm not sure if my controller resends the note on, once the second note is released, will have to check in the code)</p></blockquote></aside>

<p>Would be cool to have an option to toggle the gate output off and on again when the second note is released. This would introduce a minimum 1 k-rate cycle delay between the second note being released and the first being retriggered.</p>

<p>Many monosynths don't retrigger their envelopes until all notes have been released though, so maybe this should be the default behaviour.</p>

<p>In the case of overlapping notes, a second gate output could be added to allow slew/lag to be turned on on legato notes.</p>

<p>a|x</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/7">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029/7</link>
        <pubDate>Thu, 09 Mar 2017 13:29:30 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3029-7</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-keyboard-object-legato-behaviour/3029.rss">MIDI Keyboard Object Legato Behaviour</source>
      </item>
  </channel>
</rss>
