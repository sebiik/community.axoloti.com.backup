<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/sdram-tables-and-powers-of-2/1985 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:58:41 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>SDRAM Tables and Powers of 2 - AxoObject coding - Axoloti Community</title>
    <meta name="description" content="Do tables stored in SDRAM always need to be powers of 2 in length, or can they be of arbitrary size? 

I want to make a version of the &amp;#39;alloc 16b sdram load&amp;#39; object to load 8-bit data from a binary file, but I&amp;#39;d rather n&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="1985.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;SDRAM Tables and Powers of 2&#39;" href="1985.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/sdram-tables-and-powers-of-2/1985" />
<meta name="twitter:url" content="http://community.axoloti.com/t/sdram-tables-and-powers-of-2/1985" />
<meta property="og:title" content="SDRAM Tables and Powers of 2" />
<meta name="twitter:title" content="SDRAM Tables and Powers of 2" />
<meta property="og:description" content="Do tables stored in SDRAM always need to be powers of 2 in length, or can they be of arbitrary size?   I want to make a version of the &#39;alloc 16b sdram load&#39; object to load 8-bit data from a binary file, but I&#39;d rather not waste a load of SDRAM by allocating more space than required.   The file-loading will be integrated into a custom object, so there&#39;s no need for the loaded data to be accessible from a table load/play etc. object.   a|x" />
<meta name="twitter:description" content="Do tables stored in SDRAM always need to be powers of 2 in length, or can they be of arbitrary size?   I want to make a version of the &#39;alloc 16b sdram load&#39; object to load 8-bit data from a binary file, but I&#39;d rather not waste a load of SDRAM by allocating more space than required.   The file-loading will be integrated into a custom object, so there&#39;s no need for the loaded data to be accessible from a table load/play etc. object.   a|x" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 â¤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="1985.html">SDRAM Tables and Powers of 2</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/axoobject-code.html" itemprop="url">
        <span itemprop="title">AxoObject coding</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/toneburst.html'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-07-12T08:41:28Z' itemprop='datePublished'>
             2016-07-12 08:41:28 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Do tables stored in SDRAM always need to be powers of 2 in length, or can they be of arbitrary size?</p>

<p>I want to make a version of the 'alloc 16b sdram load' object to load 8-bit data from a binary file, but I'd rather not waste a load of SDRAM by allocating more space than required.</p>

<p>The file-loading will be integrated into a custom object, so there's no need for the loaded data to be accessible from a table load/play etc. object.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='SDRAM Tables and Powers of 2'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-07-12T15:00:31Z' itemprop='datePublished'>
             2016-07-12 15:00:31 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>the read/write objects are optimised for (and will only work with ) powers of 2.<br>but no , arrays don't generally need to be n^2, if you are planning on using your own access objects.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='SDRAM Tables and Powers of 2'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/toneburst.html'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-07-12T16:56:42Z' itemprop='datePublished'>
             2016-07-12 16:56:42 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Cool, thanks.</p>

<p>I realised I may be able to get away with a fixed 8kb size (8192 bytes), anyway, but good to know.</p>

<p>How does the optimisation you mention work, incidentally?</p>

<p>I'm going to be reading data from SDRAM at a fraction of K-rate, so optimisation isn't really necessary, especially if there's some form of tradeoff in some other area (processor cycles, etc.).</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='SDRAM Tables and Powers of 2'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-07-12T18:59:23Z' itemprop='datePublished'>
             2016-07-12 18:59:23 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="3" data-topic="1985"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v2/letter/t/b9e5f3/40.png" class="avatar">toneburst:</div>
<blockquote><p>How does the optimisation you mention work, incidentally?</p></blockquote></aside>

<p>all to do with bit shifting, a quick looks (on one table/read) looks like its using it to scale the Q27 to the size of the table.<br>e.g. imagine going from 0..64 to a table that was 123 in size, you'd need to divide, whereas a shift is much faster.</p>

<p>note: I've not reviewed all the objects, so there may be other optimisations, but this was the 'obvious' one.  (just look at usages of LENGTHPOW). Id suspect that the int access its possibly not as relevant BUT why scaled input are used is a completely different question l)</p>

<p>anyway have a look at the code, the non-interp versions are not that daunting.</p>

<p>of course your 'main issue' in terms of wasting memory, is that standard arrays do not dynamically allocate.... mainly for the 'reason',  you might as well allocate the size of your largest data set/sample.</p>

<p>where this logic fails , is when using lots of samples (etc) ,  then theory should be the allocated size should be the max of the COMBINED sample set... I suppose you could load these into one array however. (then use appropriate indexing)<br>oops, these thoughts, get off-topic quite quickly  - sorry <img src="../../images/emoji/emoji_one/slight_smile5e1f.png?v=2" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='SDRAM Tables and Powers of 2'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/toneburst.html'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-07-12T19:12:10Z' itemprop='datePublished'>
             2016-07-12 19:12:10 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>No need to apologise- it's all useful information.</p>

<p>The scaling-via-bit-shifting makes a lot of sense.</p>

<p>I'm not planning to traverse through the data in the sense of playing back a table of audio data, anyway. The binary file will store a number of different kinds of data, including character strings, and pointers to encoded audio streams within the array, so it's quite an obscure use-case.</p>

<p>Since we're only talking 8k, I'm not too worried about a possible few kb of waste, now I think about it.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='SDRAM Tables and Powers of 2'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/sdram-tables-and-powers-of-2/1985 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:58:43 GMT -->
</html>
