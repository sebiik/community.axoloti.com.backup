<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Analog inputs for trigger-to-midi capability - Hardware - Axoloti Community</title>
    <meta name="description" content="Hey guys, Just finished up a build project with axo, will post pictures and build notes soon. [:smile:] Anyway, it got me thinking about different ways to use the same controller layout I already have, and I realized it &amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="https://sebiik.github.io/community.axoloti.com.backup/t/analog-inputs-for-trigger-to-midi-capability/604" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://sebiik.github.io/community.axoloti.com.backup/opensearch.xml" title="Axoloti Community Search">

        <link href="/stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Analog inputs for trigger-to-midi capability&#39;" href="https://sebiik.github.io/community.axoloti.com.backup/t/analog-inputs-for-trigger-to-midi-capability/604.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/analog-inputs-for-trigger-to-midi-capability/604" />
<meta name="twitter:url" content="http://community.axoloti.com/t/analog-inputs-for-trigger-to-midi-capability/604" />
<meta property="og:title" content="Analog inputs for trigger-to-midi capability" />
<meta name="twitter:title" content="Analog inputs for trigger-to-midi capability" />
<meta property="og:description" content="Hey guys, Just finished up a build project with axo, will post pictures and build notes soon. 😄 Anyway, it got me thinking about different ways to use the same controller layout I already have, and I realized it would be perfect for a drum machine or digital drumkit brain. I have some old simmons SDS pads laying around, so I tried connecting them to the analog input pins and couldn&#39;t get signal to register. I assume that&#39;s because the analog ins have a VREF of 3.3v for use with potentiomet..." />
<meta name="twitter:description" content="Hey guys, Just finished up a build project with axo, will post pictures and build notes soon. 😄 Anyway, it got me thinking about different ways to use the same controller layout I already have, and I realized it would be perfect for a drum machine or digital drumkit brain. I have some old simmons SDS pads laying around, so I tried connecting them to the analog input pins and couldn&#39;t get signal to register. I assume that&#39;s because the analog ins have a VREF of 3.3v for use with potentiomet..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="8 ❤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="/"><img src="/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="/t/analog-inputs-for-trigger-to-midi-capability/604">Analog inputs for trigger-to-midi capability</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="/c/hardware" itemprop="url">
        <span itemprop="title">Hardware</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/matthewcieplak'><b itemprop='author'>matthewcieplak</b></a>
           
           <time datetime='2015-10-31T21:19:36Z' itemprop='datePublished'>
             2015-10-31 21:19:36 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey guys,<br>Just finished up a build project with axo, will post pictures and build notes soon. <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"> Anyway, it got me thinking about different ways to use the same controller layout I already have, and I realized it would be perfect for a drum machine or digital drumkit brain. I have some old simmons SDS pads laying around, so I tried connecting them to the analog input pins and couldn't get signal to register. I assume that's because the analog ins have a VREF of 3.3v for use with potentiometers or touch controllers or what have you. The signal out from the pad registers at about 0.1v maximum on my oscilloscope, and only for a tiny duration.</p>

<p>In looking at some <a href="http://www.edrum.info/schematics.html" rel="nofollow">schematics for other diy trigger-to-midi boards</a>, it looks as though people are mostly using some op amps (LM324) and diodes (BAT85) to amplify and clean up the signal for PIC type and/or arduino ADCs. Does this seem like it would work with the axoloti? Would the signal read-in be fast enough to use for playing drums in realtime? Any other hardware pitfalls I should consider?</p>

<p>Thanks!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:2'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Analog inputs for trigger-to-midi capability'>
      <hr>
            <a href="https://sebiik.github.io/community.axoloti.com.backup/t/piezo-trigger-question/871/2">Piezo trigger question?</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/timvets'><b itemprop='author'>timvets</b></a>
           
           <time datetime='2015-10-31T21:54:41Z' itemprop='datePublished'>
             2015-10-31 21:54:41 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think you need a bias, because the signal coming from such pads is AC (+ and -).<br>I made a board for this with a 4 channel op-amp for 4x "audio-to-GPIO".<br>It adds 1.65v bias and results in silence reading as a value around 32.<br>I use it for other audio signals, but tested with piezo disks successfully too.<br>The onset detection I tried is rather primitive but works surprisingly well:<br><img src="//community.axoloti.com/uploads/default/original/1X/37306b9852bc6e516e5d3c3a267098f48c7433b7.png" width="661" height="115"><br>note that in this screenshot the disp/chart doesn't show the bias offset because the op-amp board is not attached, it's just a 'floating' gpio pin...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:4'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Analog inputs for trigger-to-midi capability'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/johannes'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2015-11-01T15:00:59Z' itemprop='datePublished'>
             2015-11-01 15:00:59 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Biasing and then feeding into a GPIO analog in, has the risk of undersampling the piezo signal, as it will be sampled at only 3kHz.<br>After a rectifier, a (simple) analog low pass filter can be used to limit the bandwidth and avoid undersampling.<br>A half-wave rectification may miss the energy coming from the negative excursion, resulting in a uneven response, so I think a full wave rectifier would be better. <br>I'd avoid potentiometers for sensitivity control at the input, it is better to adjust this in the patch if the dynamic range allows. <br>Independent from direct, half- or full-wave rectified input, some patchwork is needed to extract velocity in a robust way, I don't know what feature is the most robust.</p>

<p>Anyway, just some thoughts here, not a tested solution. It is fairly simple to make working triggers, it takes a bit more research to get consistent velocity response. For in-depth research, recording the response at different velocities and inspecting the time-domain and spectral response would be a good start. Probably someone has already done this, I did not find a good article on the internet but only searched briefly.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:2'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Analog inputs for trigger-to-midi capability'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/floodcomics'><b itemprop='author'>floodcomics</b></a>
           
           <time datetime='2018-05-18T13:31:16Z' itemprop='datePublished'>
             2018-05-18 13:31:16 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks a lot for this, exactly what I was looking for!<br>I'm trying to make Axoloti convert input from piezos into MIDI note triggers for a drummachine:<br><img src="//community.axoloti.com/uploads/default/original/2X/0/0be4eef873e8912ff0dae33c5ba84e4cea143cfc.jpg" width="599" height="314"><br>When I tap the piezo it sends only "Note Off" messages rather than "Note On".<br>I can't figure out what I'm missing here... any ideas?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Analog inputs for trigger-to-midi capability'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/floodcomics'><b itemprop='author'>floodcomics</b></a>
           
           <time datetime='2018-05-18T13:46:53Z' itemprop='datePublished'>
             2018-05-18 13:46:53 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Scratch that! I just needed a value for velocity. Silly me! xD</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Analog inputs for trigger-to-midi capability'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/lokki'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2018-05-19T07:07:48Z' itemprop='datePublished'>
             2018-05-19 07:07:48 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>if you don't use the velocity from the piezo reading, you can also use a digital input.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Analog inputs for trigger-to-midi capability'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='/'>Home</a>
        <a href="/categories">Categories</a>
        <a href="/guidelines">FAQ/Guidelines</a>
        <a href="/tos">Terms of Service</a>
        <a href="/privacy">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
