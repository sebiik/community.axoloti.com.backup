<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/convert-integer-number-of-samples-into-fraction-of-delay-time/1704 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 Jul 2023 18:24:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Convert integer number of samples into fraction of delay time - Patching - Axoloti Community</title>
    <meta name="description" content="I feel really stupid, there must be a way to do this but I can&amp;#39;t work it out. 

I&amp;#39;ve got a timer measuring the interval between presses, this is giving me the number of k-rate samples*. I can multiply it by 16 to get the&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="1704.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Convert integer number of samples into fraction of delay time&#39;" href="1704.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/2X/7/799d0f4e2ba28c1bcbdaea564627f6f6bba6560e.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/2X/7/799d0f4e2ba28c1bcbdaea564627f6f6bba6560e.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/convert-integer-number-of-samples-into-fraction-of-delay-time/1704" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/convert-integer-number-of-samples-into-fraction-of-delay-time/1704" />
<meta property="og:title" content="Convert integer number of samples into fraction of delay time" />
<meta name="twitter:title" content="Convert integer number of samples into fraction of delay time" />
<meta property="og:description" content="I feel really stupid, there must be a way to do this but I can&#39;t work it out.   I&#39;ve got a timer measuring the interval between presses, this is giving me the number of k-rate samples*. I can multiply it by 16 to get the number of s-rate samples and I have the length of a delay defined as a constant elsewhere. I know what I would do to get the fraction of the total delay time if I was working with floating point, but I can&#39;t work out how to do it using axoloti&#39;s units. I need something like (64/..." />
<meta name="twitter:description" content="I feel really stupid, there must be a way to do this but I can&#39;t work it out.   I&#39;ve got a timer measuring the interval between presses, this is giving me the number of k-rate samples*. I can multiply it by 16 to get the number of s-rate samples and I have the length of a delay defined as a constant elsewhere. I know what I would do to get the fraction of the total delay time if I was working with floating point, but I can&#39;t work out how to do it using axoloti&#39;s units. I need something like (64/..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="2 â¤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="1704.html">Convert integer number of samples into fraction of delay time</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/patching.html" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirPrimalform.html'><b itemprop='author'>SirPrimalform</b></a>
           
           <time datetime='2016-05-15T17:53:52Z' itemprop='datePublished'>
             2016-05-15 17:53:52 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I feel really stupid, there must be a way to do this but I can't work it out.</p>

<p>I've got a timer measuring the interval between presses, this is giving me the number of k-rate samples*. I can multiply it by 16 to get the number of s-rate samples and I have the length of a delay defined as a constant elsewhere. I know what I would do to get the fraction of the total delay time if I was working with floating point, but I can't work out how to do it using axoloti's units. I need something like (64/totaldelay)*interval, but axoloti's options are somewhat limited when it comes to division. </p>

<p>D;</p>

<p><img src="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/2X/7/799d0f4e2ba28c1bcbdaea564627f6f6bba6560e.png" width="507" height="234"></p>

<p>*There's a deliberate exploitation of execution order there by the way, I have that or gate acting as a 1 k-sample delay, so the button press actually stops the timer and then the gate starts it again 1 k-sample later.<br>I think I should be adding 1 to the resulting count to compensate, is that right?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Convert integer number of samples into fraction of delay time'>
      <hr>
            <a href="../help-converting-rotary-encoder-input-to-dial-input/6063/6.html">Help converting rotary encoder input to dial input</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Djeremaille.html'><b itemprop='author'>Djeremaille</b></a>
           
           <time datetime='2016-05-15T21:24:09Z' itemprop='datePublished'>
             2016-05-15 21:24:09 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think i'm searching the same thing and I was ready to post a new topic but maybe your problem is similar to mine.</p>

<p>I measure the interval between two notes and with that I want to control the delay time of a pulselenghtm object.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Convert integer number of samples into fraction of delay time'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirPrimalform.html'><b itemprop='author'>SirPrimalform</b></a>
           
           <time datetime='2016-05-15T22:41:42Z' itemprop='datePublished'>
             2016-05-15 22:41:42 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hmm, I think they're related up to a point, but I think the pulselengthm objects have a reverse 'musical' exponential scaling where 12 units doubles the time. The delay is a linear fraction to my understanding, so putting '32' into the delay read object of a buffer 256 samples long gives 128.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Convert integer number of samples into fraction of delay time'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirPrimalform.html'><b itemprop='author'>SirPrimalform</b></a>
           
           <time datetime='2016-05-17T14:25:38Z' itemprop='datePublished'>
             2016-05-17 14:25:38 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I've still not worked this out, will have another look tonight but any pointers in the right direction would be much appreciated. Even if they're just posts pointing me to threads that help - I did some searches but I might have been using the wrong search terms.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Convert integer number of samples into fraction of delay time'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-05-17T14:51:33Z' itemprop='datePublished'>
             2016-05-17 14:51:33 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Converting semitone scaling to a linear scaling for the delay modulation input can be done with "conv/mtod". The correct tuning offset for "conv/mtod" is 7.53 semitones.<br>Converting linear scale to semitones, there is currently no object for this. You could approximate by : <br><img src="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/2X/3/3d7c93c8366f23b75de59e681cc5305253e1234e.png" width="405" height="104"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Convert integer number of samples into fraction of delay time'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirPrimalform.html'><b itemprop='author'>SirPrimalform</b></a>
           
           <time datetime='2016-05-17T18:47:40Z' itemprop='datePublished'>
             2016-05-17 18:47:40 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>But how do I convert my large integer into a fractional value? I feel like I'm missing something here, like perhaps you're assuming something that should be obvious but isn't (to me) for whatever reason.</p>

<p>So what I currently have is a way of measuring the time interval in k-rate samples - output as an integer. I also have an integer constant storing the number of samples that make up the delay buffer. I can divide that by 16 or multiply the interval by 16 to get them in the same range.</p>

<p>Is there really no way to do this properly with the factory objects (which is what I gather from your post)? Given that the buffer size is a nice power of 2, it seems like the  maths wouldn't be too nasty. 524288 is 8192*64, so (interval/8192)=fractional number in the range of 0.00 to 64.00 rounded to whatever the precision of a fractional number is internally.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Convert integer number of samples into fraction of delay time'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-05-17T19:01:04Z' itemprop='datePublished'>
             2016-05-17 19:01:04 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>There is indeed no very convenient way to convert a green outlet with a certain scaling to a blue outlet, but here is one workaround: <br><img src="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/2X/8/8f0a61423ed0fb1251cedaca33d985929584777b.png" width="377" height="180"><br>This multiplies integer 4096 with fractional (1/128), result is 32.0 fractional.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Convert integer number of samples into fraction of delay time'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirPrimalform.html'><b itemprop='author'>SirPrimalform</b></a>
           
           <time datetime='2016-05-17T20:05:48Z' itemprop='datePublished'>
             2016-05-17 20:05:48 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ah, that's an approach I tried, but 524288 is too big I think. It didn't behave as I had expected at least, I think it might have been overflowing.</p>

<p>EDIT: Aha, but 524288/16 is not too big! It's not like I'd gain any precision by working with s-rate numbers anyway since my interval measurement is k-rate. I think this'll work. Thank you!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Convert integer number of samples into fraction of delay time'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-05-17T20:12:39Z' itemprop='datePublished'>
             2016-05-17 20:12:39 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You can also chain another "math/div ..." before the math/* to extend the range, if needed.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Convert integer number of samples into fraction of delay time'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirPrimalform.html'><b itemprop='author'>SirPrimalform</b></a>
           
           <time datetime='2016-05-17T20:17:05Z' itemprop='datePublished'>
             2016-05-17 20:17:05 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I've ended up replacing it with a &gt;&gt; by 9, which is divide by 512 if my maths is correct. Either way, it scales 32768 down to 64.00 successfully!</p>

<p><img src="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/2X/5/5ed9328f90f60d78386b1e2f88ef6c592c752c4e.png" width="212" height="175"></p>

<p>p.s. I love that this board allows uploading of screenshots straight from the clipboard.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Convert integer number of samples into fraction of delay time'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirPrimalform.html'><b itemprop='author'>SirPrimalform</b></a>
           
           <time datetime='2016-05-17T20:55:58Z' itemprop='datePublished'>
             2016-05-17 20:55:58 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../users/johannes.html">@johannes</a> I have a question regarding delays which doesn't seem worth making a new thread for. When the delay time of a given delay is set to 64.00, instead of getting the maximum delay time it seems to give the same effect as 0.00 - i.e. no delay. I assume this is deliberate, but what is the purpose of it? Is it simply the read index lagging so far behind the write index that it bumps into it again?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Convert integer number of samples into fraction of delay time'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-05-17T21:25:18Z' itemprop='datePublished'>
             2016-05-17 21:25:18 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>If I recall correctly, this depends on the execution order:<br>If the "delay/read" is set to zero, but precedes the corresponding 'delay/write", you'll get a full length delay.<br>If the "delay/write" is set to 64.0, but precedes the corresponding 'delay/write", you'll get a zero length delay.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Convert integer number of samples into fraction of delay time'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirPrimalform.html'><b itemprop='author'>SirPrimalform</b></a>
           
           <time datetime='2016-05-17T21:27:06Z' itemprop='datePublished'>
             2016-05-17 21:27:06 UTC
           </time>
        </span>
        <span itemprop='position'>#13</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ahh! It'd hadn't occurred to me to try swapping them. I have pretty much always placed the write before the read because it just seemed to make sense to me. Thanks again!</p>

<p>EDIT: Seemingly the same result both ways round. It's not a problem, I just put my delay control signal through a min object that's comparing to a constant of 63.99.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Convert integer number of samples into fraction of delay time'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/convert-integer-number-of-samples-into-fraction-of-delay-time/1704 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 Jul 2023 18:24:45 GMT -->
</html>
