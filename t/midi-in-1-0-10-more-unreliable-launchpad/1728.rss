<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
    <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728</link>
    <description>In the last days i tried to transfer my current launchpad sequencer object from 1.0.9 to 1.0.10.

In the description of the test release i found this note
[quote=&quot;johannes, post:1, topic:1674&quot;]
Changes compared to test release 1.0.9


Improved USB-Midi controller compatibility
[/quote]
but in my case i found it more unreliable as before.

Now i am getting a lot of midi buffer overflows and the axoloti crashing when interacting with the launchpad very fast or sometimes the axoloti stops reacting to the input of the launchpad while the output to it still works fine (without any error messages). Both bugs i can not reproduce with 1.0.9. with the same objects.

So are there any major changes in version 1.0.10 which could cause this behavior?
Something i have to consider for the transfer process?</description>
    
    <lastBuildDate>Sun, 28 Aug 2016 13:38:41 +0000</lastBuildDate>
    <category>Helpdesk</category>
    <atom:link href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@jaffasplaffa Mr. Grimm]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/jaffasplaffa">@jaffasplaffa</a> wrote:</p>
          <blockquote>
              <p>Super great! I all ready have it in the shopping basket in Thomann. Checkout is next <img src="/images/emoji/emoji_one/slight_smile.png?v=2" title=":slight_smile:" class="emoji" alt=":slight_smile:"> </p>

<p>Thanks.</p>

<p>Ps. Sounds great about new release <img src="/images/emoji/emoji_one/wink.png?v=2" title=":wink:" class="emoji" alt=":wink:"></p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/17">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/17</link>
        <pubDate>Sun, 28 Aug 2016 13:38:41 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-17</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@johannes johannes]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/johannes">@johannes</a> wrote:</p>
          <blockquote>
              <p>I'm preparing a release, which contains a fix for this.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/16">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/16</link>
        <pubDate>Sun, 28 Aug 2016 13:24:06 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-16</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@jaffasplaffa Mr. Grimm]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/jaffasplaffa">@jaffasplaffa</a> wrote:</p>
          <blockquote>
              <p>Hey <a class="mention" href="/users/johannes">@johannes</a></p>

<aside class="quote" data-post="14" data-topic="1728" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/johannes/40/8_1.png" class="avatar">johannes:</div>
<blockquote><p>I'm working on a fix...</p></blockquote></aside>

<p>I just updated to 1.0.10 and I am looking at getting a Novation Launch Control and thought I'd search the community and stumbled on this thread. How is this going? </p>

<p>Thanks</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/15">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/15</link>
        <pubDate>Sun, 28 Aug 2016 13:07:55 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-15</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@johannes johannes]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/johannes">@johannes</a> wrote:</p>
          <blockquote>
              <p>I'm working on a fix...</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/14">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/14</link>
        <pubDate>Wed, 08 Jun 2016 13:19:20 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-14</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@Blindsmyth Simon]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/blindsmyth">@Blindsmyth</a> wrote:</p>
          <blockquote>
              <p>I have similiar issues with my LaunchcontrolXL here. Sometimes Axoloti doesn't take input from the controller anymore but the midi feedback into the controller works fine. <br>This was not an issue with previous versions.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/13">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/13</link>
        <pubDate>Tue, 07 Jun 2016 23:41:00 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-13</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@johannes johannes]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/johannes">@johannes</a> wrote:</p>
          <blockquote>
              <p>OK, I can reproduce this issue with a launchpad mini, stay tuned...</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/12">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/12</link>
        <pubDate>Wed, 01 Jun 2016 15:58:13 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-12</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@johannes johannes]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/johannes">@johannes</a> wrote:</p>
          <blockquote>
              <p>The problem is most likely related to my tweak of the usb midi host code<br><aside class="onebox githubcommit">
  <header class="source">
    <a href="https://github.com/axoloti/axoloti/commit/54e04a163582ae106c89c3d995fd29ac3f6a8c61" rel="nofollow">
      github.com/axoloti/axoloti
      
    </a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/JohannesTaelman" target="_blank" rel="nofollow">
    <img alt="JohannesTaelman" src="https://avatars.githubusercontent.com/u/3052578?v=3" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/axoloti/axoloti/commit/54e04a163582ae106c89c3d995fd29ac3f6a8c61" target="_blank" rel="nofollow">FW: USBHost tweaks</a>
</h4>


<div class="date">
  by <a href="https://github.com/JohannesTaelman" target="_blank" rel="nofollow">JohannesTaelman</a>
  on <a href="https://github.com/axoloti/axoloti/commit/54e04a163582ae106c89c3d995fd29ac3f6a8c61" target="_blank" rel="nofollow">06:11PM - 08 May 16</a>
</div>

<div class="github-commit-stats">
  changed <strong>5 files</strong>
  with <strong>87 additions</strong>
  and <strong>90 deletions</strong>.
</div>

  </article>
  <div style="clear: both">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
<br>which was solving dropped midi data in some cases. <br>In detail, when DMA is enabled for the USB host, it was found that, after receiving a packet, it is not needed to wait until a timer expires before calling USBH_BulkReceiveData() again. Without DMA this would fail very often, with lost midi reception as a result - exactly as you're reporting. With DMA there may still be a condition where the usb host is not ready to initiate reception again, will look into this...</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/11">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/11</link>
        <pubDate>Mon, 23 May 2016 12:57:56 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-11</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@beat]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/beat">@beat</a> wrote:</p>
          <blockquote>
              <p><a class="mention" href="/users/thetechnobear">@thetechnobear</a> i integrated the MidiGetOutputBufferPending() in the code like this:</p>

<p><code>int m = MidiGetOutputBufferPending(MIDI_DEVICE_USB_HOST);<br>if (m==0) { /*update launchpad leds*/ }<br>else /*log m*/;</code></p>

<p>but it doesn't help.</p>

<p>also i can reproduce the bug with these factory objects inside a poly patcher set to 16 voices.<br><img src="//community.axoloti.com/uploads/default/original/2X/b/b5ce8a410e3ae18335b8985de50712b0e6ff95f6.jpg" width="368" height="115"> <br>again it's not possible to recreate it under 1.0.9</p>

<p>maybe it's a wrong conclusion, but it seems as if the problem is connected to version 1.0.10 and not to custom code inside some objects?</p>

<p>i hope that the last experiment helps to delimit the source of the bug?<br>thank you for all your time and your investigations.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/10">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/10</link>
        <pubDate>Mon, 23 May 2016 11:23:24 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-10</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@thetechnobear Mark Harris]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/thetechnobear">@thetechnobear</a> wrote:</p>
          <blockquote>
              <p>no there is (currently) no queue on the input, its directly dispatched to the objects.</p>

<p>there really is not a lot of code shared between input and output, except for the underlying device.<br>(its interesting you see output is still working) </p>

<p>if you get the overflow error, then for some reason you are writing  faster than the launchpad is processing the messages.  (we can only write a new message when we get the OK back from the usb layer). we have the ring buffer to 'smooth' out the possible jitter, but it can only do so much (64 messages backlog) <br>... again, its interesting that your seeing its still updating the display after the overflow, this indicates message are still going out.<br>(the way I would probably debug this, is to send the messages to a PC/Mac instead, and log them, you might see that in some circumstances you are sending more than you expect)</p>

<p>can you check to see if the launchpad input stops working when your not doing any output...<br>it could be the input, is just failing on its own. this would be extremely useful to know.<br>(so we can rule out some kind of interaction between input and output being the cause)</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/9">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/9</link>
        <pubDate>Sun, 22 May 2016 19:31:54 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-9</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@beat]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/beat">@beat</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="7" data-topic="1728"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>btw, when you say it 'crashes' what do you mean by this?</p></blockquote></aside>

<p><a class="mention" href="/users/thetechnobear">@thetechnobear</a> to be more precise: after the described procedure the axoloti seems to ignore further input from the launchpad but keeps on running the patch, i.e. the audio keeps running (sometimes with glitches) and the sequencer is correctly displayed on the launchpad (lights keep moving in sync, UI keeps working, ...). sometimes the axoloti says there is an midi-buffer overflow but most of the time it says there is no overflow...</p>

<aside class="quote" data-post="7" data-topic="1728"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>have you tried using  MidiGetOutputBufferPending(), to throttle the updates, so you know you are not overrunning the buffer.</p></blockquote></aside>

<p>no i don't. because i originally developed the object under 1.0.9 and i eliminated all overflows and other bugs there. that's why i wondering... otherwise i would assume that i made some kind of mistake...<br>i will try this command and see if it will get me some new insights to this problem. by the way is there some kind of API are other listing of axoloti specific functions?</p>

<aside class="quote" data-post="4" data-topic="1728"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>axoloti  has a ring buffer of 64 messages for output, which is a reasonable trade off of 'allocated memory' vs throughput. this means you should not be sending more than 64 messages at a time</p></blockquote></aside>

<p>in the object i posted above i made sure that not more than 40 messages are sent in one k-rate cycle every 150 cycles. so i don't think i can overrun the output buffer?<br>is there a buffer for incoming messages too, which could cause the overrun?</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/8">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/8</link>
        <pubDate>Sun, 22 May 2016 19:01:04 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-8</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@thetechnobear Mark Harris]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/thetechnobear">@thetechnobear</a> wrote:</p>
          <blockquote>
              <p>have you tried using  MidiGetOutputBufferPending(), to throttle the updates, so you know you are not overrunning the buffer?</p>

<p>I had a quick look at your objects, and both appear to just 'assume' that they can write, this is an incorrect assumption.</p>

<p>and if you </p>

<p><aside class="quote"><blockquote><p>press chaoticly and quick the matrix buttons.</p></blockquote></aside></p>

<p>that I would imagine mean thats lots of midi messages are sent, so you could overrun the buffer.</p>

<p>it may be that 1.0.10 has an issue but still your code should be handling the ring buffer correctly.</p>

<p>Im very interested if you dont overrun the buffer, if the crashing stops... <br>I suspect it might, and i suspect you will also find the throughput it ok.</p>

<p>a point of note: I put in the ring buffer overflow message to alert the user to the fact they are not handling the buffer correctly... i.e. a warning to alter your code, since once overrun you have no idea what messages have been sent and which not, you are in a completely unknown state.</p>

<p>btw, when you say it 'crashes' what do you mean by this? does the ui disconnect? does the core board continue to process anything?<br>one 'known' issue, is its possible to get so many ring buffer overflow messages you will break the link to the UI, and possibly hang the UI. this is a common problem with our log messages, that if you write too many it causes issues for the UI.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/7">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/7</link>
        <pubDate>Sun, 22 May 2016 15:21:39 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-7</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@beat]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/beat">@beat</a> wrote:</p>
          <blockquote>
              <p><a class="mention" href="/users/johannes">@johannes</a>  that would be awesome . i am not familiar with the newer launchpad products, but on a quick research i found the statement that all the features of the older products are supported. so i think its worth a try (and i am curious to see if it works).</p>

<p>this is the way you should setup the object:<br><img src="//community.axoloti.com/uploads/default/original/2X/f/f5e096c16515233131255adee548791d0a00bfd8.jpg" width="460" height="226"></p>

<p>the object (<a class="attachment" href="//community.axoloti.com/uploads/default/original/2X/8/82853652861654462e50faa86f2915bdce9654eb.axo">voice 4.axo</a> (5.3 KB)) is not finished yet. but the main interaction with the launchpad is already finished ("midi_channel", "root_note" spinners have no implemented functionality).</p>

<p>to reproduce the bug you have to press chaoticly and quick the matrix buttons. sometimes when it didn't crashed during this procedure, it crashed while turning off all the selected steps.<br>(both things i couldn't reproduce in 1.0.9.)</p>

<p>thank you for your efforts! i really appreciate this direct interest and communication.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/6">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/6</link>
        <pubDate>Sun, 22 May 2016 08:34:43 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-6</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@johannes johannes]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/johannes">@johannes</a> wrote:</p>
          <blockquote>
              <p>I'd like to replicate your problem, is the Launchpad Mini MK2 compatible with your object? I'm considering getting one now...</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/5">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/5</link>
        <pubDate>Sat, 21 May 2016 14:44:06 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-5</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@thetechnobear Mark Harris]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/thetechnobear">@thetechnobear</a> wrote:</p>
          <blockquote>
              <p>Sorry, Ive not seen any input issues... so can't comment on that.</p>

<p>(generally, input and output are only 'partly' related, so its not a big surprise if input works, but output doesn't and vice versa) </p>

<p>yes, I know, my test was about sustained throughput,and as I don't have my Push 1 anymore, I don't really have a way of testing bulk messages easily.  (and this, actually comes down to how you are throttling your output, which is necessary) ... unfortunately this means I can't comment on if the throughput has deteriorated in 1.0.10 or not.  merely, its seems to be work ok as far as i can tell.</p>

<p>axoloti  has a ring buffer of 64 messages for output, which is a reasonable trade off of 'allocated memory' vs throughput. this means you should not be sending more than 64 messages at a time</p>

<p>so yes  throttling output, is expected of the client code, and an 'available' count is supplied for you to check.( I did this on the Push , but keep track of state, and only sending new state with there were no pending messages)  ... the available count is important, you should not assume that you can write at N msgs/sec.</p>

<p>its obviously important when writing these kind of objects, to ensure you minimise the number of messages sent, and like audio processing, its better to spread the 'load' over as many cycles as possible whilst ensuring a decent user experience in terms of response.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/4">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/4</link>
        <pubDate>Sat, 21 May 2016 13:49:05 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-4</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@beat]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/beat">@beat</a> wrote:</p>
          <blockquote>
              <p><a class="mention" href="/users/thetechnobear">@thetechnobear</a> thank you for your quick answer! So your test setup worked just fine for the launchpad. but i am not sure if it is representative for my case.</p>

<p>in your setup you are sending max two midi messages in the same k-rate cycle, one midi note message and one midi cc. the only difference is the time interval in between. so you are testing how quick midi messages can be sent after each other (but in different k-rate cycles).</p>

<p>for the sequencer i have to be able to change "pages" displayed by the launchpad. in the worst case each pixel has to be resent to the launchpad to output the correct "information". so there are max 64 midi messages which have to be sent to the launchpad to update the whole button-matrix.</p>

<p>this approach led to midi buffer overflow under 1.0.9. so i decided to take advantage of the rapid update feature of the launchpad. instead of sending each pixel independently. two pixels can be updated by sending one midi message. this approach just works if the whole matrix is updated. so now i am sending constantly ca. 32 midi messages. to reduce the midi traffic i just update the matrix each 150 k-rate cycles. this worked just fine under 1.0.9.</p>

<aside class="quote" data-post="2" data-topic="1728"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>what seems 'odd to me' , is that with output, Ive found in the past it tends to either work or not...</p></blockquote></aside>

<p>its really strange that the output keeps working while no more input can be received. i tested the described setup in addition with an "midi/in/keyb" object and the keyb also stopped receiving midi from launchpad. after that i "un-lived" the patch and then pressed "live" again. the sequencer correctly displayed the data over the LP but still no messages could be received. after physically reconnecting the axoloti the patch worked again (input and output).</p>

<p>on code side i made sure that the matrix updating process can not be interrupted. but it does not any difference.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/3">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/3</link>
        <pubDate>Sat, 21 May 2016 13:20:17 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-3</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@thetechnobear Mark Harris]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/thetechnobear">@thetechnobear</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="1" data-topic="1728"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/beat/40/1574_1.png" class="avatar">beat:</div>
<blockquote><p>So are there any major changes in version 1.0.10 which could cause this behavior?Something i have to consider for the transfer process?</p></blockquote></aside>

<p>you may want to check the output port on the launchpad, this may have changed with 1.0.10... BUT if this was the cause, then no output would work at all.  (otherwise this is probably related to the 'dma' changes)</p>

<p>midi buffer overflows are caused by:</p>

<p>a) connected device not reading (or fast enough) <br>b) the midi send poll not being serviced</p>

<p><a class="mention" href="/users/johannes">@johannes</a> the change made regarding the 'polling' loop, you may want to check that there was no 'side effect' on the send not being called as regularly, output send frequency should not be tied to input obviously. (Ive not had a chance to review the changes) </p>

<p>what seems 'odd to me' , is that with output, Ive found in the past it tends to either work or not...<br>(assuming your not increasing the number of messages to output significantly)<br>to test, try running a test which has an LFO sending messages (CC say) over midi, and see at what rate it starts to fail. (note, there is a buffer, so leave it a few seconds, before assuming there is not an issue)</p>

<p>on midi input side, the test i did on midi devices had no issues, and early reports are that generally 1.0.10 has improved things. does this only fail, after output as failed? or its independent?<br>does it initial work, and then stop? is it dropping occasional messages? or one its fails, it stops working entirely?</p>

<p>Sorry, I don't have any time at the moment to do any debugging of this (or anything for that matter) </p>

<p>I think your best bet is to do as many tests as possible to narrow down the issues, also test with other devices to see if its just the launchpad... the more information and tests you can supply to <a class="mention" href="/users/johannes">@johannes</a> the easier he will find it to narrow down the issue.</p>

<p>EDIT:  I tested midi output with my Virus TI, sending notes and CC 1, at 200 msg/sec using the following,  and no issue.<br><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/ff4a5d247400587afd058047c4a40996475e2da3" href="//community.axoloti.com/uploads/default/original/2X/f/ff4a5d247400587afd058047c4a40996475e2da3.png" class="lightbox" title="Screen Shot 2016-05-21 at 14.33.42.png"><img src="//community.axoloti.com/uploads/default/optimized/2X/f/ff4a5d247400587afd058047c4a40996475e2da3_1_690x257.png" width="690" height="257"><div class="meta">
<span class="filename">Screen Shot 2016-05-21 at 14.33.42.png</span><span class="informations">820x306 18.4 KB</span><span class="expand"></span>
</div></a></div></p>

<p>try the same with your launchpad, see if it works... and as I say, check using different host ports.</p>

<p>(one thing, I have noticed is we should throttle the ring buffer message to only report at a max of 1/sec or something so as not to kill the UI by flooding it with log messages ... that or consider an anti flood mode on the LogTextMessage as a more general improvement)</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/2">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/2</link>
        <pubDate>Sat, 21 May 2016 10:43:12 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-2</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
      <item>
        <title>MIDI in 1.0.10 more unreliable (Launchpad)</title>
        <dc:creator><![CDATA[@beat]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/beat">@beat</a> wrote:</p>
          <blockquote>
              <p>In the last days i tried to transfer my current launchpad sequencer object from 1.0.9 to 1.0.10.</p>

<p>In the description of the test release i found this note<br></p>

<aside class="quote" data-post="1" data-topic="1674"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/johannes/40/8_1.png" class="avatar"><a href="//community.axoloti.com/t/axoloti-test-release-1-0-10/1674/1">Axoloti TEST release 1.0.10</a>
</div>
<blockquote>
<p>Changes compared to test release 1.0.9</p>
<p>Improved USB-Midi controller compatibility</p>
</blockquote></aside>

<p>but in my case i found it more unreliable as before.</p>

<p>Now i am getting a lot of midi buffer overflows and the axoloti crashing when interacting with the launchpad very fast or sometimes the axoloti stops reacting to the input of the launchpad while the output to it still works fine (without any error messages). Both bugs i can not reproduce with 1.0.9. with the same objects.</p>

<p>So are there any major changes in version 1.0.10 which could cause this behavior?<br>Something i have to consider for the transfer process?</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/1">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728/1</link>
        <pubDate>Sat, 21 May 2016 09:13:04 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-1728-1</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-in-1-0-10-more-unreliable-launchpad/1728.rss">MIDI in 1.0.10 more unreliable (Launchpad)</source>
      </item>
  </channel>
</rss>
