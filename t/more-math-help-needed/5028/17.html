<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/more-math-help-needed/5028/17 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 17:17:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>(More) Math help needed! - AxoObject coding - Axoloti Community</title>
    <meta name="description" content="Hey! 

Have been looking a bit into building a number sequencer, where I can enter a sned a variable in, like 1,2,3,4,5,6 and the result should be something like this: 

1   1,2   1,2,3   1,2,3,4   1,2,3,4,5,   1,2,3,4,5&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="../5028.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;(More) Math help needed!&#39;" href="../5028.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/user_avatar/community.axoloti.com/jaffasplaffa/200/5808_1.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/user_avatar/community.axoloti.com/jaffasplaffa/200/5808_1.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/more-math-help-needed/5028/17" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/more-math-help-needed/5028/17" />
<meta property="og:title" content="(More) Math help needed!" />
<meta name="twitter:title" content="(More) Math help needed!" />
<meta property="og:description" content="The reasom I used powf, was because Johannes suggested it in another post over using just pow for Axoloti:     It is something that is going to be used only once pr patch, so I hope its going to be okay. I haven&#39;t had time to try it out yet." />
<meta name="twitter:description" content="The reasom I used powf, was because Johannes suggested it in another post over using just pow for Axoloti:     It is something that is going to be used only once pr patch, so I hope its going to be okay. I haven&#39;t had time to try it out yet." />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html"><img src="../../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="../5028.html">(More) Math help needed!</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../../c/axoobject-code.html" itemprop="url">
        <span itemprop="title">AxoObject coding</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-10-06T20:05:06Z' itemprop='datePublished'>
             2018-10-06 20:05:06 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey!</p>

<p>Have been looking a bit into building a number sequencer, where I can enter a sned a variable in, like 1,2,3,4,5,6 and the result should be something like this:</p>

<p>1   1,2   1,2,3   1,2,3,4   1,2,3,4,5,   1,2,3,4,5,6,   1,2,3,4,5,6,7   1,2,3,4,5,6,7,8</p>

<p>And so on..... Every sequence is as long as the the amount of numbers in the sequence.<br>I tried all kinds of trick using modulo but I am out of ideas.</p>

<p>Everytime it has run through the sum of the numbers in the sequence, it adds another number to the sequence. I have googled it a bit but have not found anything that would work where I put in a variable in one end and i get the selected number of the above list out. I did try something using an array, but well, it very quickly sums up to a very large array, so it would be nice to be able to do it with a formula instead.</p>

<p>Does any one have suggestions to do the above?</p>

<p>Thanks!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/lokki.html'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2018-10-06T21:49:10Z' itemprop='datePublished'>
             2018-10-06 21:49:10 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>i don't get it, so you enter 1,2,3,4,5,6 (six numbers) but there are 8 sequences in your example afterwards...</p>

<p>or do you mean the steps you enter?</p>

<p>so for example</p>

<p>input:</p>

<p>3,2,1,7,6,5,4</p>

<p>output:<br>3<br>3,2<br>3,2,1<br>3,2,1,7<br>3,2,1,7,6<br>3,2,1,7,6,5<br>3,2,1,7,6,5,4</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-10-07T09:10:55Z' itemprop='datePublished'>
             2018-10-07 09:10:55 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ahh sorry maybe i didnt explain it carefully, I m not even sure what, what I am trying to is called. So its hard looking it up, hehe <img src="../../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> </p>

<p>Ill try again:<br>I input one variable at a time, fro example use an ctrl/i as an input. So if I input value , like 1,2,3,4,5,6,7 etc. The numbers should be converted into the list below.</p>

<p>If I input these value, with the ctrl/i, like we do with any other parameter in Axo:<br>1  2,3    4,5,6    7,8,9,10  10,11,12,13,14   15,16,17,18,19,20,<br>These values should come out.<br>1  1,2    1,2,3    1,2,3,4    1,2,3,4,5,            1,2,3,4,5,6,     </p>

<p>My first try was using an array, but again it works but the array very quickly get very big. I also tried something using modulo and some dvisions, but that didnt work either.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/lokki.html'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2018-10-07T13:59:26Z' itemprop='datePublished'>
             2018-10-07 13:59:26 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>so you want to count how many numbers were inputted?</p>

<p>so you would have to set yourself an upper limit, and setup a buffer. then you will need a way to determine when new numbers come in, and when you want to count them.</p>

<p>i would initialise the whole array to a value that it cannot hold later (for example -1) and count all occurrences of non -1 values when you want to determine how many steps you need.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-10-07T14:31:53Z' itemprop='datePublished'>
             2018-10-07 14:31:53 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Here is an example made with tables:</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/b78f8c90441b6a5c60f12b36f522e48b303e53e0" href="../../../uploads/default/original/2X/b/b78f8c90441b6a5c60f12b36f522e48b303e53e0.png" class="lightbox" title="Screen Shot 2018-10-07 at 16.35.57.png"><img src="../../../uploads/default/optimized/2X/b/b78f8c90441b6a5c60f12b36f522e48b303e53e0_1_690x58.png" width="690" height="58"><div class="meta">
<span class="filename">Screen Shot 2018-10-07 at 16.35.57.png</span><span class="informations">858x73 10.2 KB</span><span class="expand"></span>
</div></a></div></p>

<p><a class="attachment" href="../../../uploads/default/original/2X/3/array%20numbers.axp">array numbers.axp</a> (2.3 KB)</p>

<p>I tried yesterday with some patching using modulo and latch and some other tricks but it was a mess and didnt really work out well. The ones I saw on the web were all based on for-loops, so yeah I am thinking I might have to look into that. But I am starting to hink I am just going to use the table for now and think A bit more about it.</p>

<p>I am just think it must be possible to do this with a formula.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Captain_Burek.html'><b itemprop='author'>Captain_Burek</b></a>
           
           <time datetime='2018-10-07T15:48:51Z' itemprop='datePublished'>
             2018-10-07 15:48:51 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>local: int s,l,pSel;</p>

<p>k-rate:<br>if (param_Sel!=pSel){<br>	pSel=param_Sel;<br>	s=0;<br>	l=1;<br>	for (int i=1; i&lt;=param_Sel;i++){<br>		if (s&lt;l){<br>			s++;<br>		}<br>		else{<br>			l++;<br>			s=1;<br>		}<br>	}<br>}<br>outlet_l = l;<br>outlet_s = s;</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-10-07T19:23:05Z' itemprop='datePublished'>
             2018-10-07 19:23:05 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thank you very much <a class="mention" href="../../../u/captain_burek-2.html">@Captain_Burek</a> that worked out nicely <img src="../../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> </p>

<p>I did a cycle counter test, it's alot more efficient than the table version, so this is great.</p>

<p>Can I ask where you got it from? Or if you just made it now, what is it called? So I can look it up? Thanks again!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Captain_Burek.html'><b itemprop='author'>Captain_Burek</b></a>
           
           <time datetime='2018-10-07T20:06:32Z' itemprop='datePublished'>
             2018-10-07 20:06:32 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>no name, just typed it up; i had important things to do and needed to procrastinate...(-;</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-10-07T23:04:21Z' itemprop='datePublished'>
             2018-10-07 23:04:21 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><strong>So I got another one for you guys, but I'll keep it in the same thread:</strong></p>

<p>I am trying to make a POW function that works for int32_t values. This semi works, by that i mean it rounds the numbers to whole number, I cant use decimals, like 3.44 or similar. I know there will always be some rounding, but I could really use a couple of decimals, at least:</p>

<p><img src="../../../uploads/default/original/2X/0/092442aa1ac907ba384ef356f241d73b509b88cc.png" width="283" height="148"></p>

<p><a class="attachment" href="../../../uploads/default/original/2X/0/POW%20COM.axp">POW COM.axp</a> (2.5 KB)</p>

<p>I tried without the bit shifting first, but without the bitshifting, the floats seems to be out of range. So I first bit shift &gt;&gt;21 to make the value smaller, and then at the end scale it back with &lt;&lt;21. But the problem is I get a rounded result:</p>

<p><img src="../../../uploads/default/original/2X/a/a9d12f4c03a26ddafb341d095996f7421bdff835.png" width="430" height="191"></p>

<p>Is there something in my algorithm that might cause that? I have used int32_t and float, which both allows use og decimals.</p>

<p>Any suggestions?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/lokki.html'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2018-10-08T10:38:50Z' itemprop='datePublished'>
             2018-10-08 10:38:50 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>don't shift, divide...by shifting right, you always loose resolution.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-10-08T12:32:51Z' itemprop='datePublished'>
             2018-10-08 12:32:51 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="10" data-topic="5028" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/community.axoloti.com/lokki/40/5157_1.html" class="avatar">lokki:</div>
<blockquote><p>don't shift, divide...by shifting right, you always loose resolution.</p></blockquote></aside>

<p>Ahh yes, but which number should I divide with to get in the right range? I use shifting for other stuff and it keeps the decimals, even after shifting. But yeah, this is all still a bit new to me, so I might ne missing something obvious.</p>

<p>I tried yesterday dividing with 4194304, cause thats the same as shifting the value of one, 21 times. That didnt work.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/deadsy.html'><b itemprop='author'>deadsy</b></a>
           
           <time datetime='2018-10-08T17:42:33Z' itemprop='datePublished'>
             2018-10-08 17:42:33 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>There's a lookup table based implementation in objects/math/exp.axo.<br>You should be using that - or something similar to it.</p>

<p>Other points:</p>

<p>1) If you want to convert fixed point to floating point you should use the proper conversion routines- these routines will retain as much of the fraction as practical given the formats.<br>q27_to_float and float_to_q27 are available - if you want to convert from/to some other fixed point format you'll need to write your own- take a look at the code - it's simple.</p>

<p>2) powf() - you probably shouldn't use it. The standard c math library favors accuracy over speed- you want speed, hence the author of the firmware provided a lookup table implementation which is fast- but not so accurate.</p>

<p>In summary - try to leverage the lookup table approach indicated in exp.axo.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:3'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/SmashedTransistors.html'><b itemprop='author'>SmashedTransistors</b></a>
           
           <time datetime='2018-10-08T20:02:04Z' itemprop='datePublished'>
             2018-10-08 20:02:04 UTC
           </time>
        </span>
        <span itemprop='position'>#13</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <pre><code>float inf1 = arm::q_to_float(inlet_i1, 21);
float inf2 = arm::q_to_float(inlet_i2, 21);
float test = powf(inf1, inf2);

outlet_k = (int32_t)(test * (1&lt;&lt;21));</code></pre>

<p>would work as intended:</p>

<ul>
<li>test is a float</li>
<li>(1&lt;&lt;21) is an int but, as it is involved in a multiplication with a float, it is automatically up casted to float.</li>
<li>the product test * (1&lt;&lt;21) is a float</li>
<li>it is casted back to int.</li>
</ul>

<p>or you can use the intrinsic arm function:</p>

<pre><code>outlet_k = arm::float_to_q(test, 21);</code></pre>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:2'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-10-08T20:36:48Z' itemprop='datePublished'>
             2018-10-08 20:36:48 UTC
           </time>
        </span>
        <span itemprop='position'>#14</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks guys, there are some things to try out here <img src="../../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"> </p>

<p>Its for a sampler algorithm, so Ill just see what I can get working and then see how important accuracy is.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2018-10-09T11:37:27Z' itemprop='datePublished'>
             2018-10-09 11:37:27 UTC
           </time>
        </span>
        <span itemprop='position'>#15</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>as <a class="mention" href="../../../u/deadsy.html">@deadsy</a> pointed out using floats and float functions (like powf) are expensive in terms of cpu cycles, so its going to affect your patch a lot if you use frequently... and in your current 'configuration' its going to hit on every k-rate cycle.<br>(you could test this yourself using the cpu cycle counter, so you get a feel for the extra load this causes)</p>

<p>also once it becomes an object, as its so easy to use, its becomes easy to forget its 'cost', and wonder why your 'simple' patch is quite costly.</p>

<p>perhaps, if you know the bounds of your inputs, you could perhaps pre-calculate the results at startup, and store in a table - meaning during 'audio time' your only doing a table look up.<br>(in a similar way to the way exp/pitch is done in the firmware)</p>

<p>of course this is not as flexible, and uses sdram but with a platform that has limited CPU like axoloti, there will always be a trade off, thats the nature of the beast.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2018-10-11T09:18:12Z' itemprop='datePublished'>
             2018-10-11 09:18:12 UTC
           </time>
        </span>
        <span itemprop='position'>#16</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>3 posts were merged into an existing topic: <a href="../../using-floats-vs-fixed-point-maths/5050.html">Using floats vs fixed point maths</a></p>

<p>mod note: I've moved this post, not because they were off-topic, but because i think there are some interesting observations, that are of more general interest than this topic (which is has a very broad title) ... and i dont think it 'disturbs' this thread too much</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-10-09T14:03:22Z' itemprop='datePublished'>
             2018-10-09 14:03:22 UTC
           </time>
        </span>
        <span itemprop='position'>#17</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The reasom I used powf, was because Johannes suggested it in another post over using just pow for Axoloti:</p>

<aside class="quote" data-topic="4045" data-slug="division-in-s-rate" data-post="7"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/community.axoloti.com/johannes/40/8_1.html" class="avatar"><a href="../../division-in-s-rate/4045/7.html" rel="nofollow noopener">Division in S-Rate?</a>
</div>
<blockquote><p>pow(x,y) is "evil", if you really need to use a floating point pow function, use powf(x,y) Division should be used with care, dividing by 0 is undefined, in case of floating point could result in a "NaN" that often would keep recirculating in recursive algorithms (yours is not recursive).    Audio inlets use fractional representations of value, need to convert/scale those to float first if you want to use pow(x,y).</p></blockquote></aside>

<p>It is something that is going to be used only <em>once</em> pr patch, so I hope its going to be okay. I haven't had time to try it out yet.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-10-10T19:35:09Z' itemprop='datePublished'>
             2018-10-10 19:35:09 UTC
           </time>
        </span>
        <span itemprop='position'>#20</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="18" data-topic="5028"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/community.axoloti.com/thetechnobear/40/6_1.html" class="avatar">thetechnobear:</div>
<blockquote><p>And for sure, doing everything in float would make things much easier to read and write <img src="../../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p></blockquote></aside>

<p>Yeah writing some modules for VCV rack was definately a lot easier , math vice, than doing it for Axoloti, cause you can keep it in "real world units", like samples, milliseconds, etc. Understanding bitshifting is kind of important for Axoloti. If you dont know how things should be build with "real world math" its even harder to make it in Axo world, because of all the bit shifting.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-10-10T19:38:54Z' itemprop='datePublished'>
             2018-10-10 19:38:54 UTC
           </time>
        </span>
        <span itemprop='position'>#21</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="13" data-topic="5028"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/community.axoloti.com/smashedtransistors/40/3147_1.html" class="avatar">SmashedTransistors:</div>
<blockquote>
<p>float inf1 = arm::q_to_float(inlet_i1, 21);<br>float inf2 = arm::q_to_float(inlet_i2, 21);<br>float test = powf(inf1, inf2);</p>
<p>outlet_k = (int32_t)(test * (1&lt;&lt;21));</p>
</blockquote></aside>

<p>Yay, I had time to try it out, it works. so now I just gotta build the rest of the structure to see if it works as supposed <img src="../../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(More) Math help needed!'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../../index.html'>Home</a>
        <a href="../../../categories.html">Categories</a>
        <a href="../../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../../tos.html">Terms of Service</a>
        <a href="../../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/more-math-help-needed/5028/17 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 17:17:50 GMT -->
</html>
