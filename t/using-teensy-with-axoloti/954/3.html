<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/using-teensy-with-axoloti/954/3 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:14:12 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Using Teensy with Axoloti - Hardware - Axoloti Community</title>
    <meta name="description" content="In my search for the nicest, most flexible way to add extra buttons and knobs I&amp;#39;m wondering where Teensy can fit in. I envisage connect extra controllers to the Teensy and somehow sending them over Midi to the Axo. Is it&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="../954.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Using Teensy with Axoloti&#39;" href="../954.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/user_avatar/community.axoloti.com/janvantomme/200/10_1.png" />
<meta property="og:image" content="http://community.axoloti.com/user_avatar/community.axoloti.com/janvantomme/200/10_1.png" />
<meta property="og:url" content="http://community.axoloti.com/t/using-teensy-with-axoloti/954/3" />
<meta name="twitter:url" content="http://community.axoloti.com/t/using-teensy-with-axoloti/954/3" />
<meta property="og:title" content="Using Teensy with Axoloti" />
<meta name="twitter:title" content="Using Teensy with Axoloti" />
<meta property="og:description" content="How many buttons and knobs do you want to add? You can connect up to 16 with the available ports. If you really need more, you can use a 4051 chip. Sending MIDI to the Axoloti is best done via USB, or the oldskool DIN MIDI ports." />
<meta name="twitter:description" content="How many buttons and knobs do you want to add? You can connect up to 16 with the available ports. If you really need more, you can use a 4051 chip. Sending MIDI to the Axoloti is best done via USB, or the oldskool DIN MIDI ports." />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html"><img src="../../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="../954.html">Using Teensy with Axoloti</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../../c/hardware.html" itemprop="url">
        <span itemprop="title">Hardware</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/mongrol.html'><b itemprop='author'>mongrol</b></a>
           
           <time datetime='2016-01-27T11:47:33Z' itemprop='datePublished'>
             2016-01-27 11:47:33 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>In my search for the nicest, most flexible way to add extra buttons and knobs I'm wondering where Teensy can fit in. I envisage connect extra controllers to the Teensy and somehow sending them over Midi to the Axo. Is it possible to input Midi to Axo without using USB? I'd rather keep everything internal to my box and leave the USB free for proper controllers.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Using Teensy with Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/gloom_and_glare.html'><b itemprop='author'>gloom_and_glare</b></a>
           
           <time datetime='2016-01-27T15:55:40Z' itemprop='datePublished'>
             2016-01-27 15:55:40 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="onebox githubblob">
  <header class="source">
    <a href="https://github.com/axoloti/axoloti/blob/master/firmware/serial_midi.c">
      
      github.com
    </a>
  </header>
  <article class="onebox-body">
    <h4><a href="https://github.com/axoloti/axoloti/blob/master/firmware/serial_midi.c" target="_blank">axoloti/axoloti/blob/master/firmware/serial_midi.c</a></h4>
<pre><code class="lang-c">/**
 * Copyright (C) 2013, 2014 Johannes Taelman
 *
 * This file is part of Axoloti.
 *
 * Axoloti is free software: you can redistribute it and/or modify it under the
 * terms of the GNU General Public License as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option) any later
 * version.
 *
 * Axoloti is distributed in the hope that it will be useful, but WITHOUT ANY
 * WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR
 * A PARTICULAR PURPOSE. See the GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License along with
 * Axoloti. If not, see &lt;http://www.gnu.org/licenses/&gt;.
 */
#include "ch.h"
#include "hal.h"
#include "axoloti_board.h"
</code></pre>

  This file has been truncated. <a href="https://github.com/axoloti/axoloti/blob/master/firmware/serial_midi.c" target="_blank">show original</a>

  </article>
  <div style="clear: both"></div>
</aside>


<p>?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Using Teensy with Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/janvantomme.html'><b itemprop='author'>janvantomme</b></a>
           
           <time datetime='2016-01-27T23:21:40Z' itemprop='datePublished'>
             2016-01-27 23:21:40 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>How many buttons and knobs do you want to add? You can connect up to 16 with the available ports. If you really need more, you can use a 4051 chip. Sending MIDI to the Axoloti is best done via USB, or the oldskool DIN MIDI ports.</p>

<aside class="quote" data-post="1" data-topic="133">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../../user_avatar/community.axoloti.com/paul/40/53_1.html" class="avatar">
    <a href="../../gpio-i-o-example-4051-de-multiplexer-reads-8-analog-sources/133.html">[GPIO I/O] Example 4051 de/multiplexer reads 8 analog sources</a> <a class="badge-wrapper  bullet" href="../../../c/patching.html"><span class="badge-category-bg" style="background-color: #AB9364;"></span><span style="color: #FFFFFF;" data-drop-close="true" class="badge-category clear-badge" title="This category is for discussion about patching Axoloti, and sharing patches.">Patching</span></a>
  </div>
  <blockquote>Hi everyone, 

here is a short example for a 4051 de/multiplexer. The 4051 can be used for extra 8 analog outputs or inputs. The Y0-7 pins are choosen by HIGH/LOW state of the S0-2 pins. It's not the fastest way to expand the analog input or output, but the IC are very cheap and I own a lot of them [sweat_smile]  It's good thing to decouple the analog inputs and VCC with a 100n capacitor. A MCP3008 or MCP3208 SPI is much faster and has an input protection build in. An examples for this IC will bâ€¦
    <div class="topic-info">
    </div>
  </blockquote>
</aside>

      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Using Teensy with Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/mongrol.html'><b itemprop='author'>mongrol</b></a>
           
           <time datetime='2016-01-27T23:58:52Z' itemprop='datePublished'>
             2016-01-27 23:58:52 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>My design has me a tad over what's available. I'd like to add a mod matrix like the microbrute so I can route env and lfo's to different destinations. Either via buttons or banana plugs. So 8 extra would do it. Probably the 4051 route would be easier than coding on another platform.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Using Teensy with Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/mongrol.html'><b itemprop='author'>mongrol</b></a>
           
           <time datetime='2016-01-28T00:30:16Z' itemprop='datePublished'>
             2016-01-28 00:30:16 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This looks good. Talks over i2c so I assume would need an Axo object written for it. Should be too hard and would look great. Like a mini Matrixbrute <img src="../../../images/emoji/emoji_one/smilea4f0.png?v=0" title=":smile:" class="emoji" alt=":smile:"></p>

<p><a href="https://learn.adafruit.com/adafruit-trellis-diy-open-source-led-keypad/overview" class="onebox" target="_blank" rel="nofollow">https://learn.adafruit.com/adafruit-trellis-diy-open-source-led-keypad/overview</a></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Using Teensy with Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/mongrol.html'><b itemprop='author'>mongrol</b></a>
           
           <time datetime='2016-02-04T12:41:29Z' itemprop='datePublished'>
             2016-02-04 12:41:29 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Back on the serial midi topic again. There is a serial object that sets the baudrate and enables the port on PA2&amp;3. All good. But if I'm talking midi how do I use the midi/in objects with this? The only devices available are the DIN/Internal/USB. I don't see any objects that actually operate over serial other than the one that enables the port.</p>

<p>Edit: Just looking at the board I see headers available behind the DIN sockets. Win! I just need to knock up a little teensy midi breadboard with DIN in/out on it and join them together.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Using Teensy with Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/gloom_and_glare.html'><b itemprop='author'>gloom_and_glare</b></a>
           
           <time datetime='2016-02-04T15:33:07Z' itemprop='datePublished'>
             2016-02-04 15:33:07 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I rarely ever use MIDI, so I haven't tried this myself. But yeah, the midi serial stuff seems to default to the UART available via the DIN connectors resp. on JP2/3, that is PG9, PG14 (assuming BOARD_AXOLOTI_V05 is the latest revision)</p>

<p>To use PA2/PA3, you'd have to edit serial_midi_init(void), I suppose</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Using Teensy with Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/igor.html'><b itemprop='author'>igor</b></a>
           
           <time datetime='2016-03-10T20:23:55Z' itemprop='datePublished'>
             2016-03-10 20:23:55 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi to all! Bumping old thread <img src="../../../images/emoji/emoji_one/smilea4f0.png?v=0" title=":smile:" class="emoji" alt=":smile:"></p>

<p>Would it be possible to access remote control stream using UART (instead of USB)? Or to change the code so that everything that goes to/from USB also goes to UART? I'd like to make hardware remote (same as the software one) but don't know how to access the control data stream.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Using Teensy with Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/mongrol.html'><b itemprop='author'>mongrol</b></a>
           
           <time datetime='2016-03-11T00:49:31Z' itemprop='datePublished'>
             2016-03-11 00:49:31 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What do you mean control data stream?</p>

<p>I'm using a Teensy to control the Axoloti via serial Midi. There's a header behind the MidiIN socket you can attach the Teensy UART to then using the Arduino MIDI library you throw Midi-CC's or Notes at it. Works very well.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Using Teensy with Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/igor.html'><b itemprop='author'>igor</b></a>
           
           <time datetime='2016-03-11T08:30:31Z' itemprop='datePublished'>
             2016-03-11 08:30:31 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm aware of that but I need MIDI for other things (foot controller). I was thinking about the data stream used for remote control in Axoloti application.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Using Teensy with Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-03-11T10:01:17Z' itemprop='datePublished'>
             2016-03-11 10:01:17 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="8" data-topic="954"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/community.axoloti.com/igor/40/1448_1.png" class="avatar">igor:</div>
<blockquote><p>Or to change the code so that everything that goes to/from USB also goes to UART</p></blockquote></aside>

<p>more likely could be added as an extra midi target.<br>(also if your interested in parameters this can already be done, see my Push example in the Community library)</p>

<p>which pins do you want to go via? as <a class="mention" href="../../../users/gloom_and_glare.html">@gloom_and_glare</a> pointed out, perhaps have a look at the existing serial midi implementation.</p>

<p>another possibility if your not up to extending the firmware, is to use MIDI DIN, they are completely separate from USB midi.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Using Teensy with Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-03-11T12:01:24Z' itemprop='datePublished'>
             2016-03-11 12:01:24 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="10" data-topic="954"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/community.axoloti.com/igor/40/1448_1.png" class="avatar">igor:</div>
<blockquote><p>I was thinking about the data stream used for remote control in Axoloti application.</p></blockquote></aside>

<p>For that approach you'd need to hack into the firmware. The actual screen bitmap rendering and interaction is managed in the axoloti firmware so far, you could hook into that. The data stream is available on SPI3 (X3 header connector), code axoloti_control.c:do_axoloti_control<br>Documenting all the bits 'd take time away from actual development, and is likely subject to change...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Using Teensy with Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/igor.html'><b itemprop='author'>igor</b></a>
           
           <time datetime='2016-03-11T13:24:23Z' itemprop='datePublished'>
             2016-03-11 13:24:23 UTC
           </time>
        </span>
        <span itemprop='position'>#13</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="12" data-topic="954"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/community.axoloti.com/johannes/40/8_1.html" class="avatar">johannes:</div>
<blockquote><p>The actual screen bitmap rendering and interaction is managed in the axoloti firmware so far, you could hook into that. The data stream is available on SPI3 (X3 header connector), code axoloti_control.c:do_axoloti_control</p></blockquote></aside>

<p>That's exactly what I need. Documentation shouldn't be problem since I know a bit about ChibiOS and STM32 but I wasn't sure just where to start (just got my Axoloti yesterday). Thanks!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Using Teensy with Axoloti'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../../index.html'>Home</a>
        <a href="../../../categories.html">Categories</a>
        <a href="../../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../../tos.html">Terms of Service</a>
        <a href="../../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/using-teensy-with-axoloti/954/3 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:14:15 GMT -->
</html>
