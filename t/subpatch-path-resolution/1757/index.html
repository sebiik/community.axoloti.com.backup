<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Subpatch path resolution - Software - Axoloti Community</title>
    <meta name="description" content="When a subpatch is being inserted in a patch, its relative path is only correctly established and saved in the main patch if the subpatch was in the same branch as the main patch. 

If the subpatch is taken from a differ&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.6.0.beta7 - https://github.com/discourse/discourse version c671b129ab43c8e6462795034a39af9a81214b09">
<link rel="icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="/images/default-apple-touch-icon.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="https://sebiik.github.io/community.axoloti.com.backup/t/subpatch-path-resolution/1757" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://sebiik.github.io/community.axoloti.com.backup/opensearch.xml">

      
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
  ga('send', 'pageview');

</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Subpatch path resolution&#39;" href="https://sebiik.github.io/community.axoloti.com.backup/t/subpatch-path-resolution/1757.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta property="og:url" content="http://community.axoloti.com/t/subpatch-path-resolution/1757" />
<meta name="twitter:url" content="http://community.axoloti.com/t/subpatch-path-resolution/1757" />
<meta property="og:title" content="Subpatch path resolution" />
<meta name="twitter:title" content="Subpatch path resolution" />
<meta property="og:description" content="When a subpatch is being inserted in a patch, its relative path is only correctly established and saved in the main patch if the subpatch was in the same branch as the main patch.   If the subpatch is taken from a different branch than the main patch is saved in, the subpatch appears as a zombie when the patch is reloaded.   The upshot of this is that subpatches can&#39;t be used like library objects, which to my understanding is part of the point of having them. They will have to be copied to the s..." />
<meta name="twitter:description" content="When a subpatch is being inserted in a patch, its relative path is only correctly established and saved in the main patch if the subpatch was in the same branch as the main patch.   If the subpatch is taken from a different branch than the main patch is saved in, the subpatch appears as a zombie when the patch is reloaded.   The upshot of this is that subpatches can&#39;t be used like library objects, which to my understanding is part of the point of having them. They will have to be copied to the s..." />

    <style>
      header img {
        max-width: 90% !important;
        padding-bottom: 10px;
      }

      img { max-width: 100%; width: auto; height: auto; }

      #main-outlet > div {
        margin-bottom: 15px;
      }

      footer nav a {
        margin-right: 15px;
      }

      footer nav {
        line-height: 30px;
      }

      body {
        max-width: 98%;
        padding-left: 1%;
      }
      .topic-list > div > a {
        margin-right: 10px;
      }
      .topic-list > div .posts {
          margin-left: 10px;
      }
      .topic-list > div {
        margin-bottom: 15px;
      }

    </style>
  </head>
  <body>
      
    <header>
      <a href="/"><img src="/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 400px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="/t/subpatch-path-resolution/1757">Subpatch path resolution</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="/c/software" itemprop="url">
        <span itemprop="title">Software</span>
      </a>
    </div>
</div>




<hr>


  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/DrJustice'><b itemprop='author'>DrJustice</b></a>
           
           <time datetime='2016-05-26T10:36:05Z' itemprop='datePublished'>
             2016-05-26 10:36:05 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>When a subpatch is being inserted in a patch, its relative path is only correctly established and saved in the main patch if the subpatch was in the same branch as the main patch.</p>

<p>If the subpatch is taken from a different branch than the main patch is saved in, the subpatch appears as a zombie when the patch is reloaded.</p>

<p>The upshot of this is that subpatches can't be used like library objects, which to my understanding is part of the point of having them. They will have to be copied to the same branch as the main patch. Thus it's not possible to use subpatches that are maintained in a central location, such as in the axoloti-contrib or axoloti-factory (library) branches.</p>

<p>Being able to use subpatches from the local or git libraries, or any folder of the users choosing, would surely be a good thing. In my view, and that of a fellow user I've discussed this with, this would be essential an intuitive.</p>

<p>Why has the current mechanism been chosen, and would the developers consider inserting the relative path in the patch files in all cases?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/johannes'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-05-26T11:37:25Z' itemprop='datePublished'>
             2016-05-26 11:37:25 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sorry. I took notice of your previous post about it, but haven't found time to look in depth yet. I certainly plan to diagnose/address this soon!<br>Not being able to use subpatches from libraries: when saved as a subpatch file and present in an object library they're not referenced by relative path (well only relative to the object library root), making it relative to the patch itself would prevent moving the patch to another folder.<br>What OS are you using? It may also be related to the mechanism resolving a relative path from two files.<br>Keep in mind my answer here is before looking in-depth...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-05-26T11:57:44Z' itemprop='datePublished'>
             2016-05-26 11:57:44 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>yeah, the relative to patch needs to be reviewed.<br>I suspect it may be related to an area that has a workaround on it (but may not be)</p>

<p>the subpatch loading uses a full path name, which is then matched to a library by looking at the libraries path.<br>this really is a workaround, to avoid having to rewrite the object matching logic,which before was based on a single path.</p>

<p>what really we need to do, is to know which library an subpatch was originally loaded from, and then load it from there. path should be irrelevant.</p>

<p>objects do not suffer from this for 2 reasons, a) they have a UUID (we could add this to subpatches!) b) objects are all loaded/resolved at startup.   (this is probably going to have to change in the future as the object library grows, but that needs a rewrite of not only loading but also the browser)</p>

<p>I do wonder if subpatches that are placed in a library (using 'add to library'), should be treated differently to relative subpatches... i.e. get a uuid, and make them more like proper objects. Its certainly true that subpatches in a library we want to behave as if they were objects (as much as possible)</p>

<p>(think obsolete objects, and that we might end up with obsolete subpatches!)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/DrJustice'><b itemprop='author'>DrJustice</b></a>
           
           <time datetime='2016-05-26T13:12:45Z' itemprop='datePublished'>
             2016-05-26 13:12:45 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sorry, forgot to mention the platform:  Axoloti 1.0.10 on Windows 7 64 bit.</p>

<p>This issue hit me when I went from object-developer mode to end-user mode, as in actually starting to build my "real" patches. If not exactly a show stopper when in end-user mode, I either have to keep copying updated subpatches to my project folders or re insert, embed and reconnect them, which is a bit of an inconvenience.</p>

<p>As tb mentions, perhaps it's an idea to use an UUID binding for subpatches residing in libraries, and the relative path if the subpatch was not inserted from any of the registered libraries. That would cover most use cases fairly solidly, I'd think.</p>

<p>I appreciate that you'll look into it <img src="/images/emoji/emoji_one/slight_smile.png?v=2" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>

<p>Edit: perhaps it's best to delete the "residual" thread "Subpatch loading issue" in the Helpdesk forum.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='/'>Home</a>
        <a href="/categories">Categories</a>
        <a href="/guidelines">FAQ/Guidelines</a>
        <a href="/tos">Terms of Service</a>
        <a href="/privacy">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="http://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
      
  </body>
</html>
