<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/storing-data-in-flash/614 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 17:08:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Storing data in flash - Software - Axoloti Community</title>
    <meta name="description" content="How can i store data in flash memory? I would like to store some (small) data in between runs (like parameter data entered via potmeters and such) i found:  int flash_ProgramWord(uint32_t Address, uint32_t Data) I guess &amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="614.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Storing data in flash&#39;" href="614.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/storing-data-in-flash/614" />
<meta name="twitter:url" content="http://community.axoloti.com/t/storing-data-in-flash/614" />
<meta property="og:title" content="Storing data in flash" />
<meta name="twitter:title" content="Storing data in flash" />
<meta property="og:description" content="How can i store data in flash memory? I would like to store some (small) data in between runs (like parameter data entered via potmeters and such) i found:  int flash_ProgramWord(uint32_t Address, uint32_t Data) I guess that&#39;s what I need, the only question is what address to use..." />
<meta name="twitter:description" content="How can i store data in flash memory? I would like to store some (small) data in between runs (like parameter data entered via potmeters and such) i found:  int flash_ProgramWord(uint32_t Address, uint32_t Data) I guess that&#39;s what I need, the only question is what address to use..." />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="614.html">Storing data in flash</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/software.html" itemprop="url">
        <span itemprop="title">Software</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/fokke.html'><b itemprop='author'>fokke</b></a>
           
           <time datetime='2015-11-04T15:29:41Z' itemprop='datePublished'>
             2015-11-04 15:29:41 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>How can i store data in flash memory?<br>I would like to store some (small) data in between runs (like parameter data entered via potmeters and such)<br>i found:<br> int flash_ProgramWord(uint32_t Address, uint32_t Data)<br>I guess that's what I need, the only question is what address to use...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Storing data in flash'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2015-11-05T12:24:13Z' itemprop='datePublished'>
             2015-11-05 12:24:13 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I believe Sector 10 - 0x080C0000 - 0x080DFFFF (128 Kbytes) is still free.<br>Be sure to erase it first (only whole sectors can be erased).<br>Also, the number of flash program/erase cycles is limited. Not an issue if you use it infrequently, but for frequent writing a "virtual eeprom" scheme is interesting.</p>

<blockquote><p>Successive write operations are possible without the need of an erase operation when changing bits from ‘1’ to ‘0’. Writing ‘1’ requires a Flash memory erase operation.</p></blockquote>

<p>So the first words can be used to indicate the current location of user data. When new data needs to be written, the actual location can be incremented, and an additional zero written to the first words, avoiding frequent sector erases.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Storing data in flash'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/fokke.html'><b itemprop='author'>fokke</b></a>
           
           <time datetime='2015-11-06T09:11:14Z' itemprop='datePublished'>
             2015-11-06 09:11:14 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../users/johannes.html">@johannes</a>,</p>

<p>Thanks I will have a look. Maybe it would be best to create an object that could be shared between patches to avoid having different objects overwriting each others data. I'm not sure how the interface for this would look though.</p>

<p>Do you have any idea how many write/erase cycles we can expect from the flash?<br>Perhaps storing the data on sdcard would be better, even though that probably has the same problem, at least it can be swapped out for another card.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Storing data in flash'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2015-11-06T11:59:40Z' itemprop='datePublished'>
             2015-11-06 11:59:40 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="3" data-topic="614"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../avatars.discourse.org/letter/f/e9a140/40.html" class="avatar">fokke:</div>
<blockquote><p>Do you have any idea how many write/erase cycles we can expect from the flash?</p></blockquote></aside>

<p>10.000 cycles at TA = –40 to +85 °C</p>

<p>SDCard will have a similar problem. SDCards can do wear leveling, still I do not expect much better results. Typical sdcard applications do not require over 1000 erase cycles. </p>

<p>Still, I'd recommend storing patch data on sdcard, to avoid interference between patches.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Storing data in flash'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/storing-data-in-flash/614 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 17:08:23 GMT -->
</html>
