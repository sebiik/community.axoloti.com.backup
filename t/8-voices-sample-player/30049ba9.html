<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/8-voices-sample-player/3004?page=3 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 17:21:07 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>8 voices Sample Player - Patching - Axoloti Community</title>
    <meta name="description" content="Hello, 

This is my first patch, I&amp;#39;m trying to make a 8 voice sample player, no sampling capability needed, I just want to be able to select different samples, like an old school hardware machine. Also I will be using on&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="30049ba9.html?page=3" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;8 voices Sample Player&#39;" href="3004.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/8-voices-sample-player/3004?page=3" />
<meta name="twitter:url" content="http://community.axoloti.com/t/8-voices-sample-player/3004?page=3" />
<meta property="og:title" content="8 voices Sample Player" />
<meta name="twitter:title" content="8 voices Sample Player" />
<meta property="og:description" content="thank you so much! It is way more understandable for me now! Env is perfect for VCA, it is just that it was not working right outside the subpatch and it was cutting the sound very short. I added the HQ filter inside the subpatch and the 12bit quantizer and the mutable chorus in the main and it is perfect!!! What&#39;s the difference between the HQ and normal filter?    It sounds super nice! 😍 sampleUPDTE.axp (8.3 KB)" />
<meta name="twitter:description" content="thank you so much! It is way more understandable for me now! Env is perfect for VCA, it is just that it was not working right outside the subpatch and it was cutting the sound very short. I added the HQ filter inside the subpatch and the 12bit quantizer and the mutable chorus in the main and it is perfect!!! What&#39;s the difference between the HQ and normal filter?    It sounds super nice! 😍 sampleUPDTE.axp (8.3 KB)" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="13 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ❤" />

      <link rel="prev" href="30044658.html?page=2">

  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="3004.html">8 voices Sample Player</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/patching.html" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/krikor.html'><b itemprop='author'>krikor</b></a>
           
           <time datetime='2017-03-22T16:20:01Z' itemprop='datePublished'>
             2017-03-22 16:20:01 UTC
           </time>
        </span>
        <span itemprop='position'>#41</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thank you so much!<br>It is way more understandable for me now!<br>Env is perfect for VCA, it is just that it was not working right outside the subpatch and it was cutting the sound very short.<br>I added the HQ filter inside the subpatch and the 12bit quantizer and the mutable chorus in the main and it is perfect!!!<br>What's the difference between the HQ and normal filter? </p>

<p>It sounds super nice!<br><img src="../../images/emoji/emoji_one/heart_eyes30f4.png?v=3" title=":heart_eyes:" class="emoji" alt=":heart_eyes:"><br><a class="attachment" href="../../uploads/default/original/2X/4/sampleUPDTE.axp">sampleUPDTE.axp</a> (8.3 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='8 voices Sample Player'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/krikor.html'><b itemprop='author'>krikor</b></a>
           
           <time datetime='2017-03-25T15:57:26Z' itemprop='datePublished'>
             2017-03-25 15:57:26 UTC
           </time>
        </span>
        <span itemprop='position'>#42</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>hello <a class="mention" href="../../users/thetechnobear.html">@thetechnobear</a> I encounter a weird behavior, when i load a sample in the table it sometimes plays the one previously loaded in the table when the currently loaded one reaches its end. the part of the sample seems be shorter at each stroke.</p>

<p><a class="attachment" href="../../uploads/default/original/2X/4/sampleur2.axp">sampleur2.axp</a> (8.0 KB)</p>

<p><a href="https://www.dropbox.com/s/2ph770z8vgpl0bv/tablebug.mp3?dl=0" rel="nofollow noopener">mp3</a></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='8 voices Sample Player'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/krikor.html'><b itemprop='author'>krikor</b></a>
           
           <time datetime='2017-03-25T19:08:02Z' itemprop='datePublished'>
             2017-03-25 19:08:02 UTC
           </time>
        </span>
        <span itemprop='position'>#43</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Could this be linked to the way things are positioned and therefor computing order?<br>it was like this</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/a06e7912e9c74dc5b97f85ba15ca164789b62142" href="../../uploads/default/original/2X/a/a06e7912e9c74dc5b97f85ba15ca164789b62142.png" class="lightbox" title="Capture d’écran 2017-03-25 à 20.06.01.png"><img src="../../uploads/default/optimized/2X/a/a06e7912e9c74dc5b97f85ba15ca164789b62142_1_690x421.png" width="690" height="421"><div class="meta">
<span class="filename">Capture d’écran 2017-03-25 à 20.06.01.png</span><span class="informations">939x573 55.1 KB</span><span class="expand"></span>
</div></a></div></p>

<p>Should it be more like this?</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/60cf5e7e10cecea24e9fbde4100db4db26618db6" href="../../uploads/default/original/2X/6/60cf5e7e10cecea24e9fbde4100db4db26618db6.png" class="lightbox" title="Capture d’écran 2017-03-25 à 20.07.03.png"><img src="../../uploads/default/optimized/2X/6/60cf5e7e10cecea24e9fbde4100db4db26618db6_1_689x259.png" width="689" height="259"><div class="meta">
<span class="filename">Capture d’écran 2017-03-25 à 20.07.03.png</span><span class="informations">1209x455 55.1 KB</span><span class="expand"></span>
</div></a></div></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='8 voices Sample Player'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/krikor.html'><b itemprop='author'>krikor</b></a>
           
           <time datetime='2017-05-01T17:06:24Z' itemprop='datePublished'>
             2017-05-01 17:06:24 UTC
           </time>
        </span>
        <span itemprop='position'>#44</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>regarding the problem when loading a new sample, anyone knows if there's a way to "flush" the buffer before doing it?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='8 voices Sample Player'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2017-05-02T07:09:04Z' itemprop='datePublished'>
             2017-05-02 07:09:04 UTC
           </time>
        </span>
        <span itemprop='position'>#45</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="44" data-topic="3004"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v2/letter/k/e9bcb4/40.html" class="avatar">krikor:</div>
<blockquote><p>if there's a way to "flush" the buffer before doing it?</p></blockquote></aside>

<p>Very interested in that too. Following.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='8 voices Sample Player'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2017-05-02T10:08:26Z' itemprop='datePublished'>
             2017-05-02 10:08:26 UTC
           </time>
        </span>
        <span itemprop='position'>#46</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../users/krikor.html">@krikor</a> sorry, not had time to look at this... since to give you a proper answer would require me to decipher you patch.</p>

<aside class="quote" data-post="42" data-topic="3004"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v2/letter/k/e9bcb4/40.html" class="avatar">krikor:</div>
<blockquote><p>when i load a sample in the table it sometimes plays the one previously loaded in the table when the currently loaded one reaches its end</p></blockquote></aside>

<p>this could be execution order, but if you are using table/load (or using an object which uses the same logic) it could also be down to the fact that the load is done asynchronously with respect to the audio thread. this is because its a very big no no to do IO (e.g. access sdcard) in the audio thread, as it can block it and cause audio glitches.<br>so what could be happening is your asking it to be loaded, and then triggering the sample before it has completed loading.<br>Ive been meaning to add a 'loaded' output on the table/load so patches know when its fully loaded.</p>

<p>practically (as in its not theoretically correct, but should work), you can workaround this by using two tables, that you alternate between i.e. you load into one, whilst doing playback on the other, and then switch this around. (often referred to as double buffering)  you'll have to use a 'guestimate' delay to decide when to switch buffers, due to the table/load not telling you when loading is complete.</p>

<p>it would actually be quite trivial to create a new object which does this 'behind the scenes' if you know c++.</p>

<p>what do you mean by flush? you mean set all samples to zero?<br>this is trivial to do, but its probably not the right solution, as it wastes cpu cycles.<br>I assume your use cases are</p>

<p>a) to have an empty buffer... but in this case, you just need to know the buffer should be empty, and not play it</p>

<p>b) because the new sample is shorter than the old sample<br>I guess this is the main case... <br>again, set the whole buffer to zero before hand is wasteful, there are two solutions to this<br>after the load, we could set the remaining bytes of the table to zero...  (so less bytes that doing entire buffer), but better still would be to report the end position after table/load such that when you playback a sample, you don't ever playback past the endpoint (this saves even more cpu cycles)</p>

<p>ive actually been meaning to add the 'end position' to table/load as well, but again, not been a pressing priority for me, so not got around to it. (honestly, i don't do much sample playback)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='8 voices Sample Player'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/krikor.html'><b itemprop='author'>krikor</b></a>
           
           <time datetime='2017-05-02T11:02:27Z' itemprop='datePublished'>
             2017-05-02 11:02:27 UTC
           </time>
        </span>
        <span itemprop='position'>#47</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thanks.<br>The end position function would the best indeed! <br>A workaround for me will be to add some silence after the audio in each sample, which would be like setting the remaining bytes or part of the remaining bytes of the table to zero.<br>The double buffer would add some ram/cpu usage, as I'm trying to save some to add effects to the chain, the sample modification with silence still seems a better option.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='8 voices Sample Player'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2017-05-02T11:16:34Z' itemprop='datePublished'>
             2017-05-02 11:16:34 UTC
           </time>
        </span>
        <span itemprop='position'>#48</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Silence won't help you on the table load not being completed in time. </p>

<p>Memory should not be an issue if you are using sdram ( unless your doing really long samples/delay lines) , double buffering will not increase CPU usage. </p>

<p>Another , even simpler alternative, is to use a mux which is routing silence on one inlet, and whilst you 'think' loading is taking place , switch to silence. </p>

<p>The thing is with audio programming, particularly with limited resources, the most obvious solution is not always the best - unlike programming on , say, a PC you can't afford to squander CPU cycles.  </p>

<p>( that said memset won't cost much , though it makes the object operate in non linear time , which again is against audio programming discipline)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='8 voices Sample Player'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/krikor.html'><b itemprop='author'>krikor</b></a>
           
           <time datetime='2017-10-04T16:51:55Z' itemprop='datePublished'>
             2017-10-04 16:51:55 UTC
           </time>
        </span>
        <span itemprop='position'>#49</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello,<br>I've been away from my Axolotl for a few month and I'm back at it.<br>I'm gonna try to do the double buffer thing, but I'm a bit unsure, should I make two tableplay or should I go for something that will string which buffer table to use in a tableplay (is this possible actually?)<br>best<br>K</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='8 voices Sample Player'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2017-10-04T17:29:56Z' itemprop='datePublished'>
             2017-10-04 17:29:56 UTC
           </time>
        </span>
        <span itemprop='position'>#50</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>actually I just rechecked this, table/load is doing the load synchronously in the audio thread... I got this wrong, as this is pretty much a no-no - so I'm really surprised its been done like this (and I know other code is doing this kind of activity in a separate thread!) ... its bound to cause audio glitches if you start loading large samples, or your patch is cpu intensive.<br>this also means double buffering wont help, since the load is already stalling the audio thread, and therefore also the table/play</p>

<p>as for your glitch, yeah ideally, you should create samples the 'right' size, and then put silence on the end, at least till this gets revisited, and somewhere the length is known, so table/play can stop when it gets to the end.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='8 voices Sample Player'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/krikor.html'><b itemprop='author'>krikor</b></a>
           
           <time datetime='2017-10-04T17:46:57Z' itemprop='datePublished'>
             2017-10-04 17:46:57 UTC
           </time>
        </span>
        <span itemprop='position'>#51</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ok. I already did, with 2 seconds it helps sometimes. The glitch is quite weird, like some ghost patch playing on note release, it actually makes sometimes nice things <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='8 voices Sample Player'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/rbrt.html'><b itemprop='author'>rbrt</b></a>
           
           <time datetime='2017-10-04T21:23:05Z' itemprop='datePublished'>
             2017-10-04 21:23:05 UTC
           </time>
        </span>
        <span itemprop='position'>#52</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="50" data-topic="3004"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/thetechnobear/40/6_1.html" class="avatar">thetechnobear:</div>
<blockquote><p>table/load is doing the load synchronously in the audio thread... I got this wrong, as this is pretty much a no-no - so I'm really surprised its been done like this (and I know other code is doing this kind of activity in a separate thread!)</p></blockquote></aside>

<p>hey,how could table/load be done in a different thread?<br>I'm looking for a solution for this since quite some time,but it definitely exceeds my coding skills <img src="../../images/emoji/twitter/expressionlessae52.png?v=5" title=":expressionless:" class="emoji" alt=":expressionless:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='8 voices Sample Player'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/krikor.html'><b itemprop='author'>krikor</b></a>
           
           <time datetime='2017-10-05T21:12:15Z' itemprop='datePublished'>
             2017-10-05 21:12:15 UTC
           </time>
        </span>
        <span itemprop='position'>#53</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm trying to add some reverb presets loading with each sound (different preset for each sound).<br>I'm using the fx/lmnts/reverb cause it sounds quite nice and all controls are assignable.<br>The idea would be to use the same program change to select presets of the 5 parameters.<br>I must say i really don't know which way to handle this</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='8 voices Sample Player'>
      <hr>
  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement'>
      <span itemprop='url'><a rel="prev" itemprop="name" href="30044658.html?page=2">← previous page</a></span>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/8-voices-sample-player/3004?page=3 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 17:21:07 GMT -->
</html>
