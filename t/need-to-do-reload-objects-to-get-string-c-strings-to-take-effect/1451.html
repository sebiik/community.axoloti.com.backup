<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/need-to-do-reload-objects-to-get-string-c-strings-to-take-effect/1451 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 Jul 2023 18:58:40 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Need to do Reload objects to get string/c strings to take effect - Patching - Axoloti Community</title>
    <meta name="description" content="I&amp;#39;m working with an LCD printout function, and I have my strings stored in the factory string/c objects, which have the actual string as an attribute. However, changing the string and clicking Live does not cause the act&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="1451.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Need to do Reload objects to get string/c strings to take effect&#39;" href="1451.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/need-to-do-reload-objects-to-get-string-c-strings-to-take-effect/1451" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/need-to-do-reload-objects-to-get-string-c-strings-to-take-effect/1451" />
<meta property="og:title" content="Need to do Reload objects to get string/c strings to take effect" />
<meta name="twitter:title" content="Need to do Reload objects to get string/c strings to take effect" />
<meta property="og:description" content="I&#39;m working with an LCD printout function, and I have my strings stored in the factory string/c objects, which have the actual string as an attribute. However, changing the string and clicking Live does not cause the actual string that is output to change. I need to do a Reload objects, and after that the string generated after clicking Live reflects the actual string entered. This does not seem correct to me, I would expect any attributes changed to be reflected next time Live is clicked.   I s..." />
<meta name="twitter:description" content="I&#39;m working with an LCD printout function, and I have my strings stored in the factory string/c objects, which have the actual string as an attribute. However, changing the string and clicking Live does not cause the actual string that is output to change. I need to do a Reload objects, and after that the string generated after clicking Live reflects the actual string entered. This does not seem correct to me, I would expect any attributes changed to be reflected next time Live is clicked.   I s..." />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="1451.html">Need to do Reload objects to get string/c strings to take effect</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/patching.html" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/ricard.html'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2016-04-05T20:10:10Z' itemprop='datePublished'>
             2016-04-05 20:10:10 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm working with an LCD printout function, and I have my strings stored in the factory string/c objects, which have the actual string as an attribute. However, changing the string and clicking Live does not cause the actual string that is output to change. I need to do a Reload objects, and after that the string generated after clicking Live reflects the actual string entered. This does not seem correct to me, I would expect any attributes changed to be reflected next time Live is clicked.</p>

<p>I should mention that I am using the development version (latest commit on 13/3).</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Need to do Reload objects to get string/c strings to take effect'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-04-05T21:35:31Z' itemprop='datePublished'>
             2016-04-05 21:35:31 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I can't reproduce this, could you check with this patch?<br><a class="attachment" href="../../uploads/default/original/2X/3/string-attr-test.axp">string-attr-test.axp</a> (1.8 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Need to do Reload objects to get string/c strings to take effect'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/ricard.html'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2016-04-05T22:02:16Z' itemprop='datePublished'>
             2016-04-05 22:02:16 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yes, it's the same, but it seems more complex than I initially thought.</p>

<p>If I open the patch, click live, verify that I get Hello world in the log window, then unclick Live, edit the string, click Live again, I still get Hello world. If I however unclick live and then click it again, I get the new string.</p>

<p>(I should mention that currently I'm running my P6 fork, I should really verify this on the Axoloti Core, so it's not a question of "this change should not affect that", but I do notice that even after changing the string and clicking live, xpatch.cpp still contains the old string, so it appears the problem is on the host side).</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Need to do Reload objects to get string/c strings to take effect'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-04-05T22:07:27Z' itemprop='datePublished'>
             2016-04-05 22:07:27 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Do you seen any java exceptions (launch Axoloti from a terminal)?<br>Are you sure it only fails to update the string, rather than the whole patch?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Need to do Reload objects to get string/c strings to take effect'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/ricard.html'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2016-04-05T22:34:28Z' itemprop='datePublished'>
             2016-04-05 22:34:28 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I can't see any java exceptions in the terminal or in the log window.</p>

<p>One thing I did notice though was this:</p>

<pre><code>...
INFO: Done compiling patch
Apr 06, 2016 12:24:50 AM qcmds.QCmdProcessor$4 run
INFO: Start uploading patch
Apr 06, 2016 12:24:50 AM axoloti.USBBulkConnection UploadFragment
INFO: block uploaded @ 0x20011000 length 3272
Apr 06, 2016 12:24:50 AM qcmds.QCmdProcessor$4 run
INFO: Done uploading patch
Apr 06, 2016 12:24:50 AM qcmds.QCmdProcessor$4 run
INFO: Starting patch...
Apr 06, 2016 12:24:50 AM qcmds.QCmdProcessor$4 run
INFO: Done starting patch
Apr 06, 2016 12:24:50 AM qcmds.QCmdProcessor$4 run
INFO: Start locking
Apr 06, 2016 12:24:50 AM qcmds.QCmdProcessor$4 run
INFO: Done locking
tablename change hello worldee
Apr 06, 2016 12:24:54 AM axoloti.USBBulkConnection processByte
INFO: Axoloti says: hello world
Apr 06, 2016 12:24:55 AM axoloti.USBBulkConnection processByte
INFO: Axoloti says: hello world
Apr 06, 2016 12:24:55 AM axoloti.USBBulkConnection processByte
INFO: Axoloti says: hello world</code></pre>

<p>Notice how it says 'tablename change hello worldee' (which is what I changed the name to, by just adding to e's at the end), after it has uploaded the patch (and that the Axoliti still reports the old name).</p>

<p>I can't be certain it's just the string that it fails to update, though I haven't noticed it when changing combo attributes or spinners.</p>

<p>Partly that's due to my development cycle: in order to be sure that a change I've done in the object editor actually takes effect, I do three things: a) click Save in the object editor, 2) click Reload objects, 3) Use Replace on the actual object (per someone's suggestion I have the original filename, say lcdctrl.axo, and an alternative, as a linke, say lcdctrl_.axo, and I swap between those to get the Patrcher to reload the source for the object). So I usually do click Reload objects as part of this cycle, unless I'm just changing the attributes, so I would seldom notice the problem.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Need to do Reload objects to get string/c strings to take effect'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-04-05T23:05:52Z' itemprop='datePublished'>
             2016-04-05 23:05:52 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You seem to be able to modify the string after starting the patch, normally starting the patch disables modification of (string) attributes. Live updating of strings is not supported.<br>Development cycle: if you use patch/object and use the built-in object editor, changes are propagated the next time you click live...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Need to do Reload objects to get string/c strings to take effect'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/ricard.html'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2016-04-06T04:42:09Z' itemprop='datePublished'>
             2016-04-06 04:42:09 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="6" data-topic="1451" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://sebiik.github.io/community.axoloti.com.backup/user_avatar/community.axoloti.com/johannes/40/8_1.png" class="avatar">johannes:</div>
<blockquote><p>You seem to be able to modify the string after starting the patch, normally starting the patch disables modification of (string) attributes. Live updating of strings is not supported.</p></blockquote></aside>

<p>No, I'm only modfying the strings when the patch is stopped. I agree that the log above makes it look otherwise, but I had completed my string edit by the time I started the patch.</p>

<p><aside class="quote"><blockquote><p>Development cycle: if you use patch/object and use the built-in object editor, changes are propagated the next time you click live...</p></blockquote></aside></p>

<p>I see. Seems very handy, yes, thanks!</p>

<p>I also learnt something else: I've missed some form of debugging printout functionality, thinking it perhaps must be done via a serial port (as I saw some reference to a debug port in the Axoloti firmware code), but now I see there's LogTextMessage() which outputs to the Axoloti Patcher log window.<br>.<br>Regarding patch/object: Is there some magic behind the scenes going on, because I can't see in the XML code what causes the edit button to appear (nor how to remove it once the object is finished and I want to turn it into an ordinary ("non-edit") object)?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Need to do Reload objects to get string/c strings to take effect'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-04-06T10:40:32Z' itemprop='datePublished'>
             2016-04-06 10:40:32 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="7" data-topic="1451"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://sebiik.github.io/community.axoloti.com.backup/user_avatar/community.axoloti.com/ricard/40/163_1.png" class="avatar">ricard:</div>
<blockquote><p>Regarding patch/object: Is there some magic behind the scenes going on, because I can't see in the XML code what causes the edit button to appear (nor how to remove it once the object is finished and I want to turn it into an ordinary ("non-edit") object)?</p></blockquote></aside>

<p>in the development branch, the object can be 'converted', by using the new 'add to library' option on the file menu.  (similarly objects can be converted to an embedded form, using the covert to embedded object option) </p>

<p>(yes, there is some specific support for patcher/object in the object editor)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Need to do Reload objects to get string/c strings to take effect'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/ricard.html'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2016-04-06T11:29:17Z' itemprop='datePublished'>
             2016-04-06 11:29:17 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="8" data-topic="1451" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://sebiik.github.io/community.axoloti.com.backup/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote>
<p>in the development branch, the object can be 'converted', by using the new 'add to library' option on the file menu.  (similarly objects can be converted to an embedded form, using the covert to embedded object option)</p>
<p>(yes, there is some specific support for patcher/object in the object editor)</p>
</blockquote></aside>

<p>Ah, so the Edit button in the UI of the object goes away when you do 'add to library'? And conversely comes back if you embed an object? Or does it (one or both) only happen if the object id is 'patcher/object'?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Need to do Reload objects to get string/c strings to take effect'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-04-06T11:47:00Z' itemprop='datePublished'>
             2016-04-06 11:47:00 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="9" data-topic="1451"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://sebiik.github.io/community.axoloti.com.backup/user_avatar/community.axoloti.com/ricard/40/163_1.png" class="avatar">ricard:</div>
<blockquote><p>Ah, so the Edit button in the UI of the object goes away when you do 'add to library'? And conversely comes back if you embed an object? </p></blockquote></aside>

<p>yes and yes ... thats exactly what happens. </p>

<p>(theres still some room for improvement still, but I think as a workflow it works reasonable well now)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Need to do Reload objects to get string/c strings to take effect'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/need-to-do-reload-objects-to-get-string-c-strings-to-take-effect/1451 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 Jul 2023 18:58:42 GMT -->
</html>
