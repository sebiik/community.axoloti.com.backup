<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/loop-sample-wave-play/2484/11 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 Jul 2023 18:57:16 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Loop sample wave/play - Patching - Axoloti Community</title>
    <meta name="description" content="Hello 

I have different loop samples (length 2 - 20sec, 48.000 Hz, 16bit raw, stereo) streaming with wave/play stereo objects. The start is triggered by an LFO. Even if I set the LFO rate to the exact length of the samp&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="../2484.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Loop sample wave/play&#39;" href="../2484.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/user_avatar/community.axoloti.com/akirasrebirth/200/2529_1.png" />
<meta property="og:image" content="http://community.axoloti.com/user_avatar/community.axoloti.com/akirasrebirth/200/2529_1.png" />
<meta property="og:url" content="http://community.axoloti.com/t/loop-sample-wave-play/2484/11" />
<meta name="twitter:url" content="http://community.axoloti.com/t/loop-sample-wave-play/2484/11" />
<meta property="og:title" content="Loop sample wave/play" />
<meta name="twitter:title" content="Loop sample wave/play" />
<meta property="og:description" content="Found this custom wave/play object on the forum from the user @constantin http://community.axoloti.com/t/looping-samples-via-play-fn/2202 It&#39;s almost working ... only a minimal glitch at the looping point... but is certainly more comfortable as trying to find the loop point with the LFO." />
<meta name="twitter:description" content="Found this custom wave/play object on the forum from the user @constantin http://community.axoloti.com/t/looping-samples-via-play-fn/2202 It&#39;s almost working ... only a minimal glitch at the looping point... but is certainly more comfortable as trying to find the loop point with the LFO." />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html"><img src="http://community.axoloti.com/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="../2484.html">Loop sample wave/play</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../../c/patching.html" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/akirasrebirth.html'><b itemprop='author'>akirasrebirth</b></a>
           
           <time datetime='2016-11-03T06:51:05Z' itemprop='datePublished'>
             2016-11-03 06:51:05 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello</p>

<p>I have different loop samples (length 2 - 20sec, 48.000 Hz, 16bit raw, stereo) streaming with wave/play stereo objects. The start is triggered by an LFO. Even if I set the LFO rate to the exact length of the sample there is always a short "click" at the looping point. The samples on the computer are looping fine. It's possible to avoid the "click"? Is the LFO the correct object to trigger the wave/play?</p>

<p>thanks <img src="http://community.axoloti.com/images/emoji/emoji_one/slight_smile.png?v=3" title=":slight_smile:" class="emoji" alt=":slight_smile:"> </p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/5885a0b786e18a4e7b29d5a9445ca43a5a0eeaa9" href="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/2X/5/5885a0b786e18a4e7b29d5a9445ca43a5a0eeaa9.png" class="lightbox" title="Schermata 2016-11-03 alle 07.22.29.png"><img src="http://community.axoloti.com/uploads/default/optimized/2X/5/5885a0b786e18a4e7b29d5a9445ca43a5a0eeaa9_1_690x201.png" width="690" height="201"><div class="meta">
<span class="filename">Schermata 2016-11-03 alle 07.22.29.png</span><span class="informations">1486x434 30.6 KB</span><span class="expand"></span>
</div></a></div></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Loop sample wave/play'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2016-11-03T07:38:10Z' itemprop='datePublished'>
             2016-11-03 07:38:10 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="1" data-topic="2484"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="http://community.axoloti.com/user_avatar/community.axoloti.com/akirasrebirth/40/2529_1.png" class="avatar">akirasrebirth:</div>
<blockquote><p>It's possible to avoid the "click"?</p></blockquote></aside>

<p>I havent tried my self, but I read in here that some other people removed the click by moving start position 0.01....</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Loop sample wave/play'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/DazzlingDuke.html'><b itemprop='author'>DazzlingDuke</b></a>
           
           <time datetime='2016-11-03T17:17:30Z' itemprop='datePublished'>
             2016-11-03 17:17:30 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I've definitely gotten rid of the click by moving the position. Try very small numbers (between 0-1).</p>

<p>Another way is to run the output through an Attack / delay filter.</p>

<p>The problem is that there is an abrupt transition from nothing (not playing) to playing.</p>

<p>Best of luck. Let us know what works for you!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Loop sample wave/play'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/akirasrebirth.html'><b itemprop='author'>akirasrebirth</b></a>
           
           <time datetime='2016-11-06T13:06:14Z' itemprop='datePublished'>
             2016-11-06 13:06:14 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks guys!</p>

<p>but it's not working. I have to mention that I don't use the loop for audio but for oscillographics ... <br></p><div class="lazyYT" data-youtube-id="Idsd0kyEPlI" data-youtube-title="axoloti glitch" data-width="480" data-height="270" data-parameters="feature=oembed&amp;wmode=opaque"></div>

<p>I tried to redo the loops from scratch but there is always a little glitch.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Loop sample wave/play'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Sputnki.html'><b itemprop='author'>Sputnki</b></a>
           
           <time datetime='2016-11-06T13:31:33Z' itemprop='datePublished'>
             2016-11-06 13:31:33 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think the problem comes from a discontinuity between the end of the loop and the beginning. You might try adjusting the speed of the lfo, but with such implementation you'll still have a 16-sample precision. It's unlikely that you find the exact loop point, maybe you can get close to it, but no more than that.</p>

<p>If you saved the sample as raw (headerless) there's no click at the beginning of the sample to eliminate with the pos workaround</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Loop sample wave/play'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-11-06T13:35:07Z' itemprop='datePublished'>
             2016-11-06 13:35:07 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>can you email me your wav and raw file (Ive PM'd you my email address), I'll take a look</p>

<p>also do you know for sure if its the start of the end causing the glitch?<br>(perhaps use a envelope to give you fade in/out... though they maybe a bit too 'slow', but might given an idea....)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Loop sample wave/play'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/akirasrebirth.html'><b itemprop='author'>akirasrebirth</b></a>
           
           <time datetime='2016-11-06T14:02:31Z' itemprop='datePublished'>
             2016-11-06 14:02:31 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../../users/sputnki.html">@Sputnki</a> I think you are right ... perhaps I could try to make shorter loops and loading into a table? Or is there another technique to make precise looping points?</p>

<p><a class="mention" href="../../../users/thetechnobear.html">@thetechnobear</a> I mailed you an example loop</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Loop sample wave/play'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Sputnki.html'><b itemprop='author'>Sputnki</b></a>
           
           <time datetime='2016-11-06T14:07:32Z' itemprop='datePublished'>
             2016-11-06 14:07:32 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Unless you want to delve into the obscure depths of object modding i suspect there is none, but you can try with the table</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Loop sample wave/play'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-11-06T16:26:46Z' itemprop='datePublished'>
             2016-11-06 16:26:46 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p> Id go with <a class="mention" href="../../../users/sputnki.html">@Sputnki</a>, I think its a start/end discontinuity.</p>

<p>theoretically if you get the right LFO rate it should work, as there is no discontinuity in the file, ,as its a multiple of 16.... but finding the exact rate will not be easy. you could also play with pos... (not because this will avoid a start glitch, which as <a class="mention" href="../../../users/sputnki.html">@Sputnki</a> also pointed out, is only relevant to wav files) to find a different 'start point'.<br>it might be between the two you can 'stumble' on a good combination.</p>

<p>moving to a table wont help really,  unless you start processing with a custom C object, to determine suitable start/end points.</p>

<p>shorter loops might help, just because its a little more manageable to see whats going on.</p>

<p>I think without a custom object, its a bit trial and error on the lfo rate/pos and and an envelope to fade the beginning and end.</p>

<p>The other way to solve this is potentially to modify the player, so that it has an option to automatically loop.<br>it knows when the end of the file is, so assuming no discontinuity in the file (which there isn't in this case) it could loop seamlessly</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Loop sample wave/play'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/akirasrebirth.html'><b itemprop='author'>akirasrebirth</b></a>
           
           <time datetime='2016-11-06T16:32:30Z' itemprop='datePublished'>
             2016-11-06 16:32:30 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thanks <a class="mention" href="../../../users/thetechnobear.html">@thetechnobear</a> for looking into this ... I will try and report back</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Loop sample wave/play'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/akirasrebirth.html'><b itemprop='author'>akirasrebirth</b></a>
           
           <time datetime='2016-11-06T16:59:04Z' itemprop='datePublished'>
             2016-11-06 16:59:04 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Found this custom wave/play object on the forum from the user <a class="mention" href="../../../users/constantin.html">@constantin</a> <a href="../../looping-samples-via-play-fn/2202.html">http://community.axoloti.com/t/looping-samples-via-play-fn/2202</a><br>It's almost working ... only a minimal glitch at the looping point... but is certainly more comfortable as trying to find the loop point with the LFO.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Loop sample wave/play'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-11-06T18:53:00Z' itemprop='datePublished'>
             2016-11-06 18:53:00 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ok, Ive extended the factory wave/play objects to have an 'end of stream' output, which is basically what the above does. (Id been meaning to add for a while, just forgot about it)</p>

<p>so if you sync libraries, you will pick it up.</p>

<p>yes, it wont completely solve your issue...<br>I assume your using the end of stream, to then reset the play, the issue with this is its one k-rate cycle too late... i.e. you end up with a one buffers worth of zeros, what you really want to happen, is for the player to loop back to the beginning to get the first buffer immediately.<br>(but doing that is a bit more involved... we are reading in a different thread, so that needs to see the end, and then automatically read the first bytes again)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:2'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Loop sample wave/play'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/akirasrebirth.html'><b itemprop='author'>akirasrebirth</b></a>
           
           <time datetime='2016-11-06T21:02:54Z' itemprop='datePublished'>
             2016-11-06 21:02:54 UTC
           </time>
        </span>
        <span itemprop='position'>#13</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks  <a class="mention" href="../../../users/thetechnobear.html">@thetechnobear</a>!<br>How long is a k-rate cycle? Perhaps it's possible to read the exact length of the loop after the first 'end of stream' and then subtract 1 k-rate cycle length. The first loop would be wrong but the following should be right.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Loop sample wave/play'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-11-06T21:31:56Z' itemprop='datePublished'>
             2016-11-06 21:31:56 UTC
           </time>
        </span>
        <span itemprop='position'>#14</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>k-rate is 3000/sec.<br>hmmm, possibly if you ran a counter on the first run, to count the length , then subtract 1, <br>then use this on subsequent cycles to reset the wave/play , assuming the sample length is divisible by 16.</p>

<p>the issue I see is, that when you set start (to reset it) , I dont believe this is immediate.<br>basically it sets a flag, which means on the next k-cycle it will do a seek to the beginning of the file, and then the read thread will pick it up when its next executed, so then the next k cycle after than its sent as output.... the upshot, if this is the case , is you get a 1 k-rate cycle delay after you call start.<br>anyway, its possibly worth a try... it will probably reduce the glitch.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Loop sample wave/play'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../../index.html'>Home</a>
        <a href="../../../categories.html">Categories</a>
        <a href="../../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../../tos.html">Terms of Service</a>
        <a href="../../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/loop-sample-wave-play/2484/11 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 Jul 2023 18:57:16 GMT -->
</html>
