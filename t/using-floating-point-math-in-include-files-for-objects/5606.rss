<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Using floating point math in include files for objects</title>
    <link>http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606</link>
    <description>I&#39;d like to use floating point math (sin, cos, log, exp) in a header file that I inlude in an object but this throws an error (undefined reference to `sin&#39;). Neither including cmath nor math.h resolved the error. It works if fixed values are given (e.g. sin(0.5)), probably because the calculation is done by the compiler.

Is it at all possible to use these floating point math functions with axoloti?</description>
    
    <lastBuildDate>Sun, 14 Apr 2019 12:50:24 +0000</lastBuildDate>
    <category>Developer</category>
    <atom:link href="http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Using floating point math in include files for objects</title>
        <dc:creator><![CDATA[@jaffasplaffa Mr. Grimm]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/jaffasplaffa">@jaffasplaffa</a> wrote:</p>
          <blockquote>
              <p>Sounds great.</p>

<p>A bit more complicated than I understand, but it sounds nice.</p>

<p>I hope you get the Q working <img src="//community.axoloti.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606/7">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606/7</link>
        <pubDate>Sun, 14 Apr 2019 12:50:24 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5606-7</guid>
        <source url="http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606.rss">Using floating point math in include files for objects</source>
      </item>
      <item>
        <title>Using floating point math in include files for objects</title>
        <dc:creator><![CDATA[@chris]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/chris">@chris</a> wrote:</p>
          <blockquote>
              <p>The pow function is only used during initialisation as the filters don't change.</p>

<p>I use rather typical EQ filters (lowcut, hicut, peak and shelfs). The crossover filters are two butterworh cuts for a linkwitz-riley filter and the shelfs &amp; peak filters are for equalisation. Unfortunately it's not easy to set gain and Q factor in the axoloti objects I found. At least not for me. I also had problems understanding the parameters mappings while trying to hard code a Q factor of sqrt(0.5) for a 2nd order butterworth filter. </p>

<p>The processing is done in floating point using <a href="https://www.kvraudio.com/forum/viewtopic.php?p=4836443#p4836443" rel="nofollow noopener">this</a> implementation.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606/6">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606/6</link>
        <pubDate>Sun, 14 Apr 2019 08:52:49 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5606-6</guid>
        <source url="http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606.rss">Using floating point math in include files for objects</source>
      </item>
      <item>
        <title>Using floating point math in include files for objects</title>
        <dc:creator><![CDATA[@jaffasplaffa Mr. Grimm]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/jaffasplaffa">@jaffasplaffa</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="3" data-topic="5606"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar_proxy/v2/letter/c/958977/40.png" class="avatar">chris:</div>
<blockquote><p>Thanks for the reply. I was able to get the functions up and running by using sinf/cosf and pow(e, x) instead of sin/cos/exp.</p></blockquote></aside>

<p>Johannes told me to stay away from pow function, as it takes a lot of resources. But not sure how to test it.</p>

<p>May I ask which filter you are making? </p>

<p>Anything special? <img src="//community.axoloti.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606/5">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606/5</link>
        <pubDate>Sat, 13 Apr 2019 17:06:39 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5606-5</guid>
        <source url="http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606.rss">Using floating point math in include files for objects</source>
      </item>
      <item>
        <title>Using floating point math in include files for objects</title>
        <dc:creator><![CDATA[@deadsy Jason T Harris]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/deadsy">@deadsy</a> wrote:</p>
          <blockquote>
              <p>Certainly you want to stick to single precision float on the axoloti because the cortex-m4 doesn't have instructions for 64 bit floats. Also keep in mind that a constant written like "2.0" will be treated as a double (64 bits) while the same written as "2.0f" or "2.f"  will be treated as float (32 bits). That is: make sure you put an "f" on the end of your constants so the compiler doesn't try to do 64 bit float operations.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606/4">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606/4</link>
        <pubDate>Sat, 13 Apr 2019 14:52:38 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5606-4</guid>
        <source url="http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606.rss">Using floating point math in include files for objects</source>
      </item>
      <item>
        <title>Using floating point math in include files for objects</title>
        <dc:creator><![CDATA[@chris]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/chris">@chris</a> wrote:</p>
          <blockquote>
              <p>Thanks for the reply. I was able to get the functions up and running by using sinf/cosf and pow(e, x) instead of sin/cos/exp.</p>

<p>The math is only used during initialisation but I need the higher accuracy there. This is for a speaker crossover where I have given filters that should run on the axoloti. As I'm much more familiar with floating point dsp I implemented the filters in floating point which seems to work fine (the whole crossover uses about 20% CPU).</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606/3">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606/3</link>
        <pubDate>Sat, 13 Apr 2019 07:38:36 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5606-3</guid>
        <source url="http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606.rss">Using floating point math in include files for objects</source>
      </item>
      <item>
        <title>Using floating point math in include files for objects</title>
        <dc:creator><![CDATA[@deadsy Jason T Harris]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/deadsy">@deadsy</a> wrote:</p>
          <blockquote>
              <p>It's possible to use the standard math library, but generally not desirable. The standard math library favors accuracy over speed. ie - they'll run the algo until they get enough significant digits to fill out the fractional portion of the float type being returned. That's typically not needed to audio DSP. The axoloti firmware has table based math functions that should be called instead. They are less accurate but much faster. Take a look at the implementation of the factory sine wave oscillator to see how to do this.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606/2">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606/2</link>
        <pubDate>Fri, 12 Apr 2019 15:21:14 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5606-2</guid>
        <source url="http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606.rss">Using floating point math in include files for objects</source>
      </item>
      <item>
        <title>Using floating point math in include files for objects</title>
        <dc:creator><![CDATA[@chris]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/chris">@chris</a> wrote:</p>
          <blockquote>
              <p>I'd like to use floating point math (sin, cos, log, exp) in a header file that I inlude in an object but this throws an error (undefined reference to `sin'). Neither including cmath nor math.h resolved the error. It works if fixed values are given (e.g. sin(0.5)), probably because the calculation is done by the compiler.</p>

<p>Is it at all possible to use these floating point math functions with axoloti?</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606/1">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606/1</link>
        <pubDate>Fri, 12 Apr 2019 13:32:30 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5606-1</guid>
        <source url="http://community.axoloti.com/t/using-floating-point-math-in-include-files-for-objects/5606.rss">Using floating point math in include files for objects</source>
      </item>
  </channel>
</rss>
