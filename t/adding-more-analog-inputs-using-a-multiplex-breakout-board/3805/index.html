<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Adding more analog inputs using a multiplex breakout board - Hardware - Axoloti Community</title>
    <meta name="description" content="Hello everyone, I would like to learn how to add some additional inputs to my Axoloti.  I have a couple of these multiplexer breakout boards ( https://www.sparkfun.com/products/9056 ) and just realized that others had po&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="https://sebiik.github.io/community.axoloti.com.backup/t/adding-more-analog-inputs-using-a-multiplex-breakout-board/3805" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://sebiik.github.io/community.axoloti.com.backup/opensearch.xml" title="Axoloti Community Search">

        <link href="/stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Adding more analog inputs using a multiplex breakout board&#39;" href="https://sebiik.github.io/community.axoloti.com.backup/t/adding-more-analog-inputs-using-a-multiplex-breakout-board/3805.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/adding-more-analog-inputs-using-a-multiplex-breakout-board/3805" />
<meta name="twitter:url" content="http://community.axoloti.com/t/adding-more-analog-inputs-using-a-multiplex-breakout-board/3805" />
<meta property="og:title" content="Adding more analog inputs using a multiplex breakout board" />
<meta name="twitter:title" content="Adding more analog inputs using a multiplex breakout board" />
<meta property="og:description" content="Hello everyone, I would like to learn how to add some additional inputs to my Axoloti.  I have a couple of these multiplexer breakout boards ( https://www.sparkfun.com/products/9056 ) and just realized that others had posted examples of adding similar multiplexers to their Axolotl.   Here is one of the threads: http://community.axoloti.com/t/gpio-i-o-example-4051-de-multiplexer-reads-8-analog-sources/133 Here is another example using a different multiplexer: http://community.axoloti.com/t/gpio-i..." />
<meta name="twitter:description" content="Hello everyone, I would like to learn how to add some additional inputs to my Axoloti.  I have a couple of these multiplexer breakout boards ( https://www.sparkfun.com/products/9056 ) and just realized that others had posted examples of adding similar multiplexers to their Axolotl.   Here is one of the threads: http://community.axoloti.com/t/gpio-i-o-example-4051-de-multiplexer-reads-8-analog-sources/133 Here is another example using a different multiplexer: http://community.axoloti.com/t/gpio-i..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="6 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="10 ❤" />

      <link rel="next" href="/t/adding-more-analog-inputs-using-a-multiplex-breakout-board/3805?page=2">

  </head>
  <body class="crawler">
    
    <header>
      <a href="/"><img src="/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="/t/adding-more-analog-inputs-using-a-multiplex-breakout-board/3805">Adding more analog inputs using a multiplex breakout board</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="/c/hardware" itemprop="url">
        <span itemprop="title">Hardware</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Androoclops'><b itemprop='author'>Androoclops</b></a>
           
           <time datetime='2017-09-29T18:07:06Z' itemprop='datePublished'>
             2017-09-29 18:07:06 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello everyone, I would like to learn how to add some additional inputs to my Axoloti. <br>I have a couple of these multiplexer breakout boards ( <a href="https://www.sparkfun.com/products/9056" rel="nofollow noopener">https://www.sparkfun.com/products/9056</a> ) and just realized that others had posted examples of adding similar multiplexers to their Axolotl.</p>

<p>Here is one of the threads: <a href="//community.axoloti.com/t/gpio-i-o-example-4051-de-multiplexer-reads-8-analog-sources/133">http://community.axoloti.com/t/gpio-i-o-example-4051-de-multiplexer-reads-8-analog-sources/133</a><br>Here is another example using a different multiplexer: <a href="//community.axoloti.com/t/gpio-i-o-example-adc-mcp3208-spi/304">http://community.axoloti.com/t/gpio-i-o-example-adc-mcp3208-spi/304</a><br>Unfortunately I can't get their patches to open for some strange reason and can't examine their work <img src="//community.axoloti.com/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>

<p>My board is slightly different than the ones they used and the 4051 chips are sold out in my city (plus they only add 8 inputs and the additional wiring would be messy)</p>

<p>Would anyone out there be able help me figure out how to add inputs using my multiplexer board?<br>Once I get this problem solved I'm going to make a video tutorial for other noobs out there!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/MC_DETH'><b itemprop='author'>MC_DETH</b></a>
           
           <time datetime='2017-09-29T21:11:21Z' itemprop='datePublished'>
             2017-09-29 21:11:21 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I cant help you (yet) but I will be watching this thread closely because I am looking for similar info for my project. Good luck with your project!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Androoclops'><b itemprop='author'>Androoclops</b></a>
           
           <time datetime='2017-09-29T21:36:21Z' itemprop='datePublished'>
             2017-09-29 21:36:21 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Here is what I beleive the wiring should look like. In this picture I only show 1 Potentiometer attached to the Multiplex board for simplicity sake. I will definitely have 16 Potentiometers attached to each pin in reality. <br><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/18a1559c9882d3e63b9849d4ddd229303ea3c52f" href="//community.axoloti.com/uploads/default/original/2X/1/18a1559c9882d3e63b9849d4ddd229303ea3c52f.png" class="lightbox" title="mux.png"><img src="//community.axoloti.com/uploads/default/optimized/2X/1/18a1559c9882d3e63b9849d4ddd229303ea3c52f_1_690x378.png" width="690" height="378"><div class="meta">
<span class="filename">mux.png</span><span class="informations">870x477 23.4 KB</span><span class="expand"></span>
</div></a></div></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Ersatzplanet'><b itemprop='author'>Ersatzplanet</b></a>
           
           <time datetime='2017-09-29T23:39:21Z' itemprop='datePublished'>
             2017-09-29 23:39:21 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>How many extra controls are you planning on adding? Have you thought of adding them via MIDI? There are plenty of OEM MIDI controller solutions out there that would add tons of controls on top of the analog controls available by direct wiring. Both can work at the same time. Things like the Doepfer Pocket Electronics, Dial Electronics, and other boxes like it can add many custom controllers to the Axo. They may not be as cheap but they are MUCH more flexible than the multiplex approach.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Androoclops'><b itemprop='author'>Androoclops</b></a>
           
           <time datetime='2017-09-30T00:39:23Z' itemprop='datePublished'>
             2017-09-30 00:39:23 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>For the sake of this project let's say 16. </p>

<p>Using an additional midi device is not what I aim to do as that requires the user to buy and understand additional (potentially expensive) hardware, software and scripting (which from my experience is a rabbit hole that goes very very deep and consumes a lot of time)</p>

<p>The goal of this is project is to show the cheapest, simplest possible way for others to add additional inputs to their board with the least amount of steps possible so they (and I) don't get overwhemed.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/strum'><b itemprop='author'>strum</b></a>
           
           <time datetime='2017-09-30T16:16:54Z' itemprop='datePublished'>
             2017-09-30 16:16:54 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You can get simple small MIDI controllers quite cheaply.</p>

<p>You can also build one using an arduino very easily.</p>

<p>There is little you can't control on Axo with MIDI, I don't see much need for having more than a few rotary encoders and a display on an enclosure.</p>

<p>My 2 cents worth.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Androoclops'><b itemprop='author'>Androoclops</b></a>
           
           <time datetime='2017-09-30T17:01:41Z' itemprop='datePublished'>
             2017-09-30 17:01:41 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Using a third party midi controller confines you to the controllers design and also occupies a port.</p>

<p>As for building a midi controller using Arduino - you need to understand Arduino to do that....just installing Arduino is like 13 additional steps...then theres the additional hardware requiried and even then you don't really get many analog inputs without spending a lot of money....unless you add a multiplexer to a cheaper arduino, which brings us right back here but now with new hardware and software ontop. </p>

<p>I should point out that I've built midi controllers using both teensy and Arduino and its messy/complicated when you throw in multiplexers. If the Axoloti has the capability of having a multiplexer attached to it directly, then that's definitely worth investigating in my opinion.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Androoclops'><b itemprop='author'>Androoclops</b></a>
           
           <time datetime='2017-09-30T17:33:59Z' itemprop='datePublished'>
             2017-09-30 17:33:59 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I've managed to take a look at the contents of Paul's patch from <a href="//community.axoloti.com/t/gpio-i-o-example-4051-de-multiplexer-reads-8-analog-sources/133">http://community.axoloti.com/t/gpio-i-o-example-4051-de-multiplexer-reads-8-analog-sources/133</a> using a simple text editor (wordpad for the win!)</p>

<p>My guess is that the file was made for a previous version of Axoloti's patcher software but it's all there and looks like its full of handy info and code that seems like it could be modified to suit a 16 input multiplex. </p>

<p>He also mentioned in his initial post this helpful bit of info:</p>

<blockquote>
<p>By editing the number between the brace at line "adcvalues[8]", you can select the adc input pin.<br>Here is a short overview about the possible adc pins.</p>
<p>PA1 (ADC1_IN1)	= 1<br>PA2 (ADC1_IN2) = 2<br>PA3 (ADC1_IN3)	= 3<br>PA4 (ADC1_IN4)	= 4<br>PA5 (ADC1_IN5)	= 5<br>PA6 (ADC1_IN6)	= 6<br>PA7 (ADC1_IN7)	= 7<br>PB0 (ADC1_IN8)	= 8<br>PB1 (ADC1_IN9)	= 9<br>PC0 (ADC1_IN10)	= 10<br>PC1 (ADC1_IN11)	= 11<br>PC2 (ADC1_IN12)	= 12<br>PC3 (ADC1_IN13)	= 13<br>PC4 (ADC1_IN14)	= 14"</p>
</blockquote>

<p>I edited out some things to clean up this post but if you would like to view Paul'd work completely unedited you can just open his file (<a href="//community.axoloti.com/uploads/default/original/1X/46b83d76dc9f2e7ed70a454f90b238b49df6c79a.axp">http://community.axoloti.com/uploads/default/original/1X/46b83d76dc9f2e7ed70a454f90b238b49df6c79a.axp</a>) using wordpad. </p>

<p>this is his work:</p>

<pre><code>&lt;patch-1.0&gt;
4051 De/Multiplexer
Object script reads analog ins from a 4051
z  = PB0
s0 = PA0
s1 = PA1
s2 = P A2

obj type="script/script2" sha="362a4413ceaefbe716480bf8f9c62eb3587fe6c0" name="multiplexer_count" x="42" y="126"&gt;
      &lt;params/&gt;
      &lt;attribs&gt;
         &lt;text attributeName="script"&gt;
            &lt;sText&gt;&lt;![CDATA[

int i;   // select y-input

void setup(void){
	palSetPadMode(GPIOA,0,PAL_MODE_OUTPUT_PUSHPULL);	// s0 Pin of 4051
	palSetPadMode(GPIOA,1,PAL_MODE_OUTPUT_PUSHPULL);	// S1 Pin of 4051
	palSetPadMode(GPIOA,2,PAL_MODE_OUTPUT_PUSHPULL);	// s2 Pin of 4051

	i = 0;
}

void loop(void){

	i++;
	if (i == 8) {
		i = 0;
	}

	palWritePad(GPIOA,0,((i&amp; 0x01) &gt; 0));		// write s0
	palWritePad(GPIOA,1,(((i&gt;&gt;1)&amp; 0x01) &gt; 0));	// write s1
	palWritePad(GPIOA,2,(((i&gt;&gt;2)&amp; 0x01) &gt; 0));	// write s2

	int z = adcvalues[8]&lt;&lt;15;			// ADC z-input

	switch (i){
		case 0: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y0_value],z,0xFFFD); break;	//connect in1 to dial (named y0)
		case 1: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y1_value],z,0xFFFD); break;	//connect in2 to dial (named y1)
		case 2: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y2_value],z,0xFFFD); break;	//connect in3 to dial (named y2)
		case 3: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y3_value],z,0xFFFD); break;	//connect in4 to dial (named y3)
		case 4: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y4_value],z,0xFFFD); break;	//connect in5 to dial (named y4)
		case 5: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y5_value],z,0xFFFD); break;	//connect in6 to dial (named y5)
		case 6: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y6_value],z,0xFFFD); break;	//connect in7 to dial (named y6)
		case 7: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y7_value],z,0xFFFD); break;	//connect in8 to dial (named y7)
	}

	
	chThdSleepMilliseconds(5);	// short delay
}]]&gt;&lt;/sText&gt;
         &lt;/text&gt;
      &lt;/attribs&gt;
   &lt;/obj&gt;
   &lt;obj type="ctrl/dial p" sha="1f21216639bb798a4ea7902940999a5bcfd0de90" name="y0" x="42" y="224"&gt;
      &lt;params&gt;
         &lt;frac32.u.map name="value" value="0.046875"/&gt;
      &lt;/params&gt;
      &lt;attribs/&gt;
   &lt;/obj&gt;
   &lt;comment type="patch/comment" x="126" y="266" text="4051 Input Y0"/&gt;
   &lt;obj type="ctrl/dial p" sha="1f21216639bb798a4ea7902940999a5bcfd0de90" name="y1" x="42" y="308"&gt;
      &lt;params&gt;
         &lt;frac32.u.map name="value" value="63.984375"/&gt;
      &lt;/params&gt;
      &lt;attribs/&gt;
   &lt;/obj&gt;
   &lt;comment type="patch/comment" x="126" y="350" text="4051 Input Y1"/&gt;
   &lt;obj type="ctrl/dial p" sha="1f21216639bb798a4ea7902940999a5bcfd0de90" name="y2" x="42" y="392"&gt;
      &lt;params&gt;
         &lt;frac32.u.map name="value" value="0.03125"/&gt;
      &lt;/params&gt;
      &lt;attribs/&gt;
   &lt;/obj&gt;
   &lt;comment type="patch/comment" x="126" y="434" text="4051 Input Y2"/&gt;
   &lt;obj type="ctrl/dial p" sha="1f21216639bb798a4ea7902940999a5bcfd0de90" name="y3" x="42" y="476"&gt;
      &lt;params&gt;
         &lt;frac32.u.map name="value" value="0.09375"/&gt;
      &lt;/params&gt;
      &lt;attribs/&gt;
   &lt;/obj&gt;
   &lt;comment type="patch/comment" x="126" y="518" text="4051 Input Y3"/&gt;
   &lt;obj type="ctrl/dial p" sha="1f21216639bb798a4ea7902940999a5bcfd0de90" name="y4" x="42" y="560"&gt;
      &lt;params&gt;
         &lt;frac32.u.map name="value" value="0.0"/&gt;
      &lt;/params&gt;
      &lt;attribs/&gt;
   &lt;/obj&gt;
   &lt;comment type="patch/comment" x="126" y="602" text="4051 Input Y4"/&gt;
   &lt;obj type="ctrl/dial p" sha="1f21216639bb798a4ea7902940999a5bcfd0de90" name="y5" x="42" y="644"&gt;
      &lt;params&gt;
         &lt;frac32.u.map name="value" value="0.203125"/&gt;
      &lt;/params&gt;
      &lt;attribs/&gt;
   &lt;/obj&gt;
   &lt;comment type="patch/comment" x="126" y="686" text="4051 Input Y5"/&gt;
   &lt;obj type="ctrl/dial p" sha="1f21216639bb798a4ea7902940999a5bcfd0de90" name="y6" x="42" y="728"&gt;
      &lt;params&gt;
         &lt;frac32.u.map name="value" value="63.984375"/&gt;
      &lt;/params&gt;
      &lt;attribs/&gt;
   &lt;/obj&gt;
   &lt;comment type="patch/comment" x="126" y="770" text="4051 Input Y6"/&gt;
   &lt;obj type="ctrl/dial p" sha="1f21216639bb798a4ea7902940999a5bcfd0de90" name="y7" x="42" y="812"&gt;
      &lt;params&gt;
         &lt;frac32.u.map name="value" value="0.0625"/&gt;
      &lt;/params&gt;
      &lt;attribs/&gt;
   &lt;/obj&gt;
   &lt;comment type="patch/comment" x="126" y="854" text="4051 Input Y7"/&gt;
   &lt;nets/&gt;
   &lt;settings&gt;
      &lt;subpatchmode&gt;no&lt;/subpatchmode&gt;
   &lt;/settings&gt;
   &lt;notes&gt;&lt;![CDATA[]]&gt;&lt;/notes&gt;
   &lt;windowPos&gt;
      &lt;x&gt;2263&lt;/x&gt;
      &lt;y&gt;35&lt;/y&gt;
      &lt;width&gt;998&lt;/width&gt;
      &lt;height&gt;998&lt;/height&gt;
   &lt;/windowPos&gt;
&lt;/patch-1.0&gt;</code></pre>

<p>Axoloti maybe it just needs to be added to a new object?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Ersatzplanet'><b itemprop='author'>Ersatzplanet</b></a>
           
           <time datetime='2017-09-30T18:04:41Z' itemprop='datePublished'>
             2017-09-30 18:04:41 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="7" data-topic="3805"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/androoclops/40/4538_1.png" class="avatar">Androoclops:</div>
<blockquote><p>Using a third party midi controller confines you to the controllers design and also occupies a port.</p></blockquote></aside>

<p>If you use a board like the Doepfer Pocket Electronics, you just add 16 switches, pots or whatever just like you do on the Axo. You are not confined to any design any differently than you are with the Axo itself. It has a MIDI in and out so it can be put in series with whatever else you have plugged into the MIDI port and takes nothing away. It can be programmed to use any MIDI channel or multiple channels. The only downside is that it is not super cheap (almost twice as expensive as the Axo) but it is a simple and easy solution. There are many boards out there that are similar in design and vary a lot in cost. Customized MIDI controllers are quite prevalent and there are many makers of these devices to choose from. (google custom MIDI controller)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Androoclops'><b itemprop='author'>Androoclops</b></a>
           
           <time datetime='2017-09-30T18:16:27Z' itemprop='datePublished'>
             2017-09-30 18:16:27 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Is that product even available anymore? <br>Either way your right, its not cheap. its literally <em>45</em> times more expensive than the breakout board on ebay right now and its much larger than the breakout board.... </p>

<p>The CD74HC4067 breakout board I'm suggesting be used is <em>5 dollars</em> and can be used to do all of those things no?</p>

<p>What other midi boards are on the market though? Outside of this project I'm interested!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Ersatzplanet'><b itemprop='author'>Ersatzplanet</b></a>
           
           <time datetime='2017-09-30T18:35:32Z' itemprop='datePublished'>
             2017-09-30 18:35:32 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="10" data-topic="3805"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/androoclops/40/4538_1.png" class="avatar">Androoclops:</div>
<blockquote><p>Is that product even available anymore?</p></blockquote></aside>

<p>The PCB version is still available but you are right at $110 (Analogue Haven has them) it is much more expensive than even a Arduino or Raspberry Pi solution. Its main draw is that it is bone simple to use. Just add the controls you want and plug it in. Make as many as you want and put them in series assigned to different channels. Mainly it is the more expensive but easier solution for people like me. No real programming needed etc. Definitely not for everyone and especially not if the budget is a super concern. The advantage is of course the MIDI controller you make with the Pocket Electronics or Livid Brain Jr. ($50 solution), Arduino, or other setup, can be used with any MIDI hardware including probably the DAW or other software you record on.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Androoclops'><b itemprop='author'>Androoclops</b></a>
           
           <time datetime='2017-09-30T18:53:53Z' itemprop='datePublished'>
             2017-09-30 18:53:53 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Niccce. <br>Those sound pretty sweet. Teensies are similar in their simplicity..Arduino is too but it depends on the board and you can plug them both into just about anything via usb...via midi-5 pin is a bit trickier and multiplexing teensy is a genuine fiasco. </p>

<p>Regardless, lets try to like...stay focused on the goal here. <br>What I'm suggesting is possible and seems simpler. <br>I know there's other options out there but for the purpose of this thread lets leave them for another day.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/MC_DETH'><b itemprop='author'>MC_DETH</b></a>
           
           <time datetime='2017-09-30T21:16:50Z' itemprop='datePublished'>
             2017-09-30 21:16:50 UTC
           </time>
        </span>
        <span itemprop='position'>#13</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I am new to this and I am getting a little bit confused with so many breakout boards out there. For example what are the differences between the mux board you mention (CD74HC4067) and this one <a href="https://www.sparkfun.com/products/13601" rel="nofollow noopener">https://www.sparkfun.com/products/13601</a> ?<br>Which one's better and why?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Androoclops'><b itemprop='author'>Androoclops</b></a>
           
           <time datetime='2017-09-30T21:41:06Z' itemprop='datePublished'>
             2017-09-30 21:41:06 UTC
           </time>
        </span>
        <span itemprop='position'>#14</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>That one is better <em>and</em> amazing? lol I've not read up on those yet! <br>Im defintiely going to have to check em out (less soldering involved, but I'm not sure how to write code for those at all...yet...)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Androoclops'><b itemprop='author'>Androoclops</b></a>
           
           <time datetime='2017-10-01T02:23:09Z' itemprop='datePublished'>
             2017-10-01 02:23:09 UTC
           </time>
        </span>
        <span itemprop='position'>#15</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Alllrighty so things are starting to work now! <img src="//community.axoloti.com/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"> I'm modeling this after Paul's patch and its not working %100 but things are responding! <img src="//community.axoloti.com/images/emoji/twitter/sweat_smile.png?v=5" title=":sweat_smile:" class="emoji" alt=":sweat_smile:"></p>

<p>I've added a script object into a new patch file and threw a modified version of Paul's code to it that includes an extra "S" pin from the Axoloti to the breakout board and set things up so the code runs through all 16 inputs on the breakout rather than just 8 </p>

<p>I then added 16 different dials to the patch, each with different names ranging from y0 to y15 to correspond with the script. </p>

<p>So far all 16 dials seem to be responding to input but they're all taking input from <em>one</em> potentiometer for some odd reason...<br>Theres also some jitter going on. I have quite a few capacitors laying around but I'm not sure exactly where to put them...i think they may resolve the jitter issue though....I think this issue can be resolved using code as well (I did a similar project using an arduino a while ago that solved this problem quite nicely but I dont know how to implement that code into this project <img src="//community.axoloti.com/images/emoji/twitter/confused.png?v=5" title=":confused:" class="emoji" alt=":confused:"> </p>

<p>heres a picture of what it  looks like  (I attached an oscilator and output to it in order to hear how bad the jitter was....I chose that dial at random because each dial is outputting almost identical signals....<br><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/66c493a8dac50879357e1c9093f6733bcd800fe8" href="//community.axoloti.com/uploads/default/original/2X/6/66c493a8dac50879357e1c9093f6733bcd800fe8.png" class="lightbox" title="16mux.png"><img src="//community.axoloti.com/uploads/default/optimized/2X/6/66c493a8dac50879357e1c9093f6733bcd800fe8_1_689x340.png" width="689" height="340"><div class="meta">
<span class="filename">16mux.png</span><span class="informations">1346x664 23.3 KB</span><span class="expand"></span>
</div></a></div></p>

<p>Here's the patch so far if anyone wants to tinker with it....warning though - i hav't properly commented anything so its probably hella confusing (im not a programmer and have no idea what im doing obviously)<br><a class="attachment" href="//community.axoloti.com/uploads/default/original/2X/3/3e464e4f20cd7e75330c687cfbf16d1f39466021.axp">16inputs16respondbut1value.axp</a> (7.3 KB)</p>

<p>and heres the code for those who want to take a look but dont want to download the patch</p>

<pre><code>int i;   // select y-input

void setup(void){
	palSetPadMode(GPIOA,0,PAL_MODE_OUTPUT_PUSHPULL);	// s0 Pin of 4051
	palSetPadMode(GPIOA,1,PAL_MODE_OUTPUT_PUSHPULL);	// S1 Pin of 4051
	palSetPadMode(GPIOA,2,PAL_MODE_OUTPUT_PUSHPULL);	// s2 Pin of 4051
	palSetPadMode(GPIOA,3,PAL_MODE_OUTPUT_PUSHPULL);	// s3 Pin of 4051
	i = 0;
}

void loop(void){

	i++;
	if (i == 16) {
		i = 0;
	}

	palWritePad(GPIOA,0,((i&amp; 0x01) &gt; 0));		// write s0
	palWritePad(GPIOA,1,(((i&gt;&gt;1)&amp; 0x01) &gt; 0));	// write s1
	palWritePad(GPIOA,2,(((i&gt;&gt;2)&amp; 0x01) &gt; 0));	// write s2
	palWritePad(GPIOA,3,(((i&gt;&gt;3)&amp; 0x01) &gt; 0));	// write s2
	int z = adcvalues[14]&lt;&lt;15;			// ADC z-input

	switch (i){
		case 0: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y0_value],z,0xFFFD); break;	//connect in1 to dial (named y0)
		case 1: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y1_value],z,0xFFFD); break;	//connect in2 to dial (named y1)
		case 2: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y2_value],z,0xFFFD); break;	//connect in3 to dial (named y2)
		case 3: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y3_value],z,0xFFFD); break;	//connect in4 to dial (named y3)
		case 4: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y4_value],z,0xFFFD); break;	//connect in5 to dial (named y4)
		case 5: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y5_value],z,0xFFFD); break;	//connect in6 to dial (named y5)
		case 6: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y6_value],z,0xFFFD); break;	//connect in7 to dial (named y6)
		case 7: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y7_value],z,0xFFFD); break;	//connect in8 to dial (named y7)
		case 8: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y8_value],z,0xFFFD); break;	//connect in1 to dial (named y0)
		case 9: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y9_value],z,0xFFFD); break;	//connect in2 to dial (named y1)
		case 10: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y10_value],z,0xFFFD); break;	//connect in3 to dial (named y2)
		case 11: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y11_value],z,0xFFFD); break;	//connect in4 to dial (named y3)
		case 12: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y12_value],z,0xFFFD); break;	//connect in5 to dial (named y4)
		case 13: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y13_value],z,0xFFFD); break;	//connect in6 to dial (named y5)
		case 14: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y14_value],z,0xFFFD); break;	//connect in7 to dial (named y6)
		case 15: PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_y15_value],z,0xFFFD); break;	//connect in8 to dial (named y7)
	}


	
}</code></pre>

<p>if anyone out there knows what theyre doing and wants to take a crack at helping, be my guest!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
            <a href="https://sebiik.github.io/community.axoloti.com.backup/t/cd74hc4067-mux-programming/6470/2">CD74HC4067 mux programming</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/strum'><b itemprop='author'>strum</b></a>
           
           <time datetime='2017-10-01T03:16:30Z' itemprop='datePublished'>
             2017-10-01 03:16:30 UTC
           </time>
        </span>
        <span itemprop='position'>#16</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It would be much easier to add multiplexing to Arduino than to Axo, the added complexity of the software, and hardware, and lack of documentation make it much harder. </p>

<p>Input shift registers are pretty simple, no need for a i/o expander chip and all the software is pretty much freely available already for Arduino.</p>

<p>You coiuld prototype a board with Arduino then plug it into Axo once you knew it was working right.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Androoclops'><b itemprop='author'>Androoclops</b></a>
           
           <time datetime='2017-10-01T03:35:43Z' itemprop='datePublished'>
             2017-10-01 03:35:43 UTC
           </time>
        </span>
        <span itemprop='position'>#17</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I actually already have.....Also already did the same thing with a Teensy LC (although for that one I made a USB out version)</p>

<p>There's a really good tutorial on youtube that walks people through how to use an Arduino nano that also has code included which smooths out the of mux signals.....</p>

<p>With that being said, <em>this project</em> is different. It wont require a teensy or arduino. When its done, all you'll need is the breakout board and the object added to your patch for it to work.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Gavin'><b itemprop='author'>Gavin</b></a>
           
           <time datetime='2017-10-01T14:21:00Z' itemprop='datePublished'>
             2017-10-01 14:21:00 UTC
           </time>
        </span>
        <span itemprop='position'>#18</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Not sure if you are aware or not, but you can chain two mux IC's together, to do so will only take up 1 more Axo GPIO.<br>Also the  general rule of thumb when using Mux's is that you can only change one parameter at a time, so you connot change one pots value with your left hand and another with your right at the same time.<br>There are some convoluted codes out there that provide alternatives, but they are not true multiple parameter adjustments. The only true way of dealing with this, is an Analogue input for each pot. Some muxes can be controlled via I2C which uses a different communication technique, but I am not familiar with its efficiencies.<br><img src="//community.axoloti.com/images/emoji/twitter/grin.png?v=5" title=":grin:" class="emoji" alt=":grin:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Androoclops'><b itemprop='author'>Androoclops</b></a>
           
           <time datetime='2017-10-04T06:05:32Z' itemprop='datePublished'>
             2017-10-04 06:05:32 UTC
           </time>
        </span>
        <span itemprop='position'>#19</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>True! That being said, how will it sound when the Axo flipflops between two params X number of times per second? Im excited to find out....i might be m.i.a. for a while though (lung surgery problems) so I'll check back in when I'm all together again.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Harry-Butter'><b itemprop='author'>Harry-Butter</b></a>
           
           <time datetime='2018-05-17T14:13:04Z' itemprop='datePublished'>
             2018-05-17 14:13:04 UTC
           </time>
        </span>
        <span itemprop='position'>#20</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey! Would you have to manually connect a midi cable from the OEM controller into the axoloti?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Adding more analog inputs using a multiplex breakout board'>
      <hr>
  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement'>
      <span itemprop='url'><b><a rel="next" itemprop="name" href="/t/adding-more-analog-inputs-using-a-multiplex-breakout-board/3805?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='/'>Home</a>
        <a href="/categories">Categories</a>
        <a href="/guidelines">FAQ/Guidelines</a>
        <a href="/tos">Terms of Service</a>
        <a href="/privacy">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
