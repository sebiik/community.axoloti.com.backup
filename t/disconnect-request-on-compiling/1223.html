<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/disconnect-request-on-compiling/1223 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 17:09:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Disconnect request on compiling - Helpdesk - Axoloti Community</title>
    <meta name="description" content="I&amp;#39;m having a weird persistent issue with taking patches live. My device behaves normally for small patches that compile quickly, but often disconnects suddenly when larger patches are used (especially containing subpatch&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="1223.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Disconnect request on compiling&#39;" href="1223.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/disconnect-request-on-compiling/1223" />
<meta name="twitter:url" content="http://community.axoloti.com/t/disconnect-request-on-compiling/1223" />
<meta property="og:title" content="Disconnect request on compiling" />
<meta name="twitter:title" content="Disconnect request on compiling" />
<meta property="og:description" content="I&#39;m having a weird persistent issue with taking patches live. My device behaves normally for small patches that compile quickly, but often disconnects suddenly when larger patches are used (especially containing subpatches). I&#39;ve run into the SRAM limitations and cleaned things up, removed preset allocations, so it&#39;s not that. In fact, there&#39;s no error message at all and it&#39;s left  me scratching my head. Here&#39;s a sample output (abridged for clarity):   USB device found connected Authentic Axolot..." />
<meta name="twitter:description" content="I&#39;m having a weird persistent issue with taking patches live. My device behaves normally for small patches that compile quickly, but often disconnects suddenly when larger patches are used (especially containing subpatches). I&#39;ve run into the SRAM limitations and cleaned things up, removed preset allocations, so it&#39;s not that. In fact, there&#39;s no error message at all and it&#39;s left  me scratching my head. Here&#39;s a sample output (abridged for clarity):   USB device found connected Authentic Axolot..." />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="1223.html">Disconnect request on compiling</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/helpdesk.html" itemprop="url">
        <span itemprop="title">Helpdesk</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/matthewcieplak.html'><b itemprop='author'>matthewcieplak</b></a>
           
           <time datetime='2016-03-06T09:52:14Z' itemprop='datePublished'>
             2016-03-06 09:52:14 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm having a weird persistent issue with taking patches live. My device behaves normally for small patches that compile quickly, but often disconnects suddenly when larger patches are used (especially containing subpatches). I've run into the SRAM limitations and cleaned things up, removed preset allocations, so it's not that. In fact, there's no error message at all and it's left  me scratching my head. Here's a sample output (abridged for clarity):</p>

<pre><code>USB device found
connected
Authentic Axoloti Core
...
Firmware version: 1.0.0.1, crc=0x12D13CA6, entrypoint=0x20011000
...
Generate code complete
Start compiling patch
Compiling patch... with /Applications/Axoloti.app/Contents/Java/firmware
...
arm-none-eabi-objcopy -O binary /Users/matthew/Documents/axoloti/build/xpatch.elf     /Users/matthew/Documents/axoloti/build/xpatch.bin
Done compiling patch
Start uploading patch
bin path: /Users/matthew/Documents/axoloti/build/xpatch.bin
block uploaded @ 0x20011000 length 32768
block uploaded @ 0x20019000 length 11056
Done uploading patch
Start starting patch
Disconnect request
Done starting patch
Start locking
Done locking</code></pre>

<p>As you can see, everything goes normally up to the <code>Disconnect request</code> after uploading. The behavior seems semi-random, as the same patch will sometimes load successfully and sometimes fail after changing nothing. I have noticed that I can sort of tell when it's going to fail by the "rhythm" or timing of the output â€“ something is taking longer than it should perhaps. That seems strongly suggestive to me of a race condition, but I couldn't be sure which part.</p>

<p>After the output finishes, the patch returns to editable mode after flashing "live" for a fraction of a second, and the Axoloti window shows the "connect" button in the inactive state. Clicking "connect" will sometimes successfully reconnect and sometimes cause the program to hard freeze for 30 seconds or so, afterwards it usually spits out a message, I think about the serial number or firmware (though I couldn't repro to grab the error message just now). After the latter error, it requires the board to be physically disconnected and reconnected before it will work again.</p>

<p>Anyway, I've been able to work around this in the past by being patient and trying to compile several times, but my latest patch simply won't go live on the board, so here I am. Are there any known issues like this? How can I further debug?</p>

<p>Just some quick system details: I'm on a 2011 Macbook Pro, OS X 10.10.1, connecting directly via USB (no hub). I'm using the 1.0.6 build, though I recall seeing the same thing on 1.0.4.</p>

<p>Thanks kindly!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Disconnect request on compiling'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-03-06T13:40:48Z' itemprop='datePublished'>
             2016-03-06 13:40:48 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Is the patch running, even though disconnect from the UI?<br>also when you reconnect to the board, does it give you a set of error codes?<br>we really needs details... as obviously this is not 'normal conditions', so we need to know how you get into this condition.</p>

<p>generally, te compile errors (including memory) are not the only way a patch can fail, or become disconnected... <br>Ive also encountered occasions where I get this, and continue to reduce resources, and they start working. similarly, patches which use to much cpu Ive had 'crash' the board... and of course, issues with custom code Ive written... and of course, your correct it <strong>could</strong> be a race condition.</p>

<p>These are reasonable 'rare' but I guess we have to remember this stuff is not 'interpreted code' with the board having lots of 'protection' we are running native code to achieve the most out of the available hardware.</p>

<p>I know this is all very general, but then your report doesn't really give much to go on....</p>

<p>what you would need to do is start taking things out of the patch, and reducing it to the essence of what makes it crash.<br>once you have a small patch which demonstrates the issue, you can post it here...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Disconnect request on compiling'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/disconnect-request-on-compiling/1223 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 17:09:38 GMT -->
</html>
