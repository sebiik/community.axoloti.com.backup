<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/convert-midi-single-channel-to-multiple/2372 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:41:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Convert midi single channel to multiple - Patching - Axoloti Community</title>
    <meta name="description" content="Hi, 

I&amp;#39;m wondering if it&amp;#39;s possible to get data from a keyboard, with multiple notes on channel 1 on DIN MIDI IN and convert to multi channel notes up to a certain channel # on MIDI OUT. A round robin way. My interest i&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="2372.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Convert midi single channel to multiple&#39;" href="2372.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/convert-midi-single-channel-to-multiple/2372" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/convert-midi-single-channel-to-multiple/2372" />
<meta property="og:title" content="Convert midi single channel to multiple" />
<meta name="twitter:title" content="Convert midi single channel to multiple" />
<meta property="og:description" content="Hi,   I&#39;m wondering if it&#39;s possible to get data from a keyboard, with multiple notes on channel 1 on DIN MIDI IN and convert to multi channel notes up to a certain channel # on MIDI OUT. A round robin way. My interest is that Nord Drum 2 has some nice synth like modes where it expects a note on different channels (per voice) but my keyboard does not have built in MPE..." />
<meta name="twitter:description" content="Hi,   I&#39;m wondering if it&#39;s possible to get data from a keyboard, with multiple notes on channel 1 on DIN MIDI IN and convert to multi channel notes up to a certain channel # on MIDI OUT. A round robin way. My interest is that Nord Drum 2 has some nice synth like modes where it expects a note on different channels (per voice) but my keyboard does not have built in MPE..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 â¤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="2372.html">Convert midi single channel to multiple</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/patching.html" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/bafonso.html'><b itemprop='author'>bafonso</b></a>
           
           <time datetime='2016-10-11T00:41:56Z' itemprop='datePublished'>
             2016-10-11 00:41:56 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi,</p>

<p>I'm wondering if it's possible to get data from a keyboard, with multiple notes on channel 1 on DIN MIDI IN and convert to multi channel notes up to a certain channel # on MIDI OUT. A round robin way. My interest is that Nord Drum 2 has some nice synth like modes where it expects a note on different channels (per voice) but my keyboard does not have built in MPE...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Convert midi single channel to multiple'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-10-11T08:15:29Z' itemprop='datePublished'>
             2016-10-11 08:15:29 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ok, this is 'theoretically' trivial... what we can do is reuse the voice allocation done by axoloti, as midi channel allocation.<br>(building your own allocation scheme, would require a more complex patch, or your own object, and probably not necessary for your use)</p>

<p>the most efficient way to do this is with a midi script, but then it just ends up as C code, <br>... so i'll show another way <img src="../../images/emoji/emoji_one/slight_smile30f4.png?v=3" title=":slight_smile:" class="emoji" alt=":slight_smile:"> </p>

<p>a) create an embedded subpatch, make it poly with (e.g.) 16 voices<br>b) in this subpatch  connect a midi/in/keyb to midi/out/note</p>

<p>ok, now what we want to do, is use the voice's index (aka polyIndex) as the midi channel, <br>now you'll say, the issue is I cannot change the channel, on midi/out/note -  correct </p>

<p>so what we need to change the midi/out/note object... and create a specialisation.</p>

<p>so,  select the object, and select embed as object.</p>

<p>now here I have a choice, i could just 'hack it' or make a reusable (for me) variation, lets look at both approaches:</p>

<p>a) the 'hack' approach <br>i) edit the object<br>ii) delete attribute channel<br>iii) in the midi code , replace attr_channel - 1 with parent-&gt;polyIndex<br>(note: polyIndex is already 0 to 15, so we dont need the minus 1)</p>

<p>thats it, done</p>

<p>b) the improved object approach<br>i) edit the object<br>ii) delete attribute channel<br>iii) add a new inlet, called channel, and type int32 positive<br>iv) in the k-rate code , replace attr_channel - 1 with inlet_channel<br>(again polyIndex is already 0 to 15, so we dont need the minus 1)<br>v) then add a polyIndex object to the patch, and attach it to the channel inlet</p>

<p>thats it, done </p>

<p>both things do the same, just the latter allows you to mess about with channels, in the patch rather than editing the code.</p>

<p>the reason Ive shown this is,  ... you can see, it takes 15 seconds to create variations, <br>so in axoloti, we dont need 100's of varieties of objects in the factory (etc), with every possible variation... its so trivial to create our own variations. </p>

<p>I use this approach all the time. I don't bother saving these variations in my library (unless I plan to use on many project), I just simply embed the object. ... you can even cut n paste them between patches, if you need to reuse in one or two patches.</p>

<p>hopefully this is helpful <br>Mark</p>

<p>ps. I didn't actually test the above, so there may be some oddities I've not considered... but should give you basically what you need <img src="../../images/emoji/emoji_one/slight_smile30f4.png?v=3" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Convert midi single channel to multiple'>
      <hr>
            <a href="../usb-midi-controllers/19/198.html">USB Midi Controllers</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/reubenfinger.html'><b itemprop='author'>reubenfinger</b></a>
           
           <time datetime='2018-02-21T08:15:34Z' itemprop='datePublished'>
             2018-02-21 08:15:34 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello TB I have a digitakt and the above function (midi dispatcher) where each note press sends to a different channel would be very desirable for polyphonic play or for polyphonic aftertouch in the guitar mode of my matrix1000. </p>

<p>I am very new to Axoloti and have tried for a while now to implement both your hack and improved object approach, but I cannot get it to work. It is highly likely this is user error and me perhaps trying to run before I can walk.</p>

<p>Has anyone else tried to implement this function?</p>

<p>Bafonso did you get it working?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Convert midi single channel to multiple'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/reubenfinger.html'><b itemprop='author'>reubenfinger</b></a>
           
           <time datetime='2018-02-21T13:33:40Z' itemprop='datePublished'>
             2018-02-21 13:33:40 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>When I try to load the patch I get this error.....<br>Shell task failed exit level: 2</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Convert midi single channel to multiple'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/bafonso.html'><b itemprop='author'>bafonso</b></a>
           
           <time datetime='2018-02-21T14:21:30Z' itemprop='datePublished'>
             2018-02-21 14:21:30 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I ended up coding a new module myself. Unfortunately I didn't back it up so I lost it. <img src="../../images/emoji/twitter/frowningae52.png?v=5" title=":frowning:" class="emoji" alt=":frowning:">  I glanced at the midipal code for inspiration.  More than one person have asked me, maybe I will write the code again once I'm back home. Sorry I can't be of help now.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Convert midi single channel to multiple'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/reubenfinger.html'><b itemprop='author'>reubenfinger</b></a>
           
           <time datetime='2018-02-21T15:39:58Z' itemprop='datePublished'>
             2018-02-21 15:39:58 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Awesome that you had some success, I am a code novice but I could take a look at the midipal code too I guess.<br>Losing modules must be a nightmare. Thankyou for getting back to me though...at least now I know it's possible, and hopefully the midipal code will make some sense to me...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Convert midi single channel to multiple'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/bafonso.html'><b itemprop='author'>bafonso</b></a>
           
           <time datetime='2018-02-21T17:11:57Z' itemprop='datePublished'>
             2018-02-21 17:11:57 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Well, just my luck I happened to have it in my downloads folder which is the only one not backed up with time machine... Let's just say I would do it differently. <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"> </p>

<p>Fundamentally, It boils down to building a container (array) into where you store what notes are being played in what channel. And then you need to decide how you handle when you have more notes than polyphony, ie, do you replace the oldest note, or the highest/lowest pitch, etc. I can look at this in a couple of weeks, not before. It's a good coding exercise though <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Convert midi single channel to multiple'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/reubenfinger.html'><b itemprop='author'>reubenfinger</b></a>
           
           <time datetime='2018-02-21T20:22:43Z' itemprop='datePublished'>
             2018-02-21 20:22:43 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thank you again for the help, and for detailing the rough concept, I sincerely appreciate it. I'll do my best to cobble something together....with the directions you've given hopefully at least I can get myself safely out of the downloads folder and into that time machine</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Convert midi single channel to multiple'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/tob_har.html'><b itemprop='author'>tob_har</b></a>
           
           <time datetime='2018-05-09T05:45:27Z' itemprop='datePublished'>
             2018-05-09 05:45:27 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="4" data-topic="2372"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v2/letter/r/82dd89/40.png" class="avatar">reubenfinger:</div>
<blockquote><p>Shell task failed exit level: 2</p></blockquote></aside>

<p>Marks tip works perfeclty well! <br>I tried the second approach, improving the obejct. </p>

<p>You have to make sure, that you replace "attr_channel - 1" with "inlet_channel" everywhere in the code!!! It appears several (two?) times. Thats it.<br>... and thanks a lot, Mark for your Tip. Very helpful while leraning Axoloti.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Convert midi single channel to multiple'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/austingreen.html'><b itemprop='author'>austingreen</b></a>
           
           <time datetime='2018-12-02T04:49:37Z' itemprop='datePublished'>
             2018-12-02 04:49:37 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey I have a Nord Drum 2 too and also wanted to use as a poly synth, so this is working great following technobear's instructions!  Saved me from having to buy a midipal descendant! First time i've edited an object too!  Now hopefully i can do some more customizing. </p>

<p>It works almost as expected though there's one weirdness, i have the patch/patcher embedded subpatch in polyphonic mode with 6 notes because that's all the Nord Drum has. Everything works fine, (sometimes I'm not sure why it chooses a channel but it works for my purposes regardless of what channel it plays,)  and when I hit a 7th or 8th note, it does nothing as expected. But if I release the 7th or 8th note, it will send a note off on a (seemingly random) previous 1-6 channel. </p>

<p>I think it's fine, I'll just not hit more than six notes at a time, plus the sounds I'll be using on the nord won't have super long sustains, maybe it won't even be noticed. I just thought it was weird behavior.</p>

<p>Anyhow, thanks to all in this thread for the help!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Convert midi single channel to multiple'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/convert-midi-single-channel-to-multiple/2372 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:41:50 GMT -->
</html>
