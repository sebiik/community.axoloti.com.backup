<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/soundfont-playing/4237 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:03:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Soundfont playing - AxoObject coding - Axoloti Community</title>
    <meta name="description" content="Hey guys, fairly new to the axoloti and have done some stuff with script objects for a previous project (hammond organ emulator using uart and midi for control interfaces) and want to try making an object to load and pla&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="4237.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Soundfont playing&#39;" href="4237.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/soundfont-playing/4237" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/soundfont-playing/4237" />
<meta property="og:title" content="Soundfont playing" />
<meta name="twitter:title" content="Soundfont playing" />
<meta property="og:description" content="Hey guys, fairly new to the axoloti and have done some stuff with script objects for a previous project (hammond organ emulator using uart and midi for control interfaces) and want to try making an object to load and play sf2 files using the tinysoundfont library (short term goal is to implement tsf and load slender salamander grand piano). I can probably figure out the patch I/O part of the object definition, and the tsf implementation, but would tsf be technically feasible to implement and if ..." />
<meta name="twitter:description" content="Hey guys, fairly new to the axoloti and have done some stuff with script objects for a previous project (hammond organ emulator using uart and midi for control interfaces) and want to try making an object to load and play sf2 files using the tinysoundfont library (short term goal is to implement tsf and load slender salamander grand piano). I can probably figure out the patch I/O part of the object definition, and the tsf implementation, but would tsf be technically feasible to implement and if ..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="3 â¤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="4237.html">Soundfont playing</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/axoobject-code.html" itemprop="url">
        <span itemprop="title">AxoObject coding</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/watamacha.html'><b itemprop='author'>watamacha</b></a>
           
           <time datetime='2018-02-15T21:18:21Z' itemprop='datePublished'>
             2018-02-15 21:18:21 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey guys, fairly new to the axoloti and have done some stuff with script objects for a previous project (hammond organ emulator using uart and midi for control interfaces) and want to try making an object to load and play sf2 files using the tinysoundfont library (short term goal is to implement tsf and load slender salamander grand piano). I can probably figure out the patch I/O part of the object definition, and the tsf implementation, but would tsf be technically feasible to implement and if so, how do I go about including tsf.h?</p>

<p>edit for clarity: tsf appears to require the inclusion of tsf.h, as well as another file like tsfi.h that implements tsf.h. I can probably figure out what to put in tsfi.h, but need to know where to put the 2 files, how to get the object to look for them, and how to get the object to look for an sf2 file in the current directory (though I can probably steal the last bit from the wav sample loading code).</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Soundfont playing'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/janvantomme.html'><b itemprop='author'>janvantomme</b></a>
           
           <time datetime='2018-02-15T21:51:11Z' itemprop='datePublished'>
             2018-02-15 21:51:11 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Take a look at <strong>tb/midi/ctrl/push.axo</strong> in the community library. That object includes .h and .c files from a directory at the same level of the object.</p>

<p>You can probably load the sf2 file from that same directory. It might be easier to reference it from a filename field, so it gets uploaded to the SD card automatically when you press the live button. See the file chooser XML from <strong>table/alloc 16b sdram load</strong> for instance.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Soundfont playing'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/watamacha.html'><b itemprop='author'>watamacha</b></a>
           
           <time datetime='2018-02-15T22:03:31Z' itemprop='datePublished'>
             2018-02-15 22:03:31 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>awesome, this is exactly what I needed. I'll take a stab at it later tonight, I suspect the biggest concern is whether tsf.h provides efficient handling of loading/unloading samples, which I assume it does in some way (havent looked too much into this yet). If not, I may try to tackle a simpler and less fully featured soundfont implementation from the sf2 spec.</p>

<p>On a broader note, has a soundfont implementation on axo been attempted in the past? it seems like a pretty useful object so if its been considered but not done for technical reasons itd be interesting to know why. I'm not too well versed in low level coding (correction, C is apparently high level, but about as low as high level can get), but have a decent background in discrete math which I'm hoping is enough to tackle it.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Soundfont playing'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/exmachina.html'><b itemprop='author'>exmachina</b></a>
           
           <time datetime='2018-02-15T23:22:06Z' itemprop='datePublished'>
             2018-02-15 23:22:06 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm not a coder, but I am glad you decided to tackle the subject! I'm very keen for such an object!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Soundfont playing'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/toneburst.html'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2018-02-16T16:15:14Z' itemprop='datePublished'>
             2018-02-16 16:15:14 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>C is quite low-level, but fortunately, it doesn't seem to be necessary to deal with manual memory-management on the Axoloti. That's the stuff in C that always scared me.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Soundfont playing'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/watamacha.html'><b itemprop='author'>watamacha</b></a>
           
           <time datetime='2018-02-16T16:38:59Z' itemprop='datePublished'>
             2018-02-16 16:38:59 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../u/toneburst.html">@toneburst</a> I'm still working through the kinks of object coding (I'm fine on the script part but still a little unfamiliar with most of the object definition stuff), but the main memory issue I can foresee is too many samples being loaded. I think the best workaround is to find some way to determine which samples are more important to load, and limit the amount of samples loaded per sf2 instrument, though I havent looked enough into tsf to know if thats easy or not. I think in most cases its fair to assume memory is a far more relevant limit than dsp power for soundfonts. While there's probably not a lot of direct memory management necessary, there will at least need to be some reduction of sample loading.</p>

<p>The big question, which I'll be able to answer more after some testing, is whether the average soundfont still produces usable results when enough of the font is ignored to run reasonably on the axo. The main trick I plan on using is prioritizing limitation on instrument zones before limiting samples within zones if possible, since one or 2 octaves of good sound is probably more useful than a full 88 of obviously stretched and squished samples. My understanding so far is that itd probably be pretty easy to map stuff like that to attributes for testing purposes</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Soundfont playing'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/toneburst.html'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2018-02-16T18:33:03Z' itemprop='datePublished'>
             2018-02-16 18:33:03 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Might be easier to create on offline script in your high-level language of choice to parse a soundfont, and create an Axoloti patch from it using factory objects and binary table files for the samples.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Soundfont playing'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/toneburst.html'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2018-02-16T18:34:55Z' itemprop='datePublished'>
             2018-02-16 18:34:55 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thereâ€™s an open-source project that does something similar with patches for the Nord Modular G2, parsing them and converting them into CSound scripts.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Soundfont playing'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/toneburst.html'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2018-02-16T18:44:05Z' itemprop='datePublished'>
             2018-02-16 18:44:05 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Come to thank of it, if someone created a set of objects to emulate the G1/G2 modules, you could write a script to do the same, but to Axoloti patches (assuming the Nord patch file format is documented).</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Soundfont playing'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/watamacha.html'><b itemprop='author'>watamacha</b></a>
           
           <time datetime='2018-02-16T19:28:58Z' itemprop='datePublished'>
             2018-02-16 19:28:58 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'd prefer to work strictly in a .axo since I'd like to make this as easy for others to implement as possible as well as teach myself more about .axo's since I have a couple broader projects in mind that would need that. As far as the nord modular thing goes, couldnt you just include the csound.h header and directly implement the modular to csound code?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Soundfont playing'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/toneburst.html'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2018-02-16T19:47:39Z' itemprop='datePublished'>
             2018-02-16 19:47:39 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>CSound isnâ€™t designed for embedded systems. I very much doubt any of it would work on Axoloti.</p>

<p>Thereâ€™s a massive difference between the processing power, RAM etc. available to a desktop application and even a relatively powerful MCU-based system like the Axoloti.</p>

<p>Itâ€™s a long way even from something like a Raspberry Pi, in terms of capability.</p>

<p>Not to say thereâ€™s not a lot of cool stuff that can be done with it, of course.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Soundfont playing'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/toneburst.html'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2018-02-16T19:53:06Z' itemprop='datePublished'>
             2018-02-16 19:53:06 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The problem with making a Soundfont object is that to get it to work as a stand-alone thing, youâ€™d inevitably end up rolling the functionality of a whole raft of existing factory objects into a monolithic single object which is essentially a black box.</p>

<p>This kind of goes against the modular philosophy of the patcher environment.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Soundfont playing'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/soundfont-playing/4237 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:03:48 GMT -->
</html>
