<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/help-driving-a-pot-and-pwm-dac/7926 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:00:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>[help] Driving a pot (and pwm dac) - Hardware - Axoloti Community</title>
    <meta name="description" content="I&amp;#39;m trying to mod a monotron Duo so I can sequence it from Axoloti (and generally just midi→cv the thing.) So far I&amp;#39;ve got control of the keyboard and the cutoff, but in order to be really useful, I at least need to be a&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="7926.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;[help] Driving a pot (and pwm dac)&#39;" href="7926.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/2X/9/93f7116430bf3062629be1901ee37a06c4e66892.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/2X/9/93f7116430bf3062629be1901ee37a06c4e66892.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/help-driving-a-pot-and-pwm-dac/7926" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/help-driving-a-pot-and-pwm-dac/7926" />
<meta property="og:title" content="[help] Driving a pot (and pwm dac)" />
<meta name="twitter:title" content="[help] Driving a pot (and pwm dac)" />
<meta property="og:description" content="I&#39;m trying to mod a monotron Duo so I can sequence it from Axoloti (and generally just midi→cv the thing.) So far I&#39;ve got control of the keyboard and the cutoff, but in order to be really useful, I at least need to be able to manipulate the pitch control since the keyboard is a single octave.   The device runs on 2xAA (I&#39;m powering from the Axoloti to prevent accidents) and runs the logic on 3.36v. Keyboard and cutoff are conveniently on the 3.36v rail, but the pitch knob is on a 5v rail, VCC h..." />
<meta name="twitter:description" content="I&#39;m trying to mod a monotron Duo so I can sequence it from Axoloti (and generally just midi→cv the thing.) So far I&#39;ve got control of the keyboard and the cutoff, but in order to be really useful, I at least need to be able to manipulate the pitch control since the keyboard is a single octave.   The device runs on 2xAA (I&#39;m powering from the Axoloti to prevent accidents) and runs the logic on 3.36v. Keyboard and cutoff are conveniently on the 3.36v rail, but the pitch knob is on a 5v rail, VCC h..." />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="7926.html">[help] Driving a pot (and pwm dac)</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/hardware.html" itemprop="url">
        <span itemprop="title">Hardware</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/rook.html'><b itemprop='author'>rook</b></a>
           
           <time datetime='2023-02-27T00:25:16Z' itemprop='datePublished'>
             2023-02-27 00:25:16 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm trying to mod a monotron Duo so I can sequence it from Axoloti (and generally just midi→cv the thing.) So far I've got control of the keyboard and the cutoff, but in order to be really useful, I at least need to be able to manipulate the pitch control since the keyboard is a single octave.</p>

<p>The device runs on 2xAA (I'm powering from the Axoloti to prevent accidents) and runs the logic on 3.36v. Keyboard and cutoff are conveniently on the 3.36v rail, but the pitch knob is on a 5v rail, VCC here:</p>

<p><img src="../../uploads/default/original/2X/9/93f7116430bf3062629be1901ee37a06c4e66892.png" width="359" height="237"></p>

<p>Schematic at the bottom of: <a href="https://www.korg.com/us/products/dj/monotron/page_3.php" rel="nofollow noopener">https://www.korg.com/us/products/dj/monotron/page_3.php</a> ("DUO") Nb. the "pitch" label is a computer controlled thing, not visibly exposed, and probably not something I would have any luck messing with. "Knob" is the input.</p>

<p>Perhaps this was doomed to fail, but I put a PN2222 across vcc and the wiper leg of the pot, with one of the PA dac outputs on the base. I do get some range out of it, but not nearly the full range. Reducing the base resistor had little effect, but the Duo did start misbehaving a little. Like the voice gate was left open. I couldn't tell you if that's a charged up capacitor somewhere, a really confused MCU, or both. (The "knob" label goes off to the MCU.)</p>

<p>So am I taking the right approach and just missing something, or is this doomed to fail? I am not experienced in building this kind of thing, and "soldering transistors to pots" isn't in the 101 material.</p>

<p>I'm also going to need to do the pwm dac thing and the only reason I bring it up is I'll be looking to use it on this pot (and others.) I'm fairly confident the filter itself is going to behave, I just want to mention it in case there might be some interaction that I should account for in the final design. I don't expect interaction, but at the end of the day idk what I'm doing.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='[help] Driving a pot (and pwm dac)'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/sebiiksbcs.html'><b itemprop='author'>sebiiksbcs</b></a>
           
           <time datetime='2023-03-02T13:53:11Z' itemprop='datePublished'>
             2023-03-02 13:53:11 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I am not familiar with the monotron or how pitch vc is realized with it but are you sure you need a pwm DAC for it? The axo has two configurable 12bit DAC outputs and a convenient object to go with them.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='[help] Driving a pot (and pwm dac)'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/rook.html'><b itemprop='author'>rook</b></a>
           
           <time datetime='2023-03-02T17:36:32Z' itemprop='datePublished'>
             2023-03-02 17:36:32 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Normally you'd be right, but I'll be using those outputs for other things. It might make sense to shuffle things around, but in the end I have a few pots I'd like to do this with (in the same patch) so at least one will need the pwm dac treatment. For the moment I am using one of the regular dac outputs to experiment.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='[help] Driving a pot (and pwm dac)'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/yizhiqi.html'><b itemprop='author'>yizhiqi</b></a>
           
           <time datetime='2023-03-06T13:13:18Z' itemprop='datePublished'>
             2023-03-06 13:13:18 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Around 10 years ago I had a plan to use arduino and a bunch of high precision DAC to control Monotron DUO (before I successfully modified other two monotrons this way easily). Then I started reverse engineering DUO model and realized how much work it needs then gave up.</p>

<p>I assume that there is no easy way (without heavy modifications of original circuit).<br>Here is some moments I remember. (Disclaimer. I'm not an engineer, just hobbyist)</p>

<p>First, the gate control. There is a risk. Lets assume that the pin IC2 P1.3 when there is no gate this pin is in open drain mode (otherwise it could be in hi-z mode which is basically floating pin which might bring false triggering), which means that if you try to supply voltage directly to the pin (or testing point) and voltage source is capable of producing more than 20 mA current you can burn the MCU (or particular pin). Need to double check this before using 'raw' external gate.</p>

<p>Second. Pitch. Oh, honestly I don't understand schematic completely (because i'm zero in understanding transistors). But the master pitch control is a voltage divider/mixer with inverting amplifier, it is supposed to produce some offset (like octave switch but smooth), this is very clear. Then signal from MCU TA0.1 which is only provides one octave range shift signal (either provides PWM or real DAC don't remember, need to check data sheet of MSP430G2231). Anyway it also somehow processed with IC3B adding offset and gain and then finally mixes together. If I remember correctly I checked voltage at the joint between Q1 and Q2 under different conditions (like position of master pitch and ribbon stripe) and found out that voltage changes there are extremely little. Which makes me think that VCO are controlled with current not a voltage.<br>Possible solution would be to unsolder Q2 and R23 and then experimenting with some diy made voltage to current converter.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='[help] Driving a pot (and pwm dac)'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/rook.html'><b itemprop='author'>rook</b></a>
           
           <time datetime='2023-03-06T22:21:02Z' itemprop='datePublished'>
             2023-03-06 22:21:02 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks, I hadn't looked at that. I was looking at getting the MCU to do it's usual job by controlling its inputs, but maybe going a little deeper will work. (Someone somewhere said something about SAW2 being what you needed to patch into, but that looks a little too deep into VCO2 to me.)</p>

<p>As for gate, I haven't been using it. Vrib on A0 (adc10) is getting the MCU to generate the gate, which seems logical from the schematic.I think Vrib is all I need for the keyboard, but I haven't fully mapped it (planning on getting pitch knob working first) so I can't say that definitively.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='[help] Driving a pot (and pwm dac)'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/help-driving-a-pot-and-pwm-dac/7926 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:00:22 GMT -->
</html>
