<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Midi controller values incorrect when starting up axoloti</title>
    <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915</link>
    <description>Hello, I&#39;ve connected a midi controller to my axoloti using the 5pin midi input pins but when I start up the axoloti the values of each knob on the controller are all incorrect....

If I fiddle with each knob (there are 12) they immediately correct themselves right away but it&#39;s a huge pain in the butt...especially annoying if the settings were recently set to something I liked..

Is there any way to configure the axoloti to read the values of the midi controller on startup automatically?</description>
    
    <lastBuildDate>Fri, 07 Sep 2018 18:19:12 +0000</lastBuildDate>
    <category>Helpdesk</category>
    <atom:link href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@Androoclops]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/androoclops">@Androoclops</a> wrote:</p>
          <blockquote>
              <p>Kickass! I can't wait to try this out this weekend.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/34">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/34</link>
        <pubDate>Fri, 07 Sep 2018 18:19:12 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-34</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@MattilynMattroe]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/mattilynmattroe">@MattilynMattroe</a> wrote:</p>
          <blockquote>
              <p>PS many thanks to rbrt for all your objects, I use them in every patch!</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/33">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/33</link>
        <pubDate>Fri, 07 Sep 2018 17:36:23 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-33</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@MattilynMattroe]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/mattilynmattroe">@MattilynMattroe</a> wrote:</p>
          <blockquote>
              <p>I put together the above to show the table storage, and added a bit about using tcopy to save/load tables on the fly without glitches.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/32">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/32</link>
        <pubDate>Fri, 07 Sep 2018 17:27:25 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-32</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@MattilynMattroe]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/mattilynmattroe">@MattilynMattroe</a> wrote:</p>
          <blockquote>
              <p><a class="attachment" href="//community.axoloti.com/uploads/default/original/2X/b/b3d37df3f25e15486efc8f23d27e3a3bc57646a8.axp">using tables to store controller settings.axp</a> (14.7 KB)</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/31">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/31</link>
        <pubDate>Fri, 07 Sep 2018 17:25:52 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-31</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@Androoclops]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/androoclops">@Androoclops</a> wrote:</p>
          <blockquote>
              <p>Awesooome!! I can't wait to make some tutorials for these things!</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/30">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/30</link>
        <pubDate>Fri, 07 Sep 2018 14:02:32 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-30</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@MattilynMattroe]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/mattilynmattroe">@MattilynMattroe</a> wrote:</p>
          <blockquote>
              <p>I'll make an example next time I'm at my pc and post it.</p>

<p>For me the table method is great because I want the patch to load with my last used settings. I use my controllers with other equipment/patches and so the knobs are rarely in the same positions as they were when I last used a patch. But I can see why you want it to match the controller, it gives you that 'what you see is what you get' thing.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/29">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/29</link>
        <pubDate>Fri, 07 Sep 2018 08:55:46 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-29</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@Androoclops]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/androoclops">@Androoclops</a> wrote:</p>
          <blockquote>
              <p>The ability to save the values is DEFINITELY something I want to do. Do you have an example patch of this? </p>

<p>For this case though, youre correct. I'm concerned that the knobs may be moved while the axoloti is switched off but also want to ensure that the previous values are retained without having to manually save them as I'm pretty forgetful...one day I'll try to figure out how to set up a table to save values then add a knob and LCD screen so I can flip through them....not yet though!</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/28">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/28</link>
        <pubDate>Thu, 06 Sep 2018 20:01:15 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-28</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@Androoclops]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/androoclops">@Androoclops</a> wrote:</p>
          <blockquote>
              <p>Ahhrg yeah I tried a few time through a few different channels but no response from him . Hopefully I can catch him on a livecast one day....also haven't got to test out the new code yet, just wired up a protoboard for switches and LEDs today before work...so excited to have a shitload of switches yeeeheee!</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/27">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/27</link>
        <pubDate>Thu, 06 Sep 2018 19:34:09 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-27</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>it is for sure a possibility, but as you write yourself, not ideal if a pot gets moved when power is off. then again, your method might even be more "wanted" because it eliminates the accidental pot turn preset messup <img src="//community.axoloti.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/26">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/26</link>
        <pubDate>Thu, 06 Sep 2018 13:53:48 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-26</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@MattilynMattroe]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/mattilynmattroe">@MattilynMattroe</a> wrote:</p>
          <blockquote>
              <p>Hi, have you thought about storing your controller data in a table? That was my solution to retaining settings on startup...</p>

<p>I basically send all my controllers through objects that stores the values in a table on the sdcard. Then, before I turn off the axoloti I press a button that saves the table (saving all the controller data). Then when I turn on the axoloti it automatically restores the settings. I think this should do what you want, with the exception that if you move the controller while the axoloti is off it won't pick that up on startup. But it will retain the  controller values exactly as you had them when you turned off.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/25">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/25</link>
        <pubDate>Thu, 06 Sep 2018 09:46:08 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-25</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>you could also write to the notes and volts guy, he is usually pretty responsive and ask him if he could add a "send all controller values on startup" option to the library. describe your use case...</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/24">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/24</link>
        <pubDate>Thu, 06 Sep 2018 07:50:50 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-24</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@Androoclops]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/androoclops">@Androoclops</a> wrote:</p>
          <blockquote>
              <p>Siiick. Ill give it a shot tomorrow, have fun and that is for the help!</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/23">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/23</link>
        <pubDate>Thu, 06 Sep 2018 06:35:29 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-23</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="21" data-topic="4915"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/androoclops/40/4538_1.png" class="avatar">Androoclops:</div>
<blockquote><p>as for the other problem could I add a timer that counts down before the other code starts in order to allow some time for the axoloti to start up?</p></blockquote></aside>

<p>yes, you can add a delay in the setup routine, that waits until the axoloti is ready. put a </p>

<p><code>delay(4000);</code></p>

<p>after the <code>MIDI.begin</code> line.</p>

<p>this should make it sit there for 4000ms (4 seconds). best is to measure the time until the axoloti gets ready (leds stop flashing) and add some little time to that measurement.</p>

<p>also, can you try this code in setup and tell me if it sends something on startup now? (after 4 seconds)</p>

<pre><code>void setup() {
  MIDI.begin(MIDI_CHANNEL_OFF);
  delay(4000);
  MIDI.sendControlChange(20,127,1);
}</code></pre>

<p>this should just send a cc 20 message on channel 1</p>

<p>unfortunately i leave for a 10 days tour friday night and will not be able to help you further until i get back...</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/22">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/22</link>
        <pubDate>Thu, 06 Sep 2018 06:20:36 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-22</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@Androoclops]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/androoclops">@Androoclops</a> wrote:</p>
          <blockquote>
              <p>Hmm using the Arduino serial monitor it does not seem to send anything until I fiddle with the pots....as for the other problem could I add a timer that counts down before the other code starts in order to allow some time for the axoloti to start up?</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/21">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/21</link>
        <pubDate>Thu, 06 Sep 2018 00:33:38 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-21</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="16" data-topic="4915" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/androoclops/40/4538_1.png" class="avatar">Androoclops:</div>
<blockquote><p>I'm using a rotary switch but in the Arduino code the mode would be set to toggle...or would that have to be set to momentary?</p></blockquote></aside>

<p>you would need multiple inputs for one rotary switch (or one analog input and some resistors)</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/20">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/20</link>
        <pubDate>Wed, 05 Sep 2018 15:13:50 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-20</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>ok, well the problem is at least twofold:</p>

<p>1) the controller has to send all the pot positions on startup (of the controller) so that the axoloti patch matches the pot positions<br>2) the controller has to be powered on after the axoloti (and the patch is loaded) so that the axoloti is ready to receive all this midi info and adjust the patch accordingly.</p>

<p>since midi is a one way protocol, there is no way for your controller to know when the axoloti is ready...</p>

<p>for 1)</p>

<p>at this point please check if the arduino sends midi on startup by connecting it to a pc and a midi monitoring program. </p>

<p>for 2)</p>

<p>i don't know about this in your setup, so leave that uncommented</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/19">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/19</link>
        <pubDate>Wed, 05 Sep 2018 15:09:58 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-19</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@Androoclops]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/androoclops">@Androoclops</a> wrote:</p>
          <blockquote>
              <p>alrighty, tried it out, didnt work but on start up but the controller still functions. I wish I knew how to code, I seem to understand the problem, that the controlleris waiting for the value for the pot to change before it would send the first value to the controller axoloti. I guess the solution would be to have it get current values of the pots on startup and send them to the controller, then begin its loop where it sends midi notes when changed...</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/18">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/18</link>
        <pubDate>Wed, 05 Sep 2018 14:44:57 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-18</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@Androoclops]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/androoclops">@Androoclops</a> wrote:</p>
          <blockquote>
              <p>And for the other switches to switch between say two different options I'm just using spdt switches with the + in on the middle pole and the others go to resistors going to ground/a digital multiplexer that sends it's signals to the Arduino pin number 10... also for things that are on/off, rather than using resistors im using leds.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/17">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/17</link>
        <pubDate>Wed, 05 Sep 2018 14:14:20 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-17</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@Androoclops]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/androoclops">@Androoclops</a> wrote:</p>
          <blockquote>
              <p>I'm using a rotary switch but in the Arduino code the mode would be set to toggle...or would that have to be set to momentary?</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/16">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/16</link>
        <pubDate>Wed, 05 Sep 2018 14:09:30 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-16</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <aside class="quote" data-post="14" data-topic="4915"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/androoclops/40/4538_1.png" class="avatar">Androoclops:</div>
<blockquote><p>switching between thing (like choosing between trip,saw,square waveforms)</p></blockquote></aside>

<p>how are you planing on switching more then two states with a toggle switch? or more precisely, how do you expect to sync the controller and the axoloti in that regard on startup? because the switch has only two states, there is no way for the arduino to know which waveform should be choosen on the axoloti on startup. unless you move the whole switching logic to the arduino and send a different value of the same cc message for each waveform:</p>

<p>sine: cc20 value 1<br>tri: cc20 value 2 etc.</p>

<p>but then you will have to save the state of the switch in eeprom on the arduino, and recall it on boot up. you will also need some kind of display for the buttons (leds or similar) otherwise you will not be able to see which waveform you have selected.</p>

<p>all in all, maybe it would be easier to use a rotary switch for the waveform choosing, you will need additional digital ins, but i think you have them available on the uno or your multiplexer.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/15">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/15</link>
        <pubDate>Wed, 05 Sep 2018 07:29:10 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-15</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@Androoclops]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/androoclops">@Androoclops</a> wrote:</p>
          <blockquote>
              <p>Sweeeeet, I'll give this a shot asap. Hopefully tomorrow morning!</p>

<p>I have a bunch of switches I'm using right now. I'll be using them to turn various things on/off as well as switching between thing (like choosing between trip,saw,square waveforms) ......I'm guessing they need to be toggle switches that turn on midi cc notes...when those notes are active/inactive I can set up my patch to toggle things on/off</p>

<p>Edit for clarification: the switches I'm using are all toggle switches.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/14">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/14</link>
        <pubDate>Tue, 04 Sep 2018 22:01:45 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-14</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>ok, well definitely leave it in the loop, or it will not run after setup (as you found out)</p>

<p>had another look at the code, the problem is, that it only sends midi out, when the pots are turned (otherwise it would send midi messages all the time)</p>

<p>you basically have to write additional functions that make sure the pots are read on init (even though they did not move)</p>

<p>what about the switches? are those toggles or momentary switches? what do you change with them?</p>

<p>but let's first take care of the pots:</p>

<p>add these lines to the very end of the arduino sketch:</p>

<pre><code>void updateMuxPotsInit() {
  for (int i = 0; i &lt; NUMBER_MUX_POTS; i = i + 1) {
    MUXPOTS[i]-&gt;muxUpdate();
    byte potmessage = MUXPOTS[i]-&gt;getValueInit();
    if (potmessage != 255) MIDI.sendControlChange(MUXPOTS[i]-&gt;Pcontrol, potmessage, MUXPOTS[i]-&gt;Pchannel);
  }</code></pre>

<p>}</p>

<p>the void setup() should look like this:</p>

<pre><code>void setup() {
  MIDI.begin(MIDI_CHANNEL_OFF);
  if (NUMBER_MUX_POTS != 0) updateMuxPotsInit();
}</code></pre>

<p>then also add this function to the Controller.cpp file (after line 156):</p>

<pre><code>byte Pot::getValueInit()
{
  _value = analogRead(_pin);
    return _value &gt;&gt; 3;
}</code></pre>

<p>and add to Controller.h, after line 53:</p>

<p><code>byte getValueInit();</code></p>

<p>that should/could do it.</p>

<p>unfortunately i cannot test this, but let me know if it works <img src="//community.axoloti.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/13">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/13</link>
        <pubDate>Tue, 04 Sep 2018 21:36:55 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-13</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@Androoclops]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/androoclops">@Androoclops</a> wrote:</p>
          <blockquote>
              <p>Just tried it now. First I tried moving the lines by cutting the "if" lines of code and pasting them into the setup function but doing that resulted in the controller not working at all...I then tried copying and pasting the "if" lines into the setup function instead and the controller worked but did not send the values on start up...I also tried both of these options with and without the loadbang object but had the same results either way. Blarrg <img src="//community.axoloti.com/images/emoji/twitter/frowning.png?v=5" title=":frowning:" class="emoji" alt=":frowning:"></p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/12">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/12</link>
        <pubDate>Tue, 04 Sep 2018 16:34:32 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-12</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>ok, have you tried my suggestion of copying the code into the setup part? (but leave the code in the loop untouched)</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/11">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/11</link>
        <pubDate>Tue, 04 Sep 2018 06:39:44 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-11</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
      <item>
        <title>Midi controller values incorrect when starting up axoloti</title>
        <dc:creator><![CDATA[@Androoclops]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/androoclops">@Androoclops</a> wrote:</p>
          <blockquote>
              <p>Here's what my code ended up looking like in the end</p>

<pre><code>#include &lt;MIDI.h&gt;
#include "Controller.h"

/*************************************************************
  MIDI CONTROLLER

  by Notes and Volts
  www.notesandvolts.com

  Version 1.2 **Arduino UNO ONLY!**
 *************************************************************/

MIDI_CREATE_DEFAULT_INSTANCE();

//************************************************************
//***SET THE NUMBER OF CONTROLS USED**************************
//************************************************************
//---How many buttons are connected directly to pins?---------
byte NUMBER_BUTTONS = 0;
//---How many potentiometers are connected directly to pins?--
byte NUMBER_POTS = 0;
//---How many buttons are connected to a multiplexer?---------
byte NUMBER_MUX_BUTTONS = 6;
//---How many potentiometers are connected to a multiplexer?--
byte NUMBER_MUX_POTS = 12;
//************************************************************

//***ANY MULTIPLEXERS? (74HC4067)************************************
//MUX address pins must be connected to Arduino UNO pins 2,3,4,5
//A0 = PIN2, A1 = PIN3, A2 = PIN4, A3 = PIN5
//*******************************************************************
//Mux NAME (OUTPUT PIN, , How Many Mux Pins?(8 or 16) , Is It Analog?);


Mux M1(10, 16, false); //Digital multiplexer on Arduino pin 10
Mux M2(A5, 16, true); //Analog multiplexer on Arduino analog pin A0
//*******************************************************************


//***DEFINE DIRECTLY CONNECTED POTENTIOMETERS************************
//Pot (Pin Number, Command, CC Control, Channel Number)
//**Command parameter is for future use**

//Pot PO1(A0, 0, 1, 1);
//Pot PO2(A1, 0, 10, 1);
//Pot PO3(A2, 0, 22, 1);
//Pot PO4(A3, 0, 118, 1);
//Pot PO5(A4, 0, 30, 1);
//Pot PO6(A5, 0, 31, 1);
//*******************************************************************
//Add pots used to array below like this-&gt;  Pot *POTS[] {&amp;PO1, &amp;PO2, &amp;PO3, &amp;PO4, &amp;PO5, &amp;PO6};
Pot *POTS[] {};
//*******************************************************************


//***DEFINE DIRECTLY CONNECTED BUTTONS*******************************
//Button (Pin Number, Command, Note Number, Channel, Debounce Time)
//** Command parameter 0=NOTE  1=CC  2=Toggle CC **

//Button BU1(2, 0, 60, 1, 5 );
//Button BU2(3, 0, 61, 1, 5 );
//Button BU3(4, 0, 62, 1, 5 );
//Button BU4(5, 0, 63, 1, 5 );
//Button BU5(6, 0, 64, 1, 5 );
//Button BU6(7, 0, 65, 1, 5 );
//Button BU7(8, 1, 64, 1, 5 );
//Button BU8(9, 2, 64, 1, 5 );
//*******************************************************************
//Add buttons used to array below like this-&gt;  Button *BUTTONS[] {&amp;BU1, &amp;BU2, &amp;BU3, &amp;BU4, &amp;BU5, &amp;BU6, &amp;BU7, &amp;BU8};
Button *BUTTONS[] {};
//*******************************************************************


//***DEFINE BUTTONS CONNECTED TO MULTIPLEXER*************************
//Button::Button(Mux mux, byte muxpin, byte command, byte value, byte channel, byte debounce)
//** Command parameter 0=NOTE  1=CC  2=Toggle CC **

Button MBU1(M1, 0, 0, 70, 1, 5);
Button MBU2(M1, 1, 1, 71, 1, 5);
Button MBU3(M1, 2, 2, 72, 1, 5);
Button MBU4(M1, 3, 0, 73, 1, 5);
Button MBU5(M1, 4, 0, 74, 1, 5);
Button MBU6(M1, 5, 0, 75, 1, 5);
//Button MBU7(M1, 6, 0, 76, 1, 5);
//Button MBU8(M1, 7, 0, 77, 1, 5);
//Button MBU9(M1, 8, 0, 78, 1, 5);
//Button MBU10(M1, 9, 0, 79, 1, 5);
//Button MBU11(M1, 10, 0, 80, 1, 5);
//Button MBU12(M1, 11, 0, 81, 1, 5);
//Button MBU13(M1, 12, 0, 82, 1, 5);
//Button MBU14(M1, 13, 0, 83, 1, 5);
//Button MBU15(M1, 14, 0, 84, 1, 5);
//Button MBU16(M1, 15, 0, 85, 1, 5);
//*******************************************************************
////Add multiplexed buttons used to array below like this-&gt;  Button *MUXBUTTONS[] {&amp;MBU1, &amp;MBU2, &amp;MBU3, &amp;MBU4, &amp;MBU5, &amp;MBU6.....};
Button *MUXBUTTONS[] {&amp;MBU1, &amp;MBU2, &amp;MBU3, &amp;MBU4, &amp;MBU5, &amp;MBU6};

//*******************************************************************


//***DEFINE POTENTIOMETERS CONNECTED TO MULTIPLEXER*******************
//Pot::Pot(Mux mux, byte muxpin, byte command, byte control, byte channel)
//**Command parameter is for future use**

Pot MPO1(M2, 0, 0, 100, 1);
Pot MPO2(M2, 1, 0, 101, 1);
Pot MPO3(M2, 2, 0, 102, 1);
Pot MPO4(M2, 3, 0, 103, 1);
Pot MPO5(M2, 4, 0, 104, 1);
Pot MPO6(M2, 5, 0, 105, 1);
Pot MPO7(M2, 6, 0, 106, 1);
Pot MPO8(M2, 7, 0, 107, 1);
Pot MPO9(M2, 8, 0, 108, 1);
Pot MPO10(M2, 9, 0, 109, 1);
Pot MPO11(M2, 10, 0, 110, 1);
Pot MPO12(M2, 11, 0, 111, 1);
//Pot MPO13(M2, 12, 0, 50, 1);
//Pot MPO14(M2, 13, 0, 55, 2);
//Pot MPO15(M2, 14, 0, 50, 1);
//Pot MPO16(M2, 15, 0, 55, 2);
//*******************************************************************
//Add multiplexed pots used to array below like this-&gt;  Pot *MUXPOTS[] {&amp;MPO1, &amp;MPO2, &amp;MPO3, &amp;MPO4, &amp;MPO5, &amp;MPO6.....};
Pot *MUXPOTS[] {&amp;MPO1, &amp;MPO2, &amp;MPO3, &amp;MPO4, &amp;MPO5, &amp;MPO6, &amp;MPO7, &amp;MPO8, &amp;MPO9, &amp;MPO10, &amp;MPO11, &amp;MPO12};
//*******************************************************************


void setup() {
  MIDI.begin(MIDI_CHANNEL_OFF);
}

void loop() {
  if (NUMBER_BUTTONS != 0) updateButtons();
  if (NUMBER_POTS != 0) updatePots();
  if (NUMBER_MUX_BUTTONS != 0) updateMuxButtons();
  if (NUMBER_MUX_POTS != 0) updateMuxPots();
}


//*****************************************************************
void updateButtons() {

  // Cycle through Button array
  for (int i = 0; i &lt; NUMBER_BUTTONS; i = i + 1) {
    byte message = BUTTONS[i]-&gt;getValue();

    //  Button is pressed
    if (message == 0) {
      switch (BUTTONS[i]-&gt;Bcommand) {
        case 0: //Note
          MIDI.sendNoteOn(BUTTONS[i]-&gt;Bvalue, 127, BUTTONS[i]-&gt;Bchannel);
          break;
        case 1: //CC
          MIDI.sendControlChange(BUTTONS[i]-&gt;Bvalue, 127, BUTTONS[i]-&gt;Bchannel);
          break;
        case 2: //Toggle
          if (BUTTONS[i]-&gt;Btoggle == 0) {
            MIDI.sendControlChange(BUTTONS[i]-&gt;Bvalue, 127, BUTTONS[i]-&gt;Bchannel);
            BUTTONS[i]-&gt;Btoggle = 1;
          }
          else if (BUTTONS[i]-&gt;Btoggle == 1) {
            MIDI.sendControlChange(BUTTONS[i]-&gt;Bvalue, 0, BUTTONS[i]-&gt;Bchannel);
            BUTTONS[i]-&gt;Btoggle = 0;
          }
          break;
      }
    }

    //  Button is not pressed
    if (message == 1) {
      switch (BUTTONS[i]-&gt;Bcommand) {
        case 0:
          MIDI.sendNoteOff(BUTTONS[i]-&gt;Bvalue, 0, BUTTONS[i]-&gt;Bchannel);
          break;
        case 1:
          MIDI.sendControlChange(BUTTONS[i]-&gt;Bvalue, 0, BUTTONS[i]-&gt;Bchannel);
          break;
      }
    }
  }
}
//*******************************************************************
void updateMuxButtons() {

  // Cycle through Mux Button array
  for (int i = 0; i &lt; NUMBER_MUX_BUTTONS; i = i + 1) {

    MUXBUTTONS[i]-&gt;muxUpdate();
    byte message = MUXBUTTONS[i]-&gt;getValue();

    //  Button is pressed
    if (message == 0) {
      switch (MUXBUTTONS[i]-&gt;Bcommand) {
        case 0: //Note
          MIDI.sendNoteOn(MUXBUTTONS[i]-&gt;Bvalue, 127, MUXBUTTONS[i]-&gt;Bchannel);
          break;
        case 1: //CC
          MIDI.sendControlChange(MUXBUTTONS[i]-&gt;Bvalue, 127, MUXBUTTONS[i]-&gt;Bchannel);
          break;
        case 2: //Toggle
          if (MUXBUTTONS[i]-&gt;Btoggle == 0) {
            MIDI.sendControlChange(MUXBUTTONS[i]-&gt;Bvalue, 127, MUXBUTTONS[i]-&gt;Bchannel);
            MUXBUTTONS[i]-&gt;Btoggle = 1;
          }
          else if (MUXBUTTONS[i]-&gt;Btoggle == 1) {
            MIDI.sendControlChange(MUXBUTTONS[i]-&gt;Bvalue, 0, MUXBUTTONS[i]-&gt;Bchannel);
            MUXBUTTONS[i]-&gt;Btoggle = 0;
          }
          break;
      }
    }
    //  Button is not pressed
    if (message == 1) {
      switch (MUXBUTTONS[i]-&gt;Bcommand) {
        case 0:
          MIDI.sendNoteOff(MUXBUTTONS[i]-&gt;Bvalue, 0, MUXBUTTONS[i]-&gt;Bchannel);
          break;
        case 1:
          MIDI.sendControlChange(MUXBUTTONS[i]-&gt;Bvalue, 0, MUXBUTTONS[i]-&gt;Bchannel);
          break;
      }
    }
  }
}
//***********************************************************************
void updatePots() {
  for (int i = 0; i &lt; NUMBER_POTS; i = i + 1) {
    byte potmessage = POTS[i]-&gt;getValue();
    if (potmessage != 255) MIDI.sendControlChange(POTS[i]-&gt;Pcontrol, potmessage, POTS[i]-&gt;Pchannel);
  }
}
//***********************************************************************
void updateMuxPots() {
  for (int i = 0; i &lt; NUMBER_MUX_POTS; i = i + 1) {
    MUXPOTS[i]-&gt;muxUpdate();
    byte potmessage = MUXPOTS[i]-&gt;getValue();
    if (potmessage != 255) MIDI.sendControlChange(MUXPOTS[i]-&gt;Pcontrol, potmessage, MUXPOTS[i]-&gt;Pchannel);
  }
}</code></pre>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/10">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915/10</link>
        <pubDate>Mon, 03 Sep 2018 22:27:32 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-4915-10</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/midi-controller-values-incorrect-when-starting-up-axoloti/4915.rss">Midi controller values incorrect when starting up axoloti</source>
      </item>
  </channel>
</rss>
