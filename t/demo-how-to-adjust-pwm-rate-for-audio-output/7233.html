<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/demo-how-to-adjust-pwm-rate-for-audio-output/7233 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 04:32:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Demo: How to Adjust PWM Rate for Audio Output - Hardware - Axoloti Community</title>
    <meta name="description" content="I&amp;#39;m making a Type D amplifier using the PWM object so I made this demo video of how to change the PWM clock to run fast enough for 12-bit output at 66 kHz.  It&amp;#39;s a sneaky video because I shot it after hours in the dark a&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="7233.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Demo: How to Adjust PWM Rate for Audio Output&#39;" href="7233-2.html" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/demo-how-to-adjust-pwm-rate-for-audio-output/7233" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/demo-how-to-adjust-pwm-rate-for-audio-output/7233" />
<meta property="og:title" content="Demo: How to Adjust PWM Rate for Audio Output" />
<meta name="twitter:title" content="Demo: How to Adjust PWM Rate for Audio Output" />
<meta property="og:description" content="I&#39;m making a Type D amplifier using the PWM object so I made this demo video of how to change the PWM clock to run fast enough for 12-bit output at 66 kHz.  It&#39;s a sneaky video because I shot it after hours in the dark at my friend&#39;s studio in Brooklyn while someone was trying to sleep ðŸ™‚  Enjoy...   https://www.youtube.com/watch?v=7IghcJdfL60   p.s. I am doing this bc I need to run the power amp at varying voltages between 4 and 40 volts, so a typical analog amp connect to codec out..." />
<meta name="twitter:description" content="I&#39;m making a Type D amplifier using the PWM object so I made this demo video of how to change the PWM clock to run fast enough for 12-bit output at 66 kHz.  It&#39;s a sneaky video because I shot it after hours in the dark at my friend&#39;s studio in Brooklyn while someone was trying to sleep ðŸ™‚  Enjoy...   https://www.youtube.com/watch?v=7IghcJdfL60   p.s. I am doing this bc I need to run the power amp at varying voltages between 4 and 40 volts, so a typical analog amp connect to codec out..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 â¤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="7233.html">Demo: How to Adjust PWM Rate for Audio Output</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/hardware.html" itemprop="url">
        <span itemprop="title">Hardware</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/DIYDSP.html'><b itemprop='author'>DIYDSP</b></a>
           
           <time datetime='2021-04-07T19:03:56Z' itemprop='datePublished'>
             2021-04-07 19:03:56 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm making a Type D amplifier using the PWM object so I made this demo video of how to change the PWM clock to run fast enough for 12-bit output at 66 kHz.  It's a sneaky video because I shot it after hours in the dark at my friend's studio in Brooklyn while someone was trying to sleep <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:">  Enjoy...</p>

<p><a href="https://www.youtube.com/watch?v=7IghcJdfL60" class="onebox" target="_blank" rel="nofollow noopener">https://www.youtube.com/watch?v=7IghcJdfL60</a></p>

<p>p.s. I am doing this bc I need to run the power amp at varying voltages between 4 and 40 volts, so a typical analog amp connect to codec outputs won't work, but if anyone has any suggestions on how to design that, let me know <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Demo: How to Adjust PWM Rate for Audio Output'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Jens_Groh-2.html'><b itemprop='author'>Jens_Groh</b></a>
           
           <time datetime='2021-10-19T19:09:06Z' itemprop='datePublished'>
             2021-10-19 19:09:06 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I might have an application for this. Would you mind to tell how you modified your object to have an audio-rate input? Or simply share the .axo file?<br>BTW, I would expect the clock frequency range to be dependent on the processor type. Therefore, a lower maximum value for AxolotiCore than for Akso. Have you tried both?<br>Regards, Jens</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Demo: How to Adjust PWM Rate for Audio Output'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/DIYDSP.html'><b itemprop='author'>DIYDSP</b></a>
           
           <time datetime='2021-10-20T01:13:28Z' itemprop='datePublished'>
             2021-10-20 01:13:28 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi Jens,</p>

<p>This was an output-only experiment I was doing, so I didn't have any audio-rate input at all.  In case it is too hard to tell from the video and the nice responses I got there, the s-rate of Axoloti/Akso runs at 3kHz, just like the k-rate.  And at each tick it runs 16x and fills the codec buffer with all 16 frames.  Forgive me if this is old hat for some people or correct me please if I've made some math mistakes, but this is why the PWM value changes I was seeing occured at 3kHz.  Because the audio objects only get called at 3 kHz.  There are some possiblities to work around this, including triggering a timer to run 16 times at 1/3000/16th second intervals following the initial trigger from the 3kHz "Axoloti frame interrupt," but for now...</p>

<p>Since I was originally hoping to drive a custom amplifier circuit in this way, but for now I've switched to an all analog route for increased fidelity and not having to write new software drivers.  Ordering parts for this nw.</p>

<p>I have a few Aksos here and have definitely only scratched the surface.  I find them great for travel because they don't have all the delicate music connectors on them like DIN, then when I get back home I can move the design I did on Akso into my Axolotis.  The mailer they come in is actually the perfect holder for them...  if it's good enough to mail it in, it's good enough to carry around in my suitcase/backpack.  </p>

<p>I haven't verified this or anything, but this looks like the file I was using at them time:<br><a class="attachment" href="../../uploads/default/original/2X/4/40bc22f9d6b67bc5fde9a7394e74fdb50648dc25.html">PWM Test_07.axp</a> (4.2 KB)</p>

<p>Good luck with your applicatoin, I'm curious what your application is.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Demo: How to Adjust PWM Rate for Audio Output'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Jens_Groh-2.html'><b itemprop='author'>Jens_Groh</b></a>
           
           <time datetime='2021-10-20T09:27:51Z' itemprop='datePublished'>
             2021-10-20 09:27:51 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I need some digital signal processing and multiple (more than 2) high-power audio-bandwidth outputs. In my case, for the amplifiers it's not the wide supply voltage range why I want digital ones but the low power loss. PWM is an option, but I think I will prefer delta-sigma modulation. There are affordable off-the-shelf stereo "digital amp" modules with analog input. <br>AxolotiCore has the DSP capacity needed but, since it has only 2 analog audio outputs, it's probably not appropriate.<br>"Except if I could use several of its PWM outputs?" I was thinking yesterday. 12-bit resolution may be sufficient but I would really need audio rate. And need PWM and s-rate synchronized. <br>Hmmm, 48kHz x 4096 = 196608kHz -- can AxolotiCore do this? Well, I remember to have seen a Cortex M type processor comparison which probably indicates: No.<br>Nevertheless, thanks for the inspiration!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Demo: How to Adjust PWM Rate for Audio Output'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/demo-how-to-adjust-pwm-rate-for-audio-output/7233 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 04:32:06 GMT -->
</html>
