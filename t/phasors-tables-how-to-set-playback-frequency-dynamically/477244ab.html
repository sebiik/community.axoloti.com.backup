<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/phasors-tables-how-to-set-playback-frequency-dynamically/4772?source_topic_id=5165 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 17:16:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Phasors/Tables - how to set playback frequency dynamically? - Patching - Axoloti Community</title>
    <meta name="description" content="Hello Axoloti community, 

first post here - thanks for this wonderful device and your examples! 

I am having difficulty understanding the relationship between phasors and tables and hope you can help. 

As I understand&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="4772.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Phasors/Tables - how to set playback frequency dynamically?&#39;" href="4772.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/optimized/2X/c/c51d8c73ee7538bb64ad4c11d6ae6e8b2ea9ce83_1_586x500.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/optimized/2X/c/c51d8c73ee7538bb64ad4c11d6ae6e8b2ea9ce83_1_586x500.png" />
<meta property="og:url" content="http://community.axoloti.com/t/phasors-tables-how-to-set-playback-frequency-dynamically/4772?source_topic_id=5165" />
<meta name="twitter:url" content="http://community.axoloti.com/t/phasors-tables-how-to-set-playback-frequency-dynamically/4772?source_topic_id=5165" />
<meta property="og:title" content="Phasors/Tables - how to set playback frequency dynamically?" />
<meta name="twitter:title" content="Phasors/Tables - how to set playback frequency dynamically?" />
<meta property="og:description" content="Hello Axoloti community,   first post here - thanks for this wonderful device and your examples!   I am having difficulty understanding the relationship between phasors and tables and hope you can help.   As I understand it, Axoloti’s table sizes are fixed. So, to play back some recorded audio at the original pitch, I need to set the phasor’s frequency according to the table size, e.g. for a table 65536 samples long, I need a phasor running @ 0.73Hz (48000/65536).   How do I set the phasor’s rat..." />
<meta name="twitter:description" content="Hello Axoloti community,   first post here - thanks for this wonderful device and your examples!   I am having difficulty understanding the relationship between phasors and tables and hope you can help.   As I understand it, Axoloti’s table sizes are fixed. So, to play back some recorded audio at the original pitch, I need to set the phasor’s frequency according to the table size, e.g. for a table 65536 samples long, I need a phasor running @ 0.73Hz (48000/65536).   How do I set the phasor’s rat..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ❤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="4772.html">Phasors/Tables - how to set playback frequency dynamically?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/patching.html" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Navs.html'><b itemprop='author'>Navs</b></a>
           
           <time datetime='2018-07-13T09:04:05Z' itemprop='datePublished'>
             2018-07-13 09:04:05 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello Axoloti community,</p>

<p>first post here - thanks for this wonderful device and your examples!</p>

<p>I am having difficulty understanding the relationship between phasors and tables and hope you can help.</p>

<p>As I understand it, Axoloti’s table sizes are fixed. So, to play back some recorded audio at the original pitch, I need to set the phasor’s frequency according to the table size, e.g. for a table 65536 samples long, I need a phasor running @ 0.73Hz (48000/65536).</p>

<p>How do I set the phasor’s rate for a dynamic length, e.g. in the case of a live audio recorder/looper? </p>

<p>I have found an <a href="http://www.pd-tutorial.com/english/ch03s04.html#id426491" rel="nofollow noopener">example for how to do this in Pure Data</a> and found an equivalent in rbrt’s ’stimer’ and sample2frequency modules but I can’t get the patch to work with live values. On playback, the pitch of the recorded audio does not match the input - the resulting frequency still seems to be tied to the table size.</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/c51d8c73ee7538bb64ad4c11d6ae6e8b2ea9ce83" href="../../uploads/default/original/2X/c/c51d8c73ee7538bb64ad4c11d6ae6e8b2ea9ce83.png" class="lightbox" title="Phasors:Tables - how to set playback frequency dynamically?.png"><img src="../../uploads/default/optimized/2X/c/c51d8c73ee7538bb64ad4c11d6ae6e8b2ea9ce83_1_586x500.png" width="586" height="500"><div class="meta">
<span class="filename">Phasors:Tables - how to set playback frequency dynamically?.png</span><span class="informations">844x720 33.8 KB</span><span class="expand"></span>
</div></a></div></p>

<p>Am I approaching this incorrectly? I have tried ‘proper’ phasor modules but these run too fast and also looked at rbrt’s looper modules for clues but can only see code when editing/opening them. I'm new to this sort of patching, so go easy on me <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>

<p>Many thanks,<br>Navs</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Phasors/Tables - how to set playback frequency dynamically?'>
      <hr>
            <a href="../varispeed-sampler-real-time-scaling/5165/4.html">Varispeed sampler, real time scaling</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/axoman.html'><b itemprop='author'>axoman</b></a>
           
           <time datetime='2018-07-13T10:12:13Z' itemprop='datePublished'>
             2018-07-13 10:12:13 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I could be wrong, and no way to check right now, but, I don't think you have to do anything as specific as that with the phasor.  I get the impression the phasor is just used to drive a data pointer through the contents of a table, and the speed at which it reads through the data is determined by the speed of the phasor.  So, to change playback frequency I believe you would just connect your desired objects directly to the phasor and control it that way, I doubt it would make any difference whether what you connected was dynamic or not.</p>

<p>The other thing you mention, about length, that has more to do with the tables themselves and that's something I've wanted to do as well but have been unable to get a demonstration of such a technique.  For example I wanted to be able to use two knobs; one to set the start position of a sample, the other the set the end, and to be able to discard everything that fell outside of that region, and save the result to an SD card.  I think the problem is there is no sure way of addressing or controlling length of the contents of a table.  I'm getting quite a bit out of my comfort zone here though, so I'm likely not understanding something.</p>

<p>Anyway, I hope someone helps you cause it might even indirectly help me understand table access and data manipulation better.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Phasors/Tables - how to set playback frequency dynamically?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Navs.html'><b itemprop='author'>Navs</b></a>
           
           <time datetime='2018-07-13T12:14:17Z' itemprop='datePublished'>
             2018-07-13 12:14:17 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks, Axoman. Sometimes one needs to write things down to see the problem properly. Your comments helped: the speed and distance travelled by the phasor are not the same thing.</p>

<p>The phasor travels from zero to 64, so you can use <a href="https://navsmodularlab.blogspot.com/2011/08/patch-tips16-analogue-logic.html" rel="nofollow noopener">analogue logic - a min/max function</a> - to set or limit the start and end points. I have an Axoloti patch that does this, but saving to SD card is beyond my Axo-skills <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>

<p>Now I need to figure out the maths to apply this to a live variable ...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Phasors/Tables - how to set playback frequency dynamically?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-07-13T12:28:30Z' itemprop='datePublished'>
             2018-07-13 12:28:30 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>If you want to play files that are different size than table, you can do that. But unfortunately in Axoloti we can not, like PD, change the actual tablesize dynamically, so instead you need to compensate the range of the phasor, so it only plays back a part of the table.</p>

<p>And that's the most obvious thing that springs to my mind is, that you dont have any compensation after the phasor. You need it to only playback the part that you recorded. And it might not be too simple, cause for every table size there is, you need to bit shift the compensation value a certain amount. The bit shifting is what make things tricky in Axoloti world, in Pure data it's much simpler cause you can work with real world value like samples and ms, etc. But in Axoloti you can also use those values you just need to bithift a bit to get the right values. So keep that in mind, that you probably need to add some bitshifters too.</p>

<p>If you for example is playing a file that is 34565 samples and the table size is 65536, using the set up below in your picture, it will only set the phasor to play the sample at right speed...... BUT the phasor ill still play through the whole table, so you need to set some kind of compensation.</p>

<p>Like this for example, using a math/*c for the compensation, you can feed any value that you get automatically from the speed into "b", to set that "file length" compensation automatically. </p>

<p>And also try use the scopes to see what actually is going on, so you understand better what you need to fix. It makes it much easier <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:">  </p>

<p><img src="../../uploads/default/original/2X/2/2a7804a03436890bc0ebf99e860a7e6bec7f1662.png" width="336" height="319"></p>

<p>If you set the math/* "b" input to full(64) it will playback the whole table, if you set it to 32 it will playback half the table etc. You need to find out how to set this compensation value automatically too. It's possible, you can probably find you own way of doing that with some of rbrts objects. Oh, and its for the "b" input you are going to need the bit shifting.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Phasors/Tables - how to set playback frequency dynamically?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Navs.html'><b itemprop='author'>Navs</b></a>
           
           <time datetime='2018-07-13T19:50:11Z' itemprop='datePublished'>
             2018-07-13 19:50:11 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks for the pointers - below is what I have come up with. </p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/989da090aec301db3e667698218cdc579b84a855" href="../../uploads/default/original/2X/9/989da090aec301db3e667698218cdc579b84a855.png" class="lightbox" title="phasor percentage play.png"><img src="../../uploads/default/optimized/2X/9/989da090aec301db3e667698218cdc579b84a855_1_690x432.png" width="690" height="432"><div class="meta">
<span class="filename">phasor percentage play.png</span><span class="informations">957x600 48.3 KB</span><span class="expand"></span>
</div></a></div></p>

<p>A phasor runs at the correct speed for the table length. If the recording/button-press is longer than the table length, the whole table is played. If the recording is shorter, the length is expressed as a percentage to divide 64 and provide a limter value for the min logic. When the phasor and limiter value are the same, the phasor is reset.</p>

<p>Is there a more efficient way to do this ... or have I just re-invented one of rbrt's wheels? <img src="../../images/emoji/twitter/grinae52.png?v=5" title=":grin:" class="emoji" alt=":grin:"></p>

<aside class="quote" data-post="4" data-topic="4772"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/jaffasplaffa/40/5808_1.png" class="avatar">jaffasplaffa:</div>
<blockquote><p>you are going to need the bit shifting.</p></blockquote></aside>

<p>What is this and why do I need it?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Phasors/Tables - how to set playback frequency dynamically?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/kausto.html'><b itemprop='author'>kausto</b></a>
           
           <time datetime='2018-07-14T15:01:16Z' itemprop='datePublished'>
             2018-07-14 15:01:16 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello Navs! Was rocking your nordmod patches for some time)</p>

<p>I dunno maybe this topic could help?<br><aside class="quote" data-post="1" data-topic="850">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/jeromeb/40/3654_1.png" class="avatar">
    <a href="../solved-pd-sampler-rockafella-example-on-axoloti/8505baa.html?source_topic_id=4772" rel="nofollow noopener">[solved] Pd sampler.rockafella example on axoloti</a> <a class="badge-wrapper  bullet" href="../../c/patching.html"><span class="badge-category-bg" style="background-color: #AB9364;"></span><span style="color: #FFFFFF;" class="badge-category clear-badge" title="This category is for discussion about patching Axoloti, and sharing patches.">Patching</span></a>
  </div>
  <blockquote>
    Hi all, 

Noob question : I try to reproduce B14.sampler.rockafella.pd on an Axoloti patch. Here <a class="attachment" href="../../uploads/default/original/2X/a/Sampler_1_5.axp" rel="nofollow noopener">Sampler_1_5.axp</a> (6.6 KB) a patch that play sample with time compression/expansion by looped sample. 

 <a href="../../uploads/default/original/2X/7/78f08c3c0c4bf762974672fca5493adf3c36844a.png" class="lightbox" title="Sampler_1_5.png" rel="nofollow noopener">[image]</a>

But I can't link "chunk length" with the first phasor frequency in order to change chunk size, without change the global pitch. 

An idea ? 

PS : my last patch for playing with samples <a class="attachment" href="../../uploads/default/original/2X/f/Sampler_4.axp" rel="nofollow noopener">Sampler_4.axp</a> (21.9 KB)
  </blockquote>
</aside>
</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Phasors/Tables - how to set playback frequency dynamically?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-07-20T21:37:39Z' itemprop='datePublished'>
             2018-07-20 21:37:39 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="5" data-topic="4772"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/navs/40/5430_1.jpg" class="avatar">Navs:</div>
<blockquote><p>What is this and why do I need it?</p></blockquote></aside>

<p>Sorry for the late reply. I am actually not sure what the right term for it is, but Axoloti uses different types of math, that uses less memory, dsp, etc.. The ranges of these math types are a lot smaller, than what is used in real world, so to go form real world values, like milliseconds and samples, to values that in Axolotis system correspond to those real world values, you need to bitshift.</p>

<p>Argh, sorry I think someone else need to explain the math stuff. I am not that familiar with how its made I just use it, hehe <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Phasors/Tables - how to set playback frequency dynamically?'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/phasors-tables-how-to-set-playback-frequency-dynamically/4772?source_topic_id=5165 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 17:16:25 GMT -->
</html>
