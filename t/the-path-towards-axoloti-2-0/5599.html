<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/the-path-towards-axoloti-2-0/5599 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:10:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>The path towards Axoloti 2.0 - Developer - Axoloti Community</title>
    <meta name="description" content="Axoloti user community">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="5599.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;The path towards Axoloti 2.0&#39;" href="5599.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/the-path-towards-axoloti-2-0/5599" />
<meta name="twitter:url" content="http://community.axoloti.com/t/the-path-towards-axoloti-2-0/5599" />
<meta property="og:title" content="The path towards Axoloti 2.0" />
<meta name="twitter:title" content="The path towards Axoloti 2.0" />
<meta property="og:description" content="I&#39;ll try to shine some light on my development plans:   When arriving closer to a fresh release, I was hitting a hard wall. One was getting a perfectly nice working undo-redo, the &quot;live&quot; switch barrier is not one that can be crossed nicely by undo-redo operations. Recompilation by launching gcc is not snappy enough. A second issue was sharing code along objects and avoiding name-conflicts, I was not really happy with the &quot;modules&quot; approach (in the experimental branch on github).   So I&#39;ve been t..." />
<meta name="twitter:description" content="I&#39;ll try to shine some light on my development plans:   When arriving closer to a fresh release, I was hitting a hard wall. One was getting a perfectly nice working undo-redo, the &quot;live&quot; switch barrier is not one that can be crossed nicely by undo-redo operations. Recompilation by launching gcc is not snappy enough. A second issue was sharing code along objects and avoiding name-conflicts, I was not really happy with the &quot;modules&quot; approach (in the experimental branch on github).   So I&#39;ve been t..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="22 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="217 ❤" />

      <link rel="next" href="55994658.html?page=2">

  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="5599.html">The path towards Axoloti 2.0</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/developer.html" itemprop="url">
        <span itemprop="title">Developer</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2019-04-10T12:44:01Z' itemprop='datePublished'>
             2019-04-10 12:44:01 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'll try to shine some light on my development plans:</p>

<p>When arriving closer to a fresh release, I was hitting a hard wall. One was getting a perfectly nice working undo-redo, the "live" switch barrier is not one that can be crossed nicely by undo-redo operations. Recompilation by launching gcc is not snappy enough. A second issue was sharing code along objects and avoiding name-conflicts, I was not really happy with the "modules" approach (in the experimental branch on github).</p>

<p>So I've been tinkering with a radically different approach to the Axoloti architecture: rather than generating c++ code from a patch and using gcc to generate a native binary, generating and uploading a binary (document, not arm code) representation of a patch to the Axoloti hardware, and "compiling" that binary document into native executable code on the Axoloti microcontroller. An interpreter approach would add too much overhead. It does not aim to be a full compiler, it only loads binary objects and generates native code to call functions, and passing data from outlets to inlets.</p>

<p>It's an approach I had dismissed in the past. Writing something that resembles a compiler is not a suitable one-man army project. It also locks the code strongly into the arm architecture.</p>

<p>It's large transition: the object library will need to turn into binary code, breaking current attributes. It affects the GUI, the object definition format, the patch file format, the usb communication protocol, the firmware... Hard to get there via incremental non-breaking changes. </p>

<p>I have not announced this effort before since I first wanted to proof its feasibility first. I have underestimated the complexity of the development, and has taken a far deeper and slower effort than I had imagined. Yet it is still my highest priority, believe it is the way to go, and addresses most griefs.</p>

<p>Please allow me till the end of this week to publish a first draft on github. Thanks for your patience and understanding!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:40'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
            <a href="../my-axoloti-plan/3670/71.html">My Axoloti Plan</a>
            <hr>
            <a href="../live-patching-axoloti/6192/4.html">Live patching Axoloti</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Mindsetup.html'><b itemprop='author'>Mindsetup</b></a>
           
           <time datetime='2019-04-10T12:51:16Z' itemprop='datePublished'>
             2019-04-10 12:51:16 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don't understand much you are saying <a class="mention" href="../../u/johannes.html">@johannes</a>, but I glad you are live and posting here! You have created an amazing device! <img src="../../images/emoji/twitter/%2b1ae52.png?v=5" title=":+1:" class="emoji" alt=":+1:"><img src="../../images/emoji/twitter/ok_handae52.png?v=5" title=":ok_hand:" class="emoji" alt=":ok_hand:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:3'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SmashedTransistors.html'><b itemprop='author'>SmashedTransistors</b></a>
           
           <time datetime='2019-04-10T17:09:56Z' itemprop='datePublished'>
             2019-04-10 17:09:56 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks for the info <a class="mention" href="../../u/johannes.html">@johannes</a>.</p>

<p>This will provide a fluider workflow which is very important to beginners (as the try/fail/retry/succeed cycle will be faster).</p>

<p>I guess that community objects will need to be adapted / versionned between Axoloti 1.0 and Axoloti 2.0. As you said, I'll have a look in these issues after you publish the first draft on github.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:4'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-04-10T17:58:37Z' itemprop='datePublished'>
             2019-04-10 17:58:37 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../u/johannes.html">@johannes</a> Cool to hear about the new architecture ideas.</p>

<p>Here are a couple of ideas I've been mulling over:<br>- Why not compile and include all objects ahead of time and expose them through an API? Is it really the case that all of the core objects couldn't fit in flash?<br>- The uploaded patch could just be some simplified representation that describes what objects are in use and how they are connected etc. The device would then instantiate objects and connect them as needed. Adding objects to the on device library would require a firmware update (so a user object would not necessarily carry its firmware code around at the patch level).<br>- The patch could be unaware of particular object versions. It would be more like targeting an API level. The patch would just refer to objects in the abstract like "Sin Oscillator" or whatever without worrying about precisely what version of that object was deployed to the device. The client could even query for what objects are available on the device, etc.</p>

<p>It would be easier to do that kind of thing with dynamic memory allocation on the device itself which I don't think would be the end of the world, but I think we could avoid it if that's something you absolutely want to avoid.</p>

<p>Hope you're doing well by the way. Let me know if you want to catch up on voice chat sometime.</p>

<p>PS: I've had success recently using Nanopb and protocol buffers to handle the actual wire format for an embedded API. It's worth checking out.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/lokki.html'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2019-04-10T18:30:12Z' itemprop='datePublished'>
             2019-04-10 18:30:12 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="4" data-topic="5599"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/urklang/40/2326_1.png" class="avatar">urklang:</div>
<blockquote><ul><li>Why not compile and include all objects ahead of time and expose them through an API? Is it really the case that all of the core objects couldn't fit in flash?</li></ul></blockquote></aside>

<p>what about custom modules then? writing my own objects or customising existing is one of the most essential features of axoloti, and should not be disabled!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:3'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-04-10T18:53:37Z' itemprop='datePublished'>
             2019-04-10 18:53:37 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../u/lokki.html">@lokki</a> I definitely agree. There would still be a mechanism for user created objects. I think that compilation should be moved offline somehow though and decoupled from the patch. Roughly what I'm thinking is that you would have some kind of library manager mechanism to control what objects are deployed on your device. At a UI level this could be similar to the existing workflow for editing an object definition. Compilation wouldn't happen at all during normal usage of a patch, going "live" etc. It would simply alert you if you attempted to refer to some unknown object.</p>

<p>I this would give us more of a chance to detect errors in an object definition as well and be clearer about the object compilation process, i.e. what names are visible etc. If your "library compile" failed, you would resolve it before patching. If your object definitions weren't changing, you could just continue patching like normal without a recompile.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/reubenfinger.html'><b itemprop='author'>reubenfinger</b></a>
           
           <time datetime='2019-04-10T19:30:49Z' itemprop='datePublished'>
             2019-04-10 19:30:49 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thank You for the update, and for all your hard work. Both are most appreciated.</p>

<p>Axo rules anyway, but I'm very excited that you're striving to make it better.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:3'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/lokki.html'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2019-04-10T19:33:40Z' itemprop='datePublished'>
             2019-04-10 19:33:40 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>that sounds like a feasible approach mostly. it somehow makes it harder to have a wide set of different patches (with different objects) on the sdcard, since not all of them will fit in the firmware.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-04-10T20:37:20Z' itemprop='datePublished'>
             2019-04-10 20:37:20 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm skeptical about the notion that we couldn't pack many, many object definitions into flash (we have 1M to work with). It will require us to rethink how the objects are expressed though of course and probably clever code sharing / reuse etc.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SmashedTransistors.html'><b itemprop='author'>SmashedTransistors</b></a>
           
           <time datetime='2019-04-10T20:44:38Z' itemprop='datePublished'>
             2019-04-10 20:44:38 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Even if most object codes are very short there is a lot of objects in the community library, thus this question is not trivial.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-04-10T21:16:50Z' itemprop='datePublished'>
             2019-04-10 21:16:50 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ideally, the library manager / recompilation view would connect to the community repository directly. You'd just flag objects that you would like to include in your build and there would be a way to keep track of available flash storage and rough object size. You could swap unused object out to save space. In the case that you tried to use a patch with an unknown object dependency, it could simply prompt you to fetch it and recompile your library. If all objects in a given patch were already available in your library build, you would just continue patching without having to recompile.</p>

<p>Again, this would probably require establishing some new conventions for the custom object API, etc.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2019-04-10T22:26:44Z' itemprop='datePublished'>
             2019-04-10 22:26:44 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks for update information it is highly appreciated.</p>

<p>Nice to hear some development is still going on <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Oscar.html'><b itemprop='author'>Oscar</b></a>
           
           <time datetime='2019-04-11T01:22:59Z' itemprop='datePublished'>
             2019-04-11 01:22:59 UTC
           </time>
        </span>
        <span itemprop='position'>#13</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This sounds very exciting to me. Well, the fact that now there seems to be a real path towards axoloti 2.0, the fact that Axoloti 2.0 is still alive, is awesome. I don't really get why compiling inside the Axoloti is better, how it solves code sharing or how it solves the live switch barrier. Wouldn't the live switch barrier still exist, and undo would have to trigger an upload of the binaries? Would it always be live? Can someone that gets it explain how is it better than gcc to us mere mortals?</p>

<p>Thank you very much for everything.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/deadsy.html'><b itemprop='author'>deadsy</b></a>
           
           <time datetime='2019-04-11T02:49:19Z' itemprop='datePublished'>
             2019-04-11 02:49:19 UTC
           </time>
        </span>
        <span itemprop='position'>#14</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So each object is pre-compiled to some binary representation (arm code + meta-data) and is then dynamically linked/called as the complete patch on the axoloti itself? Is that correct?</p>

<p>Questions:</p>

<p>1) What problem does this solve?</p>

<p>2) Some objects are very simple (E.g. multiply 2 numbers) and it's going to be horribly inefficient if such an object can only be called through a jump table rather than just in-lined in a compilation of the entire patch. Is this a concern?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2019-04-11T13:18:33Z' itemprop='datePublished'>
             2019-04-11 13:18:33 UTC
           </time>
        </span>
        <span itemprop='position'>#15</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="5" data-topic="5599"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/lokki/40/5157_1.jpg" class="avatar">lokki:</div>
<blockquote><p>what about custom modules then?</p></blockquote></aside>

<p>Sure, custom objects libraries can be compiled on the host using gcc, object libraries can sit on sdcard, loaded into ram when used. Factory objects can sit in flash. </p>

<aside class="quote" data-post="13" data-topic="5599"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/oscar/40/5318_1.png" class="avatar">Oscar:</div>
<blockquote><p>I don't really get why compiling inside the Axoloti is better</p></blockquote></aside>

<p>It more like a linker than like a compiler. Code is only generated to inlet values and to call binary functions. The binary patch format uploaded to the Axoloti hardware or stored on sdcard can load back into the GUI. On the horizon, connections could change and objects could be added, replaced, deleted without re-initializing those that are already loaded. </p>

<aside class="quote" data-post="14" data-topic="5599"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/deadsy/40/5105_1.jpg" class="avatar">deadsy:</div>
<blockquote><p>So each object is pre-compiled to some binary representation (arm code + meta-data) and is then dynamically linked/called as the complete patch on the axoloti itself? Is that correct?</p></blockquote></aside>

<p>yes</p>

<aside class="quote" data-post="14" data-topic="5599"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/deadsy/40/5105_1.jpg" class="avatar">deadsy:</div>
<blockquote><p>1) What problem does this solve?</p></blockquote></aside>

<p>Removing the live switch.</p>

<aside class="quote" data-post="14" data-topic="5599"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/deadsy/40/5105_1.jpg" class="avatar">deadsy:</div>
<blockquote><p>2) Some objects are very simple (E.g. multiply 2 numbers) and it's going to be horribly inefficient if such an object can only be called through a jump table rather than just in-lined in a compilation of the entire patch. Is this a concern?</p></blockquote></aside>

<p>Sure, it's a concern. Already in its current unpublished draft, there is a function type that can be inlined. So there can be a multiply object that emits asm "<code>MUL r0,r0,r1</code>". If the result of the object  connected to the first inlet outputs its result in r0, only extra code is added to load r1...<br>If the same multiply object is hover used to compute a square, it would still need to copy r0 into r1, it won't optimize it into "<code>MUL r0,r0,r0</code>", that would require a separate square object. <br>Writing functions that can be inlined via binary concatenation in C or C++ is not generally possible, those need to be written in assembly (<code>__attribute__((naked))...</code>) It's only relevant for objects that are not larger than only a couple of instructions.</p>

<p>Hope this addresses most questions...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:4'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-04-11T15:44:29Z' itemprop='datePublished'>
             2019-04-11 15:44:29 UTC
           </time>
        </span>
        <span itemprop='position'>#16</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Total handwave / back of the envelope approximation:</p>

<p>48000khz -&gt; 2e-5 s cycle time<br>168Mhz -&gt; 6e-9 s cycle time<br>2e-5 / 6e-9 = 3333 "cpu cycles" per sample</p>

<p>Is it already impossible to hit that deadline without aggressive inlining and avoiding function calls etc? I'm wondering how much function call overhead would eat into that cycle allotment in practice. It's cool to be able to reserve all of those cycles for useful work of course, but it doesn't seem like a worthwhile tradeoff if we get live patching etc by sacrificing some headroom. Sacrificing some performance for ease of use of the API seems like a worthwhile tradeoff to me too actually.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/deadsy.html'><b itemprop='author'>deadsy</b></a>
           
           <time datetime='2019-04-11T17:23:10Z' itemprop='datePublished'>
             2019-04-11 17:23:10 UTC
           </time>
        </span>
        <span itemprop='position'>#17</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <blockquote><p>3333 "cpu cycles" per sample</p></blockquote>

<p>It's a budget. If you have a patch that hits 100% of CPU usage you are spending all the budget. Having a dynamic link rather than a static link is not going to be more efficient, so in general live patching will impose a lower limit on total system performance. If you value live patching that may be a reasonable price to pay.</p>

<p>I come from the embedded development world so the idea of off-line static compilation and linking is home-base for me. Having said that, I'm intrigued by the interactivity afforded by live coding environments. It's been eye-opening to see people who don't know much about code be able to put together complicated patches with axoloti. The underlying code disturbs me, but I think the boxes with pipes approach makes it intuitive for a much larger group of people.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/lokki.html'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2019-04-11T18:01:37Z' itemprop='datePublished'>
             2019-04-11 18:01:37 UTC
           </time>
        </span>
        <span itemprop='position'>#18</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="17" data-topic="5599"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/deadsy/40/5105_1.jpg" class="avatar">deadsy:</div>
<blockquote><p>Having a dynamic link rather than a static link is not going to be more efficient, so in general live patching will impose a lower limit on total system performance.</p></blockquote></aside>

<p>hmm yeah, i don't value live patching, for me the strength of axoloti is that it works WITHOUT a pc, so live patching does not interest me. i want the last bit of performance out of it! but i guess i am the minority.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:8'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SmashedTransistors.html'><b itemprop='author'>SmashedTransistors</b></a>
           
           <time datetime='2019-04-11T21:48:22Z' itemprop='datePublished'>
             2019-04-11 21:48:22 UTC
           </time>
        </span>
        <span itemprop='position'>#19</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm tempted to say the same thing... <br>but... <br>i remember how great live patching was with the Clavia Modulars.</p>

<p>Live patching is a game changer.</p>

<p>With live patching you don't "edit" your patches, you "create"/"modify" them.<br>It adds an "artistic" dimension to patching.</p>

<p>I guess that many users will be addicted to this feature when it will be available.</p>

<p>This feature is not incompatible with the "standalone/ no PC" usage of the Axoloti.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:4'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SmashedTransistors.html'><b itemprop='author'>SmashedTransistors</b></a>
           
           <time datetime='2019-04-11T21:52:08Z' itemprop='datePublished'>
             2019-04-11 21:52:08 UTC
           </time>
        </span>
        <span itemprop='position'>#20</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Most of the time, my patches are limited because of SRAM usage, not by CPU. I guess that the new scheme will change this.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='The path towards Axoloti 2.0'>
      <hr>
  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement'>
      <span itemprop='url'><b><a rel="next" itemprop="name" href="55994658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/the-path-towards-axoloti-2-0/5599 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:10:16 GMT -->
</html>
