<!DOCTYPE html>
<html lang="en" class="desktop-view not-mobile-device  anon">
  <head>
    <meta charset="utf-8">
    <title>&quot;intelligent&quot; LEDs ws2812 driven by Axoloti - Hardware - Axoloti Community</title>
    <meta name="description" content="Hi, I would like to connect some ws2812 to the axoloti. I think I need to create a new object to get this done. Question is: how do I start? As far as I understand K-rate Code runs at 3000Hz and S-Rate Code runs at 48kHz&amp;hellip;">
    <meta name="discourse_theme_key" content="b5ce34aa-3ee1-4d3e-b190-0a2ab62c7408">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="https://sebiik.github.io/community.axoloti.com.backup/t/intelligent-leds-ws2812-driven-by-axoloti/330" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://sebiik.github.io/community.axoloti.com.backup/opensearch.xml" title="Axoloti Community Search">

    

      <meta name="fragment" content="!">


    <script>
      window.EmberENV = window.EmberENV || {};
      window.EmberENV['FORCE_JQUERY'] = true;
    </script>

    <link rel='preload' href='/assets/locales/en-5bbc8626277bd471a9fcd063411070c515cad1a78c86a38ad27792a513f11bd4.js' as='script'/>
<script src='/assets/locales/en-5bbc8626277bd471a9fcd063411070c515cad1a78c86a38ad27792a513f11bd4.js'></script>
    <link rel='preload' href='/assets/ember_jquery-a8dcbd325e04410f036f2a791d66d8316c48c5387acdd914de99a5dd6afb3cd3.js' as='script'/>
<script src='/assets/ember_jquery-a8dcbd325e04410f036f2a791d66d8316c48c5387acdd914de99a5dd6afb3cd3.js'></script>
    <link rel='preload' href='/assets/preload-store-ec90ffab9d7a6d9e507dda7cf7343e9d50b8bce624f7f44486ac8fd6b9814309.js' as='script'/>
<script src='/assets/preload-store-ec90ffab9d7a6d9e507dda7cf7343e9d50b8bce624f7f44486ac8fd6b9814309.js'></script>
    <link rel='preload' href='/assets/vendor-199fce5a9e9895329b51b04605f1f5061951acb488baa6b2ea2fc2ae36def529.js' as='script'/>
<script src='/assets/vendor-199fce5a9e9895329b51b04605f1f5061951acb488baa6b2ea2fc2ae36def529.js'></script>
    <link rel='preload' href='/assets/pretty-text-bundle-e888dd08c05658b05da2124dd56955aa8fe94225d532fb8bfa3264a3eb2aa581.js' as='script'/>
<script src='/assets/pretty-text-bundle-e888dd08c05658b05da2124dd56955aa8fe94225d532fb8bfa3264a3eb2aa581.js'></script>
    <link rel='preload' href='/assets/application-13a284a273d9247cd8b3d19ae7d053297aeb5b3eabaa9a901c9fd236fb7dfe60.js' as='script'/>
<script src='/assets/application-13a284a273d9247cd8b3d19ae7d053297aeb5b3eabaa9a901c9fd236fb7dfe60.js'></script>
    <link rel='preload' href='/assets/plugin-3a5d56cbe920ebb10de8abd59e839cf2d48d598ca07a267327f96e3fec534065.js' as='script'/>
<script src='/assets/plugin-3a5d56cbe920ebb10de8abd59e839cf2d48d598ca07a267327f96e3fec534065.js'></script>
    <link rel='preload' href='/assets/plugin-third-party-346f0166b34a16f0ac66ea388d925068ee8f76267dc167ac7173785ea046f465.js' as='script'/>
<script src='/assets/plugin-third-party-346f0166b34a16f0ac66ea388d925068ee8f76267dc167ac7173785ea046f465.js'></script>


      

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

    <link rel="manifest" href="/manifest.json">


      <link href="/stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>


  <link href="/stylesheets/desktop_theme_1_6c5f8f7f5e6a154a9f0dfd7aedf04bae4b669f17.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop_theme"/>

    

<link rel="preload" href="/assets/fontawesome-webfont-2adefcbc041e7d18fcf2d417879dc5a09997aa64d675b7a3c4b6ce33da13f3fe.woff2?http://community.axoloti.com&2&v=4.7.0" as="font" type="font/woff2" crossorigin />
<style>
  @font-face {
    font-family: 'FontAwesome';
    src: url('/assets/fontawesome-webfont-2adefcbc041e7d18fcf2d417879dc5a09997aa64d675b7a3c4b6ce33da13f3fe.woff2?http://community.axoloti.com&2&v=4.7.0') format('woff2'),
         url('/assets/fontawesome-webfont-ba0c59deb5450f5cb41b3f93609ee2d0d995415877ddfa223e8a8a7533474f07.woff?http://community.axoloti.com&amp;2&v=4.7.0') format('woff');
  }
</style>


      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;&quot;intelligent&quot; LEDs ws2812 driven by Axoloti&#39;" href="https://sebiik.github.io/community.axoloti.com.backup/t/intelligent-leds-ws2812-driven-by-axoloti/330.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/intelligent-leds-ws2812-driven-by-axoloti/330" />
<meta name="twitter:url" content="http://community.axoloti.com/t/intelligent-leds-ws2812-driven-by-axoloti/330" />
<meta property="og:title" content="&quot;intelligent&quot; LEDs ws2812 driven by Axoloti" />
<meta name="twitter:title" content="&quot;intelligent&quot; LEDs ws2812 driven by Axoloti" />
<meta property="og:description" content="Hi, I would like to connect some ws2812 to the axoloti. I think I need to create a new object to get this done. Question is: how do I start? As far as I understand K-rate Code runs at 3000Hz and S-Rate Code runs at 48kHz. Both seems to slow to generate 800kHz for the ws2812?   Currently I&#39;m also not entirely sure how the PWM generation of the existing PWM OSCs work. I also don&#39;t know what the PWM timers are for." />
<meta name="twitter:description" content="Hi, I would like to connect some ws2812 to the axoloti. I think I need to create a new object to get this done. Question is: how do I start? As far as I understand K-rate Code runs at 3000Hz and S-Rate Code runs at 48kHz. Both seems to slow to generate 800kHz for the ws2812?   Currently I&#39;m also not entirely sure how the PWM generation of the existing PWM OSCs work. I also don&#39;t know what the PWM timers are for." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ❤" />



    
  </head>

  <body class="">
    

    <div class='debug-eyeline'></div>

    <noscript data-path="/t/intelligent-leds-ws2812-driven-by-axoloti/330">
      <header class="d-header">
  <div class="wrap">
    <div class="contents">
      <div class="row">
        <div class="title span13">
          <a href="/">
              <img src="/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo">
          </a>
        </div>
            <div class='panel clearfix'>
              <a href="/login" class='btn btn-primary btn-small login-button'><i class="fa fa-user"></i> Log In</a>
            </div>
      </div>
    </div>
  </div>
</header>

      <div id="main-outlet" class="wrap">
        <!-- preload-content: -->
        <h1>
  <a href="/t/intelligent-leds-ws2812-driven-by-axoloti/330">&quot;intelligent&quot; LEDs ws2812 driven by Axoloti</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="/c/hardware" itemprop="url">
        <span itemprop="title">Hardware</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/hpfmn'><b itemprop='author'>hpfmn</b></a>
           
           <time datetime='2015-08-26T14:08:24Z' itemprop='datePublished'>
             2015-08-26 14:08:24 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi,<br>I would like to connect some ws2812 to the axoloti. I think I need to create a new object to get this done. Question is: how do I start? As far as I understand K-rate Code runs at 3000Hz and S-Rate Code runs at 48kHz. Both seems to slow to generate 800kHz for the ws2812?</p>

<p>Currently I'm also not entirely sure how the PWM generation of the existing PWM OSCs work. I also don't know what the PWM timers are for.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
            <a href="https://sebiik.github.io/community.axoloti.com.backup/t/recomended-spi-port-for-external-display/2156/5">Recomended SPI Port for external Display</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/johannes'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2015-08-26T15:36:46Z' itemprop='datePublished'>
             2015-08-26 15:36:46 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It's a bit complex...</p>

<p>I have made an example for WS2811 leds, can be found in <br>archive/tests/io/spi_WS2811.axh<br>BUT<br>you have to modify the firmware, and change</p>

<pre><code>#define STM32_UART_USE_USART2               FALSE</code></pre>

<p>into</p>

<pre><code>#define STM32_UART_USE_USART2               TRUE</code></pre>

<p>and</p>

<pre><code>#define STM32_SERIAL_USE_USART2             TRUE</code></pre>

<p>into</p>

<pre><code>#define STM32_SERIAL_USE_USART2             FALSE</code></pre>

<p>and recompile/flash firmware.</p>

<aside class="quote" data-post="1" data-topic="330"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar/hpfmn/40/5_fcf819f9b3791cb8c87edf29c8984f83.png" class="avatar">hpfmn:</div>
<blockquote><p>Currently I'm also not entirely sure how the PWM generation of the existing PWM OSCs work.</p></blockquote></aside>

<p>osc/pwm is based on a bandlimited step table<br><a href="http://www.cs.cmu.edu/~eli/papers/icmc01-hardsync.pdf" class="onebox" target="_blank">http://www.cs.cmu.edu/~eli/papers/icmc01-hardsync.pdf</a></p>

<aside class="quote" data-post="1" data-topic="330"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar/hpfmn/40/5_fcf819f9b3791cb8c87edf29c8984f83.png" class="avatar">hpfmn:</div>
<blockquote><p>I also don't know what the PWM timers are for.</p></blockquote></aside>

<p>the gpio/out/pwm * objects were made originally to control LED dimmers, but can be used for other purposes too. They're not for audio PWM oscillators. But the implementation of these objects is currently not very flexible.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/hpfmn'><b itemprop='author'>hpfmn</b></a>
           
           <time datetime='2015-08-26T17:07:38Z' itemprop='datePublished'>
             2015-08-26 17:07:38 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Is there any withdraw in changing these defines?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/johannes'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2015-08-26T17:19:42Z' itemprop='datePublished'>
             2015-08-26 17:19:42 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The UART interface in chibios is for DMA-accelerated block transfer. <br>The Serial in chibios is for a stream interface.</p>

<p>In development, the stream interface is nice, since it allows to log messages with sprintf-style calls.<br>Some conditional compiles are present in firmware to log deep stuff to uart (ENABLE_SERIAL_DEBUG).</p>

<p>For the ws281x leds, the serial interface does not work because the serial interface uses interrupts, that does not produce the tight timing required for these leds.</p>

<p>Both interfaces can't be enabled for the same USART peripheral. </p>

<p>Using SPI is also an option but I could not get a suitable bitrate configured. This may work by feeding it an external clock, perhaps generated by a timer in pwm output mode. Only try this if you're into hardware hacking and have an oscilloscope or logic analyzer near...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Chridmeister'><b itemprop='author'>Chridmeister</b></a>
           
           <time datetime='2015-09-02T00:06:59Z' itemprop='datePublished'>
             2015-09-02 00:06:59 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>One solution may be to use something else to drive the WS2812's, such as an ATTiny? Get the Axoloti to talk to the tiny at it's leisure, and the tiny can do the high speed stuff on its own.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/hpfmn'><b itemprop='author'>hpfmn</b></a>
           
           <time datetime='2015-09-02T09:46:19Z' itemprop='datePublished'>
             2015-09-02 09:46:19 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks for this hint <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt="smile"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Reggie'><b itemprop='author'>Reggie</b></a>
           
           <time datetime='2016-07-27T13:56:36Z' itemprop='datePublished'>
             2016-07-27 13:56:36 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Did the ws2812 led object gain much traction or was it left for an external mcu to do the work?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/johannes'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-07-28T13:51:02Z' itemprop='datePublished'>
             2016-07-28 13:51:02 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Made a new patch, added into axoloti-contrib: patches/jt/led_string_ws2811.axp<br>"Sync Libraries" in 1.0.10 and you'll get it.<br>I have developed a trick to make it work with stock firmware. SPI is used to generate the data-stream, with the help of a PWM channel (from timer4) to generate the right bitrate. The SPI in master mode can not generate a suitable bitrate, so it uses SPI slave mode, with the PWM channel used to generate the right data clock.</p>

<p><strong>You need to connect PB8 to PA5</strong><br>WS2811 data out is on <strong>PA6</strong></p>

<p>Tested with <a href="https://www.olimex.com/Products/Components/LEDs/LED-ROPE-10/" rel="nofollow">this</a> LED Rope.</p>

<p>I believe the generated data stream is compatible with both WS2811 and WS2812, but R/G/B may be swapped around. </p>

<p>I suggest to use an independent (isolated) power supply to prevent injecting switching noises into the audio.</p>

<p>Feedback welcome!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
            <a href="https://sebiik.github.io/community.axoloti.com.backup/t/4x1-rgb-led-ring-rotary-encoder-pcb-bulk-order/5662/8">4x1 RGB-LED-Ring/Rotary Encoder PCB Bulk Order</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Reggie'><b itemprop='author'>Reggie</b></a>
           
           <time datetime='2016-07-28T18:44:38Z' itemprop='datePublished'>
             2016-07-28 18:44:38 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thank you for looking at this <img src="/images/emoji/emoji_one/slight_smile.png?v=2" title=":slight_smile:" class="emoji" alt=":slight_smile:"> Unfortunately, led_string_ws2811.axp doesn't appear to be syncing, I can't see it on github either atm.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/johannes'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-07-28T19:04:27Z' itemprop='datePublished'>
             2016-07-28 19:04:27 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>If you access github directly, you need to switch to the 1.0.10 branch <a href="https://github.com/axoloti/axoloti-contrib/tree/1.0.10/patches/jt" rel="nofollow">https://github.com/axoloti/axoloti-contrib/tree/1.0.10/patches/jt</a><br>If you use the "sync libraries", it should appear in Your Documents/axoloti/axoloti-contrib/patches/jt</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Reggie'><b itemprop='author'>Reggie</b></a>
           
           <time datetime='2016-07-28T19:52:38Z' itemprop='datePublished'>
             2016-07-28 19:52:38 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks, I found it <img src="/images/emoji/emoji_one/smile.png?v=2" title=":smile:" class="emoji" alt=":smile:"> That's a cool trick pwm'ing the clockrate!!  </p>

<p>How does the patch work Johannes?  Is it just doing a light show, or can the colours be manipulated by incoming data streams?  atm I can see it's working for a string of 10 leds  (nleds = 10), can you explain what the setv function does? Lastly, is it safe to use a 5v psu for the leds with the PA6 pin connected to the leds?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/johannes'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-07-28T20:20:32Z' itemprop='datePublished'>
             2016-07-28 20:20:32 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I did not make an object that has RGB inlets for every LED, I think that would be hard to manage for dozens of LEDs. So yes it just shows scrolling RGB colors. <br>I believe in practical use cases, you want to control a few parameters of a lightshow, while the lightshow algorithm itself is better suited to coding than patching. So the script needs to be adapted to different situations...<br>If you want to use the two available inlets of the script2 object, you can just use in1 and in2 variables in the code, to convert them to 8bit intensity, you need to right shift them by 19 places (<code>in1&gt;&gt;19</code>).</p>

<p>5V powersupply is fine for the LEDs, with PA6 connected to Axoloti, and GND connected to powersupply, LEDs and Axoloti.</p>

<p>The setv function:<br>The LEDs need serial data formatted like:<br><code>for a zero bit: 1000<br>for a one bit : 1100</code><br>(while the "formatted" bits need to be clocked at 3.2MBit/s)<br>Actually the WS2811 or WS2812 datasheet don't talk about this structure, it only gives timing specifications, and this fits the requirements.<br>So transmitting the intensity value for a single LED/channel needs to expand for example<br><code>value (decimal)15 = (binary)00001111 into 10001000100010001100110011001100</code><br>and that's what the <code>setv()</code> function does.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Reggie'><b itemprop='author'>Reggie</b></a>
           
           <time datetime='2016-07-28T20:35:48Z' itemprop='datePublished'>
             2016-07-28 20:35:48 UTC
           </time>
        </span>
        <span itemprop='position'>#13</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>A practical use case might be lighting specific leds because a specific midi message was received or a button was pressed or a condition reached.  </p>

<p>For instance, you could have a mode switch button, which switches banks for a 6 pot midi controller, each time it switches it could change colour to signify which bank your using.  or it could tell you if a channel is clipped/clipping...  or you could make your own vu meter etc.</p>

<p>I have zero experience with the axoloti but I have played with ws2812 leds and midi on an arduino.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/weasel79'><b itemprop='author'>weasel79</b></a>
           
           <time datetime='2019-05-27T00:41:09Z' itemprop='datePublished'>
             2019-05-27 00:41:09 UTC
           </time>
        </span>
        <span itemprop='position'>#14</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>edit.<br>nevermind i'm too stupid for the internet.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/AudioKitchen'><b itemprop='author'>AudioKitchen</b></a>
           
           <time datetime='2019-08-06T07:45:30Z' itemprop='datePublished'>
             2019-08-06 07:45:30 UTC
           </time>
        </span>
        <span itemprop='position'>#15</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm too stupid NOT to be on the internet <img src="//community.axoloti.com/images/emoji/twitter/joy.png?v=5" title=":joy:" class="emoji" alt=":joy:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/severino32'><b itemprop='author'>severino32</b></a>
           
           <time datetime='2019-09-28T15:29:02Z' itemprop='datePublished'>
             2019-09-28 15:29:02 UTC
           </time>
        </span>
        <span itemprop='position'>#16</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Great work! I want to make 33 encoders for my custom synth, so I think that I need to purchase 9 of them right? Are they available for shipping?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='&quot;intelligent&quot; LEDs ws2812 driven by Axoloti'>
      <hr>
            <a href="https://sebiik.github.io/community.axoloti.com.backup/t/4x1-rgb-led-ring-rotary-encoder-pcb-bulk-order/5662/43">4x1 RGB-LED-Ring/Rotary Encoder PCB Bulk Order</a>
            <hr>
  </div>






        <!-- :preload-content -->
        <footer>
          <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
            <a href='/'>Home</a>
            <a href="/categories">Categories</a>
            <a href="/guidelines">FAQ/Guidelines</a>
            <a href="/tos">Terms of Service</a>
            <a href="/privacy">Privacy Policy</a>
          </nav>
        </footer>
      </div>

      <footer id='noscript-footer'>
        <p>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
      </footer>
    </noscript>

      

    <section id='main'>
    </section>

    <div id='offscreen-content'>
    </div>

      <form id='hidden-login-form' method="post" action="/login" style="display: none;">
        <input name="username" type="text"     id="signin_username">
        <input name="password" type="password" id="signin_password">
        <input name="redirect" type="hidden">
        <input type="submit" id="signin-button" value="Log In">
      </form>

      <script>
      (function() {
        var ps = require('preload-store').default;
          ps.store("site", {"default_archetype":"regular","notification_types":{"mentioned":1,"replied":2,"quoted":3,"edited":4,"liked":5,"private_message":6,"invited_to_private_message":7,"invitee_accepted":8,"posted":9,"moved_post":10,"linked":11,"granted_badge":12,"invited_to_topic":13,"custom":14,"group_mentioned":15,"group_message_summary":16,"watching_first_post":17,"topic_reminder":18},"post_types":{"regular":1,"moderator_action":2,"small_action":3,"whisper":4},"groups":[{"id":1,"name":"admins"},{"id":0,"name":"everyone"},{"id":2,"name":"moderators"},{"id":3,"name":"staff"},{"id":10,"name":"trust_level_0"},{"id":11,"name":"trust_level_1"},{"id":12,"name":"trust_level_2"},{"id":13,"name":"trust_level_3"},{"id":14,"name":"trust_level_4"}],"filters":["latest","unread","new","read","posted","bookmarks"],"periods":["all","yearly","quarterly","monthly","weekly","daily"],"top_menu_items":["latest","unread","new","read","posted","bookmarks","category","categories","top"],"anonymous_top_menu_items":["latest","top","categories","category","categories","top"],"uncategorized_category_id":1,"is_readonly":false,"disabled_plugins":[],"user_field_max_length":2048,"suppressed_from_homepage_category_ids":[],"post_action_types":[{"name_key":"bookmark","name":"Bookmark","description":"Bookmark this post","short_description":"Bookmark this post","long_form":"bookmarked this post","is_flag":false,"icon":null,"id":1,"is_custom_flag":false},{"name_key":"like","name":"Like","description":"Like this post","short_description":"Like this post","long_form":"liked this","is_flag":false,"icon":"heart","id":2,"is_custom_flag":false},{"name_key":"off_topic","name":"Off-Topic","description":"This post is not relevant to the current discussion as defined by the title and first post, and should probably be moved elsewhere.","short_description":"Not relevant to the discussion","long_form":"flagged this as off-topic","is_flag":true,"icon":null,"id":3,"is_custom_flag":false},{"name_key":"inappropriate","name":"Inappropriate","description":"This post contains content that a reasonable person would consider offensive, abusive, or a violation of \u003ca href=\"/guidelines\"\u003eour community guidelines\u003c/a\u003e.","short_description":"A violation of \u003ca href=\"/guidelines\"\u003eour community guidelines\u003c/a\u003e","long_form":"flagged this as inappropriate","is_flag":true,"icon":null,"id":4,"is_custom_flag":false},{"name_key":"vote","name":"Vote","description":"Vote for this post","short_description":"Vote for this post","long_form":"voted for this post","is_flag":false,"icon":null,"id":5,"is_custom_flag":false},{"name_key":"spam","name":"Spam","description":"This post is an advertisement, or vandalism. It is not useful or relevant to the current topic.","short_description":"This is an advertisement or vandalism","long_form":"flagged this as spam","is_flag":true,"icon":null,"id":8,"is_custom_flag":false},{"name_key":"notify_user","name":"Send @{{username}} a message","description":"I want to talk to this person directly and privately about their post.","short_description":"I want to talk to this person directly and privately about their post.","long_form":"messaged user","is_flag":true,"icon":null,"id":6,"is_custom_flag":true},{"name_key":"notify_moderators","name":"Something Else","description":"This post requires staff attention for another reason not listed above.","short_description":"Requires staff attention for another reason","long_form":"flagged this for staff attention","is_flag":true,"icon":null,"id":7,"is_custom_flag":true}],"topic_flag_types":[{"name_key":"inappropriate","name":"Inappropriate","description":"This topic contains content that a reasonable person would consider offensive, abusive, or a violation of \u003ca href=\"/guidelines\"\u003eour community guidelines\u003c/a\u003e.","short_description":"translation missing: en.topic_flag_types.inappropriate.short_description","long_form":"flagged this as inappropriate","is_flag":true,"icon":null,"id":4,"is_custom_flag":false},{"name_key":"spam","name":"Spam","description":"This topic is an advertisement. It is not useful or relevant to this site, but promotional in nature.","short_description":"translation missing: en.topic_flag_types.spam.short_description","long_form":"flagged this as spam","is_flag":true,"icon":null,"id":8,"is_custom_flag":false},{"name_key":"notify_moderators","name":"Something Else","description":"This topic requires general staff attention based on the \u003ca href=\"/guidelines\"\u003eguidelines\u003c/a\u003e, \u003ca href=\"/tos\"\u003eTOS\u003c/a\u003e, or for another reason not listed above.","short_description":"translation missing: en.topic_flag_types.notify_moderators.short_description","long_form":"flagged this for moderator attention","is_flag":true,"icon":null,"id":7,"is_custom_flag":true}],"can_create_tag":null,"can_tag_topics":null,"tags_filter_regexp":"[/\\?#\\[\\]@!\\$\u0026'\\(\\)\\*\\+,;=\\.%\\\\`^\\s|\\{\\}\"\u003c\u003e]+","top_tags":["midi","controllers","modular","linux","1.0.11","macos","windows","troubleshooting","usb","challenge","wavetable","library","math","faust","dsp","out","tips","current","14bit"],"topic_featured_link_allowed_category_ids":[4,12,1,15,6,2,5,10,8,16,14,3,9,13,7,11],"user_themes":[{"theme_key":"b5ce34aa-3ee1-4d3e-b190-0a2ab62c7408","name":"Migrated from Site Text","default":true}],"categories":[{"id":1,"name":"Uncategorized","color":"AB9364","text_color":"FFFFFF","slug":"uncategorized","topic_count":-1,"post_count":1,"position":0,"description":"Topics that don't need a category, or don't fit into any other existing category.","description_text":"","topic_url":"/t/","read_restricted":false,"permission":null,"notification_level":1,"topic_template":null,"has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":10,"name":"User Guide","color":"3AB54A","text_color":"FFFFFF","slug":"user-guide","topic_count":24,"post_count":102,"position":1,"description":"This category contains posts to help users use Axoloti, a dynamic user guide.","description_text":"This category contains posts to help users use Axoloti, a dynamic user guide.","topic_url":"/t/about-the-user-guide-category/51","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":8,"name":"Helpdesk","color":"9EB83B","text_color":"FFFFFF","slug":"helpdesk","topic_count":374,"post_count":3008,"position":2,"description":"This category is for reporting issues and bugs\u003cbr\u003ePlease use other categories for discussions on features or questions or \"how to?\"","description_text":"This category is for reporting issues and bugsPlease use other categories for discussions on features or questions or \"how to?\"","topic_url":"/t/about-the-helpdesk-category/23","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":13,"name":"Community Library","color":"9EB83B","text_color":"FFFFFF","slug":"community-library","topic_count":54,"post_count":2919,"position":3,"description":"Category for the community library","description_text":"Category for the community library","topic_url":"/t/about-the-community-library-category/1005","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":7,"name":"Patching","color":"AB9364","text_color":"FFFFFF","slug":"patching","topic_count":993,"post_count":8114,"position":4,"description":"This category is for discussion about patching Axoloti, and sharing patches.","description_text":"This category is for discussion about patching Axoloti, and sharing patches.","topic_url":"/t/about-the-patching-category/14","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":5,"name":"Hardware","color":"AB9364","text_color":"FFFFFF","slug":"hardware","topic_count":659,"post_count":7211,"position":5,"description":"This category is intended for discussion about the Axoloti hardware and connecting to other hardware, including , connecting midi controllers and other hardware, related hardware projects. ","description_text":"This category is intended for discussion about the Axoloti hardware and connecting to other hardware, including , connecting midi controllers and other hardware, related hardware projects.","topic_url":"/t/about-the-hardware-category/12","read_restricted":false,"permission":null,"notification_level":1,"topic_template":null,"has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":6,"name":"Software","color":"AB9364","text_color":"FFFFFF","slug":"software","topic_count":329,"post_count":3333,"position":6,"description":"This category is for posts regarding the software of Axoloti, this includes the Axoloti patching GUI, Axoloti Objects (axo) and firmware. Please use the Patching category to discuss patching Axoloti. ","description_text":"This category is for posts regarding the software of Axoloti, this includes the Axoloti patching GUI, Axoloti Objects (axo) and firmware. Please use the Patching category to discuss patching Axoloti.","topic_url":"/t/about-the-software-category/13","read_restricted":false,"permission":null,"notification_level":1,"topic_template":null,"has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":16,"name":"AxoObject coding","color":"AB9364","text_color":"FFFFFF","slug":"axoobject-code","topic_count":265,"post_count":2158,"position":7,"description":"Category to discuss coding Axoloti Objects.","description_text":"Category to discuss coding Axoloti Objects.","topic_url":"/t/about-the-axoobject-coding-category/1519","read_restricted":false,"permission":null,"notification_level":1,"topic_template":null,"has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":14,"name":"News/Events","color":"283890","text_color":"FFFFFF","slug":"events","topic_count":30,"post_count":106,"position":8,"description":"Meetups, workshops, presentations, all sort of events.\u003cbr\u003eIt's perfectly fine for users to announce and discuss their own events, as long as it is related to Axoloti somehow.\u003cbr\u003eStart your topic title with the name of the area where your event will happen.","description_text":"Meetups, workshops, presentations, all sort of events.It's perfectly fine for users to announce and discuss their own events, as long as it is related to Axoloti somehow.Start your topic title with the name of the area where your event will happen.","topic_url":"/t/about-the-events-category/1142","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":12,"name":"Challenges","color":"0E76BD","text_color":"FFFFFF","slug":"challenges","topic_count":19,"post_count":266,"position":9,"description":"This category is for challenges, competitions and discussions related to these.\u003cbr\u003eposters are reminded when entering challenges and competitions to not include any copyrighted material","description_text":"This category is for challenges, competitions and discussions related to these.posters are reminded when entering challenges and competitions to not include any copyrighted material","topic_url":"/t/about-the-challenges-category/838","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":9,"name":"Your Music/Projects","color":"0E76BD","text_color":"FFFFFF","slug":"your-music-projects","topic_count":180,"post_count":1263,"position":10,"description":"Have some music that you have made with Axoloti? or an interesting project you would like to share the communities?\u003cbr\u003eTells us about it here.","description_text":"Have some music that you have made with Axoloti? or an interesting project you would like to share the communities?Tells us about it here.","topic_url":"/t/about-the-your-music-projects-category/25","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":15,"name":"Lounge","color":"AB9364","text_color":"FFFFFF","slug":"lounge","topic_count":101,"post_count":1693,"position":11,"description":"This category is for discussions that are related to Axoloti generally but are not specifically about Axoloti.\u003cbr\u003e(please ensure it has some relevance to Axoloti, rather than general discussion) ","description_text":"This category is for discussions that are related to Axoloti generally but are not specifically about Axoloti.(please ensure it has some relevance to Axoloti, rather than general discussion)","topic_url":"/t/about-the-lounge-category/1277","read_restricted":false,"permission":null,"notification_level":1,"topic_template":null,"has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":11,"name":"Developer","color":"BF1E2E","text_color":"FFFFFF","slug":"developer","topic_count":66,"post_count":645,"position":12,"description":"This category is for discussion about the development of Axoloti at a low level, its intended only for developers/programmers.","description_text":"This category is for discussion about the development of Axoloti at a low level, its intended only for developers/programmers.","topic_url":"/t/about-the-developer-category/735","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"This category is for low level discussion on the development of Axoloti, its is intended for developers/programmers only.","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":3,"name":"Website and Forum","color":"808281","text_color":"FFFFFF","slug":"meta","topic_count":45,"post_count":410,"position":13,"description":"Discussion about this site, its organization, how it works, and how we can improve it.","description_text":"Discussion about this site, its organization, how it works, and how we can improve it.","topic_url":"/t/about-the-meta-category/2","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null}],"trust_levels":[{"id":0,"name":"new user"},{"id":1,"name":"basic user"},{"id":2,"name":"member"},{"id":3,"name":"regular"},{"id":4,"name":"leader"}],"archetypes":[{"id":"regular","name":"Regular Topic","options":[]},{"id":"banner","name":"Banner Topic","options":[]}],"user_fields":[]});
          ps.store("siteSettings", {"title":"Axoloti Community","contact_email":"johannes.taelman@gmail.com","contact_url":"","logo_url":"/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png","logo_small_url":"/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png","mobile_logo_url":"","favicon_url":"/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png","allow_user_locale":false,"suggested_topics":5,"track_external_right_clicks":false,"ga_universal_tracking_code":"UA-56017691-4","ga_universal_domain_name":"auto","ga_tracking_code":"","ga_domain_name":"","gtm_container_id":"","top_menu":"categories|latest|new|unread|top","post_menu":"like-count|like|share|flag|edit|bookmark|delete|admin|reply","post_menu_hidden_items":"flag|bookmark|edit|delete|admin","share_links":"twitter|facebook|email","desktop_category_page_style":"categories_and_latest_topics","category_colors":"BF1E2E|F1592A|F7941D|9EB83B|3AB54A|12A89D|25AAE2|0E76BD|652D90|92278F|ED207B|8C6238|231F20|808281|B3B5B4|283890","category_style":"bullet","enable_mobile_theme":true,"relative_date_duration":30,"fixed_category_positions":true,"fixed_category_positions_on_create":false,"enable_badges":true,"enable_badge_sql":false,"enable_whispers":false,"invite_only":false,"login_required":false,"must_approve_users":false,"enable_local_logins":true,"allow_new_registrations":true,"enable_signup_cta":true,"enable_google_oauth2_logins":false,"enable_yahoo_logins":false,"enable_twitter_logins":false,"enable_instagram_logins":false,"enable_facebook_logins":false,"enable_github_logins":false,"enable_sso":false,"sso_overrides_avatar":false,"min_username_length":3,"max_username_length":20,"min_password_length":10,"min_admin_password_length":15,"logout_redirect":"","full_name_required":false,"enable_names":true,"invites_per_page":40,"delete_user_max_post_age":60,"delete_all_posts_max":15,"show_email_on_profile":false,"prioritize_username_in_ux":true,"enable_user_directory":true,"allow_anonymous_posting":false,"anonymous_posting_min_trust_level":1,"hide_user_profiles_from_public":false,"enable_group_directory":true,"min_post_length":20,"min_first_post_length":20,"min_private_message_post_length":10,"max_post_length":32000,"topic_featured_link_enabled":true,"min_topic_title_length":15,"max_topic_title_length":255,"min_private_message_title_length":2,"allow_uncategorized_topics":false,"min_title_similar_length":10,"min_body_similar_length":15,"enable_private_messages":true,"edit_history_visible_to_public":false,"delete_removed_posts_after":24,"enable_experimental_markdown_it":false,"traditional_markdown_linebreaks":false,"enable_markdown_typographer":false,"allow_html_tables":false,"suppress_reply_directly_below":true,"suppress_reply_directly_above":true,"max_reply_history":1,"newuser_max_images":1,"newuser_max_attachments":2,"show_pinned_excerpt_mobile":true,"show_pinned_excerpt_desktop":true,"display_name_on_posts":false,"show_time_gap_days":7,"short_progress_text_threshold":10000,"default_code_lang":"auto","autohighlight_all_code":false,"highlighted_languages":"apache|bash|cs|cpp|css|coffeescript|diff|xml|http|ini|json|java|javascript|makefile|markdown|nginx|objectivec|ruby|perl|php|python|sql|handlebars","censored_words":"","censored_pattern":"","enable_emoji":true,"emoji_set":"twitter","code_formatting_style":"4-spaces-indent","allowed_href_schemes":"","email_time_window_mins":10,"disable_digest_emails":false,"email_in":false,"disable_emails":false,"bounce_score_threshold":4,"max_image_size_kb":3072,"max_attachment_size_kb":3072,"authorized_extensions":"jpg|jpeg|png|gif|axo|axp|axs|axh|fpd|brd|axt","max_image_width":690,"max_image_height":500,"prevent_anons_from_downloading_files":false,"enable_s3_uploads":false,"allow_profile_backgrounds":true,"allow_uploaded_avatars":true,"allow_animated_avatars":false,"default_avatars":"","external_system_avatars_enabled":true,"external_system_avatars_url":"/letter_avatar_proxy/v2/letter/{first_letter}/{color}/{size}.png","allow_staff_to_upload_any_file_in_pm":true,"tl1_requires_read_posts":30,"tl3_links_no_follow":false,"use_admin_ip_whitelist":false,"max_oneboxes_per_post":50,"alert_admins_if_errors_per_minute":0,"alert_admins_if_errors_per_hour":0,"max_prints_per_hour_per_user":5,"enable_long_polling":true,"long_polling_base_url":"/","background_polling_interval":60000,"polling_interval":3000,"anon_polling_interval":15000,"flush_timings_secs":20,"verbose_localization":false,"max_new_topics":500,"tos_url":"","privacy_policy_url":"","faq_url":"","maximum_backups":5,"min_search_term_length":3,"version_checks":true,"suppress_uncategorized_badge":true,"topic_views_heat_low":1000,"topic_views_heat_medium":2000,"topic_views_heat_high":5000,"topic_post_like_heat_low":0.5,"topic_post_like_heat_medium":1.0,"topic_post_like_heat_high":2.0,"history_hours_low":12,"history_hours_medium":24,"history_hours_high":48,"cold_age_days_low":14,"cold_age_days_medium":90,"cold_age_days_high":180,"global_notice":"","show_create_topics_notice":true,"bootstrap_mode_min_users":50,"bootstrap_mode_enabled":false,"automatically_unpin_topics":true,"read_time_word_count":500,"disable_mailing_list_mode":false,"default_topics_automatic_unpin":true,"tagging_enabled":true,"tag_style":"simple","max_tags_per_topic":5,"max_tag_length":20,"min_trust_level_to_tag_topics":0,"max_tag_search_results":5,"show_filter_by_tag":true,"tags_sort_alphabetically":false,"staff_tags":"","suppress_overlapping_tags_in_list":false,"discourse_narrative_bot_enabled":true,"poll_enabled":true,"poll_maximum_options":20,"details_enabled":true,"available_locales":"ar|bs_BA|cs|da|de|el|en|es|et|fa_IR|fi|fr|gl|he|id|it|ja|ko|nb_NO|nl|pl_PL|pt|pt_BR|ro|ru|sk|sq|sv|te|tr_TR|uk|ur|vi|zh_CN|zh_TW"});
          ps.store("customHTML", {"top":"","footer":""});
          ps.store("banner", {});
          ps.store("customEmoji", []);
          ps.store("translationOverrides", {});
          ps.store("topic_330", {"post_stream":{"posts":[{"id":1188,"name":"Johannes Wegener","username":"hpfmn","avatar_template":"/letter_avatar_proxy/v2/letter/h/73ab20/{size}.png","created_at":"2015-08-26T14:08:24.089Z","cooked":"\u003cp\u003eHi,\u003cbr\u003eI would like to connect some ws2812 to the axoloti. I think I need to create a new object to get this done. Question is: how do I start? As far as I understand K-rate Code runs at 3000Hz and S-Rate Code runs at 48kHz. Both seems to slow to generate 800kHz for the ws2812?\u003c/p\u003e\n\n\u003cp\u003eCurrently I'm also not entirely sure how the PWM generation of the existing PWM OSCs work. I also don't know what the PWM timers are for.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2015-08-26T14:08:24.089Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"avg_time":31,"incoming_link_count":234,"reads":158,"score":1208.15,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"Johannes Wegener","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://community.axoloti.com/t/recomended-spi-port-for-external-display/2156/5","internal":true,"reflection":true,"title":"Recomended SPI Port for external Display","clicks":3}],"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":156,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":1204,"name":"johannes","username":"johannes","avatar_template":"/user_avatar/community.axoloti.com/johannes/{size}/8_1.png","created_at":"2015-08-26T15:36:46.815Z","cooked":"\u003cp\u003eIt's a bit complex...\u003c/p\u003e\n\n\u003cp\u003eI have made an example for WS2811 leds, can be found in \u003cbr\u003earchive/tests/io/spi_WS2811.axh\u003cbr\u003eBUT\u003cbr\u003eyou have to modify the firmware, and change\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode\u003e#define STM32_UART_USE_USART2               FALSE\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003einto\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode\u003e#define STM32_UART_USE_USART2               TRUE\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eand\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode\u003e#define STM32_SERIAL_USE_USART2             TRUE\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003einto\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode\u003e#define STM32_SERIAL_USE_USART2             FALSE\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003eand recompile/flash firmware.\u003c/p\u003e\n\n\u003caside class=\"quote\" data-post=\"1\" data-topic=\"330\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/letter_avatar/hpfmn/40/5_fcf819f9b3791cb8c87edf29c8984f83.png\" class=\"avatar\"\u003ehpfmn:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eCurrently I'm also not entirely sure how the PWM generation of the existing PWM OSCs work.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eosc/pwm is based on a bandlimited step table\u003cbr\u003e\u003ca href=\"http://www.cs.cmu.edu/~eli/papers/icmc01-hardsync.pdf\" class=\"onebox\" target=\"_blank\"\u003ehttp://www.cs.cmu.edu/~eli/papers/icmc01-hardsync.pdf\u003c/a\u003e\u003c/p\u003e\n\n\u003caside class=\"quote\" data-post=\"1\" data-topic=\"330\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/letter_avatar/hpfmn/40/5_fcf819f9b3791cb8c87edf29c8984f83.png\" class=\"avatar\"\u003ehpfmn:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eI also don't know what the PWM timers are for.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003ethe gpio/out/pwm * objects were made originally to control LED dimmers, but can be used for other purposes too. They're not for audio PWM oscillators. But the implementation of these objects is currently not very flexible.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2015-08-26T15:38:40.533Z","reply_count":1,"reply_to_post_number":null,"quote_count":1,"avg_time":47,"incoming_link_count":1,"reads":154,"score":43.15,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"johannes","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://www.cs.cmu.edu/~eli/papers/icmc01-hardsync.pdf","internal":false,"reflection":false,"clicks":9}],"read":true,"user_title":null,"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":3,"hidden":false,"hidden_reason_id":null,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":1209,"name":"Johannes Wegener","username":"hpfmn","avatar_template":"/letter_avatar_proxy/v2/letter/h/73ab20/{size}.png","created_at":"2015-08-26T17:07:38.074Z","cooked":"\u003cp\u003eIs there any withdraw in changing these defines?\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2015-08-26T17:07:38.074Z","reply_count":1,"reply_to_post_number":2,"quote_count":0,"avg_time":16,"incoming_link_count":0,"reads":136,"score":33.0,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"Johannes Wegener","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"johannes","avatar_template":"/user_avatar/community.axoloti.com/johannes/{size}/8_1.png"},"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":156,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":1212,"name":"johannes","username":"johannes","avatar_template":"/user_avatar/community.axoloti.com/johannes/{size}/8_1.png","created_at":"2015-08-26T17:19:42.324Z","cooked":"\u003cp\u003eThe UART interface in chibios is for DMA-accelerated block transfer. \u003cbr\u003eThe Serial in chibios is for a stream interface.\u003c/p\u003e\n\n\u003cp\u003eIn development, the stream interface is nice, since it allows to log messages with sprintf-style calls.\u003cbr\u003eSome conditional compiles are present in firmware to log deep stuff to uart (ENABLE_SERIAL_DEBUG).\u003c/p\u003e\n\n\u003cp\u003eFor the ws281x leds, the serial interface does not work because the serial interface uses interrupts, that does not produce the tight timing required for these leds.\u003c/p\u003e\n\n\u003cp\u003eBoth interfaces can't be enabled for the same USART peripheral. \u003c/p\u003e\n\n\u003cp\u003eUsing SPI is also an option but I could not get a suitable bitrate configured. This may work by feeding it an external clock, perhaps generated by a timer in pwm output mode. Only try this if you're into hardware hacking and have an oscilloscope or logic analyzer near...\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2015-08-26T17:19:42.324Z","reply_count":0,"reply_to_post_number":3,"quote_count":0,"avg_time":17,"incoming_link_count":2,"reads":140,"score":38.85,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"johannes","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"hpfmn","avatar_template":"/letter_avatar_proxy/v2/letter/h/73ab20/{size}.png"},"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":3,"hidden":false,"hidden_reason_id":null,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":1525,"name":"","username":"Chridmeister","avatar_template":"/user_avatar/community.axoloti.com/chridmeister/{size}/390_1.png","created_at":"2015-09-02T00:06:59.396Z","cooked":"\u003cp\u003eOne solution may be to use something else to drive the WS2812's, such as an ATTiny? Get the Axoloti to talk to the tiny at it's leisure, and the tiny can do the high speed stuff on its own.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2015-09-02T00:06:59.396Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"avg_time":16,"incoming_link_count":3,"reads":120,"score":44.8,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":166,"hidden":false,"hidden_reason_id":null,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":1527,"name":"Johannes Wegener","username":"hpfmn","avatar_template":"/letter_avatar_proxy/v2/letter/h/73ab20/{size}.png","created_at":"2015-09-02T09:46:19.418Z","cooked":"\u003cp\u003eThanks for this hint \u003cimg src=\"/images/emoji/emoji_one/smile.png?v=0\" title=\":smile:\" class=\"emoji\" alt=\"smile\"\u003e\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2015-09-02T09:46:19.418Z","reply_count":0,"reply_to_post_number":5,"quote_count":0,"avg_time":17,"incoming_link_count":3,"reads":116,"score":39.05,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"Johannes Wegener","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Chridmeister","avatar_template":"/user_avatar/community.axoloti.com/chridmeister/{size}/390_1.png"},"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":156,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":12384,"name":"","username":"Reggie","avatar_template":"/letter_avatar_proxy/v2/letter/r/13edae/{size}.png","created_at":"2016-07-27T13:56:36.846Z","cooked":"\u003cp\u003eDid the ws2812 led object gain much traction or was it left for an external mcu to do the work?\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2016-07-27T13:56:36.846Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"avg_time":22,"incoming_link_count":10,"reads":90,"score":74.1,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":784,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":12403,"name":"johannes","username":"johannes","avatar_template":"/user_avatar/community.axoloti.com/johannes/{size}/8_1.png","created_at":"2016-07-28T13:51:02.553Z","cooked":"\u003cp\u003eMade a new patch, added into axoloti-contrib: patches/jt/led_string_ws2811.axp\u003cbr\u003e\"Sync Libraries\" in 1.0.10 and you'll get it.\u003cbr\u003eI have developed a trick to make it work with stock firmware. SPI is used to generate the data-stream, with the help of a PWM channel (from timer4) to generate the right bitrate. The SPI in master mode can not generate a suitable bitrate, so it uses SPI slave mode, with the PWM channel used to generate the right data clock.\u003c/p\u003e\n\n\u003cp\u003e\u003cstrong\u003eYou need to connect PB8 to PA5\u003c/strong\u003e\u003cbr\u003eWS2811 data out is on \u003cstrong\u003ePA6\u003c/strong\u003e\u003c/p\u003e\n\n\u003cp\u003eTested with \u003ca href=\"https://www.olimex.com/Products/Components/LEDs/LED-ROPE-10/\" rel=\"nofollow\"\u003ethis\u003c/a\u003e LED Rope.\u003c/p\u003e\n\n\u003cp\u003eI believe the generated data stream is compatible with both WS2811 and WS2812, but R/G/B may be swapped around. \u003c/p\u003e\n\n\u003cp\u003eI suggest to use an independent (isolated) power supply to prevent injecting switching noises into the audio.\u003c/p\u003e\n\n\u003cp\u003eFeedback welcome!\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2016-07-28T16:39:45.391Z","reply_count":1,"reply_to_post_number":7,"quote_count":0,"avg_time":24,"incoming_link_count":8,"reads":92,"score":79.6,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"johannes","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":3,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://www.olimex.com/Products/Components/LEDs/LED-ROPE-10/","internal":false,"reflection":false,"title":"LED-ROPE-10","clicks":58},{"url":"http://community.axoloti.com/t/4x1-rgb-led-ring-rotary-encoder-pcb-bulk-order/5662/8","internal":true,"reflection":true,"title":"4x1 RGB-LED-Ring/Rotary Encoder PCB Bulk Order","clicks":1}],"read":true,"user_title":null,"reply_to_user":{"username":"Reggie","avatar_template":"/letter_avatar_proxy/v2/letter/r/13edae/{size}.png"},"actions_summary":[{"id":2,"count":1}],"moderator":true,"admin":true,"staff":true,"user_id":3,"hidden":false,"hidden_reason_id":null,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":12411,"name":"","username":"Reggie","avatar_template":"/letter_avatar_proxy/v2/letter/r/13edae/{size}.png","created_at":"2016-07-28T18:44:38.753Z","cooked":"\u003cp\u003eThank you for looking at this \u003cimg src=\"/images/emoji/emoji_one/slight_smile.png?v=2\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e Unfortunately, led_string_ws2811.axp doesn't appear to be syncing, I can't see it on github either atm.\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2016-07-28T18:44:38.753Z","reply_count":1,"reply_to_post_number":8,"quote_count":0,"avg_time":19,"incoming_link_count":3,"reads":84,"score":37.75,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"johannes","avatar_template":"/user_avatar/community.axoloti.com/johannes/{size}/8_1.png"},"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":784,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":12413,"name":"johannes","username":"johannes","avatar_template":"/user_avatar/community.axoloti.com/johannes/{size}/8_1.png","created_at":"2016-07-28T19:04:27.235Z","cooked":"\u003cp\u003eIf you access github directly, you need to switch to the 1.0.10 branch \u003ca href=\"https://github.com/axoloti/axoloti-contrib/tree/1.0.10/patches/jt\" rel=\"nofollow\"\u003ehttps://github.com/axoloti/axoloti-contrib/tree/1.0.10/patches/jt\u003c/a\u003e\u003cbr\u003eIf you use the \"sync libraries\", it should appear in Your Documents/axoloti/axoloti-contrib/patches/jt\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2016-07-28T19:04:27.235Z","reply_count":1,"reply_to_post_number":9,"quote_count":0,"avg_time":19,"incoming_link_count":0,"reads":81,"score":22.15,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"johannes","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/axoloti/axoloti-contrib/tree/1.0.10/patches/jt","internal":false,"reflection":false,"title":"axoloti-contrib/patches/jt at 1.0.10 · axoloti/axoloti-contrib · GitHub","clicks":25}],"read":true,"user_title":null,"reply_to_user":{"username":"Reggie","avatar_template":"/letter_avatar_proxy/v2/letter/r/13edae/{size}.png"},"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":3,"hidden":false,"hidden_reason_id":null,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":12420,"name":"","username":"Reggie","avatar_template":"/letter_avatar_proxy/v2/letter/r/13edae/{size}.png","created_at":"2016-07-28T19:52:38.123Z","cooked":"\u003cp\u003eThanks, I found it \u003cimg src=\"/images/emoji/emoji_one/smile.png?v=2\" title=\":smile:\" class=\"emoji\" alt=\":smile:\"\u003e That's a cool trick pwm'ing the clockrate!!  \u003c/p\u003e\n\n\u003cp\u003eHow does the patch work Johannes?  Is it just doing a light show, or can the colours be manipulated by incoming data streams?  atm I can see it's working for a string of 10 leds  (nleds = 10), can you explain what the setv function does? Lastly, is it safe to use a 5v psu for the leds with the PA6 pin connected to the leds?\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2016-07-28T19:52:38.123Z","reply_count":1,"reply_to_post_number":10,"quote_count":0,"avg_time":22,"incoming_link_count":0,"reads":86,"score":23.3,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"johannes","avatar_template":"/user_avatar/community.axoloti.com/johannes/{size}/8_1.png"},"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":784,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":12425,"name":"johannes","username":"johannes","avatar_template":"/user_avatar/community.axoloti.com/johannes/{size}/8_1.png","created_at":"2016-07-28T20:20:32.643Z","cooked":"\u003cp\u003eI did not make an object that has RGB inlets for every LED, I think that would be hard to manage for dozens of LEDs. So yes it just shows scrolling RGB colors. \u003cbr\u003eI believe in practical use cases, you want to control a few parameters of a lightshow, while the lightshow algorithm itself is better suited to coding than patching. So the script needs to be adapted to different situations...\u003cbr\u003eIf you want to use the two available inlets of the script2 object, you can just use in1 and in2 variables in the code, to convert them to 8bit intensity, you need to right shift them by 19 places (\u003ccode\u003ein1\u0026gt;\u0026gt;19\u003c/code\u003e).\u003c/p\u003e\n\n\u003cp\u003e5V powersupply is fine for the LEDs, with PA6 connected to Axoloti, and GND connected to powersupply, LEDs and Axoloti.\u003c/p\u003e\n\n\u003cp\u003eThe setv function:\u003cbr\u003eThe LEDs need serial data formatted like:\u003cbr\u003e\u003ccode\u003efor a zero bit: 1000\u003cbr\u003efor a one bit : 1100\u003c/code\u003e\u003cbr\u003e(while the \"formatted\" bits need to be clocked at 3.2MBit/s)\u003cbr\u003eActually the WS2811 or WS2812 datasheet don't talk about this structure, it only gives timing specifications, and this fits the requirements.\u003cbr\u003eSo transmitting the intensity value for a single LED/channel needs to expand for example\u003cbr\u003e\u003ccode\u003evalue (decimal)15 = (binary)00001111 into 10001000100010001100110011001100\u003c/code\u003e\u003cbr\u003eand that's what the \u003ccode\u003esetv()\u003c/code\u003e function does.\u003c/p\u003e","post_number":12,"post_type":1,"updated_at":"2016-07-28T22:35:05.853Z","reply_count":1,"reply_to_post_number":11,"quote_count":0,"avg_time":26,"incoming_link_count":1,"reads":92,"score":29.5,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"johannes","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Reggie","avatar_template":"/letter_avatar_proxy/v2/letter/r/13edae/{size}.png"},"actions_summary":[],"moderator":true,"admin":true,"staff":true,"user_id":3,"hidden":false,"hidden_reason_id":null,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":12427,"name":"","username":"Reggie","avatar_template":"/letter_avatar_proxy/v2/letter/r/13edae/{size}.png","created_at":"2016-07-28T20:35:48.418Z","cooked":"\u003cp\u003eA practical use case might be lighting specific leds because a specific midi message was received or a button was pressed or a condition reached.  \u003c/p\u003e\n\n\u003cp\u003eFor instance, you could have a mode switch button, which switches banks for a 6 pot midi controller, each time it switches it could change colour to signify which bank your using.  or it could tell you if a channel is clipped/clipping...  or you could make your own vu meter etc.\u003c/p\u003e\n\n\u003cp\u003eI have zero experience with the axoloti but I have played with ws2812 leds and midi on an arduino.\u003c/p\u003e","post_number":13,"post_type":1,"updated_at":"2016-07-28T20:36:18.719Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"avg_time":19,"incoming_link_count":1,"reads":92,"score":24.15,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":784,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":34386,"name":"blender","username":"weasel79","avatar_template":"/user_avatar/community.axoloti.com/weasel79/{size}/6141_1.png","created_at":"2019-05-27T00:41:09.195Z","cooked":"\u003cp\u003eedit.\u003cbr\u003enevermind i'm too stupid for the internet.\u003c/p\u003e","post_number":14,"post_type":1,"updated_at":"2019-05-27T00:46:43.552Z","reply_count":1,"reply_to_post_number":12,"quote_count":0,"avg_time":17,"incoming_link_count":0,"reads":52,"score":16.05,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"blender","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"johannes","avatar_template":"/user_avatar/community.axoloti.com/johannes/{size}/8_1.png"},"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":2121,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":35304,"name":"Steve","username":"AudioKitchen","avatar_template":"/letter_avatar_proxy/v2/letter/a/db5fbb/{size}.png","created_at":"2019-08-06T07:45:30.040Z","cooked":"\u003cp\u003eI'm too stupid NOT to be on the internet \u003cimg src=\"//community.axoloti.com/images/emoji/twitter/joy.png?v=5\" title=\":joy:\" class=\"emoji\" alt=\":joy:\"\u003e\u003c/p\u003e","post_number":15,"post_type":1,"updated_at":"2019-08-06T07:45:30.040Z","reply_count":0,"reply_to_post_number":14,"quote_count":0,"avg_time":17,"incoming_link_count":0,"reads":49,"score":10.45,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"Steve","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"weasel79","avatar_template":"/user_avatar/community.axoloti.com/weasel79/{size}/6141_1.png"},"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":2264,"hidden":false,"hidden_reason_id":null,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":36214,"name":"","username":"severino32","avatar_template":"/letter_avatar_proxy/v2/letter/s/8c91f0/{size}.png","created_at":"2019-09-28T15:29:02.861Z","cooked":"\u003cp\u003eGreat work! I want to make 33 encoders for my custom synth, so I think that I need to purchase 9 of them right? Are they available for shipping?\u003c/p\u003e","post_number":16,"post_type":1,"updated_at":"2019-09-28T15:29:02.861Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"avg_time":14,"incoming_link_count":1,"reads":42,"score":13.9,"yours":false,"topic_id":330,"topic_slug":"intelligent-leds-ws2812-driven-by-axoloti","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://community.axoloti.com/t/4x1-rgb-led-ring-rotary-encoder-pcb-bulk-order/5662/43","internal":true,"reflection":true,"title":"4x1 RGB-LED-Ring/Rotary Encoder PCB Bulk Order","clicks":10}],"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":2313,"hidden":false,"hidden_reason_id":null,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false}],"stream":[1188,1204,1209,1212,1525,1527,12384,12403,12411,12413,12420,12425,12427,34386,35304,36214]},"timeline_lookup":[[1,2012],[5,2005],[7,1676],[8,1675],[9,1674],[14,642],[15,571],[16,518]],"id":330,"title":"\"intelligent\" LEDs ws2812 driven by Axoloti","fancy_title":"\u0026ldquo;intelligent\u0026rdquo; LEDs ws2812 driven by Axoloti","posts_count":16,"created_at":"2015-08-26T14:08:23.872Z","views":2356,"reply_count":10,"participant_count":7,"like_count":1,"last_posted_at":"2019-09-28T15:29:02.861Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"intelligent-leds-ws2812-driven-by-axoloti","category_id":5,"word_count":1110,"deleted_at":null,"user_id":156,"pm_with_non_human_user":false,"draft":null,"draft_key":"topic_330","draft_sequence":null,"unpinned":null,"pinned_globally":false,"pinned":false,"pinned_at":null,"pinned_until":null,"details":{"created_by":{"id":156,"username":"hpfmn","avatar_template":"/letter_avatar_proxy/v2/letter/h/73ab20/{size}.png"},"last_poster":{"id":2313,"username":"severino32","avatar_template":"/letter_avatar_proxy/v2/letter/s/8c91f0/{size}.png"},"participants":[{"id":3,"username":"johannes","avatar_template":"/user_avatar/community.axoloti.com/johannes/{size}/8_1.png","post_count":5,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":784,"username":"Reggie","avatar_template":"/letter_avatar_proxy/v2/letter/r/13edae/{size}.png","post_count":4,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":156,"username":"hpfmn","avatar_template":"/letter_avatar_proxy/v2/letter/h/73ab20/{size}.png","post_count":3,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":2264,"username":"AudioKitchen","avatar_template":"/letter_avatar_proxy/v2/letter/a/db5fbb/{size}.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":166,"username":"Chridmeister","avatar_template":"/user_avatar/community.axoloti.com/chridmeister/{size}/390_1.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":2121,"username":"weasel79","avatar_template":"/user_avatar/community.axoloti.com/weasel79/{size}/6141_1.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":2313,"username":"severino32","avatar_template":"/letter_avatar_proxy/v2/letter/s/8c91f0/{size}.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"suggested_topics":[{"id":6514,"title":"Multiple Midi Controllers Working ! + Ableton Link and other dreams","fancy_title":"Multiple Midi Controllers Working ! + Ableton Link and other dreams","slug":"multiple-midi-controllers-working-ableton-link-and-other-dreams","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":"/uploads/default/optimized/2X/d/ddaf05578d40cc35232aac2d7c1001549951ea49_1_670x500.PNG","created_at":"2020-03-29T14:02:29.972Z","last_posted_at":"2020-03-29T14:02:30.140Z","bumped":true,"bumped_at":"2020-03-29T14:02:30.140Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":3,"views":246,"category_id":5,"tags":["controllers","midi","linux","modular"],"featured_link":null,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1936,"username":"DrKoma","avatar_template":"/user_avatar/community.axoloti.com/drkoma/{size}/6977_1.png"}}]},{"id":6585,"title":"Axoloti Core now Sold (was for Sale)","fancy_title":"Axoloti Core now Sold (was for Sale)","slug":"axoloti-core-now-sold-was-for-sale","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2020-04-26T21:17:37.559Z","last_posted_at":"2020-04-30T14:51:49.983Z","bumped":true,"bumped_at":"2020-04-30T14:51:49.983Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":1,"views":292,"category_id":5,"tags":[],"featured_link":null,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":2278,"username":"joolsa","avatar_template":"/user_avatar/community.axoloti.com/joolsa/{size}/6404_1.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1397,"username":"Krakli","avatar_template":"/letter_avatar_proxy/v2/letter/k/898d66/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":2483,"username":"chico","avatar_template":"/letter_avatar_proxy/v2/letter/c/b38774/{size}.png"}}]},{"id":6681,"title":"Teensy and Mux Through I2C","fancy_title":"Teensy and Mux Through I2C","slug":"teensy-and-mux-through-i2c","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2020-06-11T17:50:24.555Z","last_posted_at":"2020-06-14T06:12:52.918Z","bumped":true,"bumped_at":"2020-06-14T06:12:52.918Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":0,"views":283,"category_id":5,"tags":[],"featured_link":null,"posters":[{"extras":null,"description":"Original Poster","user":{"id":2319,"username":"Arthurr","avatar_template":"/letter_avatar_proxy/v2/letter/a/76d3ee/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":2111,"username":"tele_player","avatar_template":"/letter_avatar_proxy/v2/letter/t/e47c2d/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":2371,"username":"Nosnibor","avatar_template":"/letter_avatar_proxy/v2/letter/n/51bf81/{size}.png"}}]},{"id":6710,"title":"PWM output for cassette player motor","fancy_title":"PWM output for cassette player motor","slug":"pwm-output-for-cassette-player-motor","posts_count":13,"reply_count":7,"highest_post_number":13,"image_url":null,"created_at":"2020-07-03T07:38:59.600Z","last_posted_at":"2020-07-09T05:32:58.348Z","bumped":true,"bumped_at":"2020-07-09T05:32:58.348Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":4,"views":384,"category_id":5,"tags":[],"featured_link":null,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":2269,"username":"Janko","avatar_template":"/user_avatar/community.axoloti.com/janko/{size}/7200_1.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":2123,"username":"Paulus","avatar_template":"/user_avatar/community.axoloti.com/paulus/{size}/6075_1.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":2371,"username":"Nosnibor","avatar_template":"/letter_avatar_proxy/v2/letter/n/51bf81/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":790,"username":"lokki","avatar_template":"/user_avatar/community.axoloti.com/lokki/{size}/5157_1.png"}}]},{"id":6779,"title":"MIDI to I2C converter","fancy_title":"MIDI to I2C converter","slug":"midi-to-i2c-converter","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2020-08-05T20:16:31.853Z","last_posted_at":"2020-08-05T21:30:24.006Z","bumped":true,"bumped_at":"2020-08-05T21:30:24.006Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":0,"views":181,"category_id":5,"tags":[],"featured_link":null,"posters":[{"extras":null,"description":"Original Poster","user":{"id":154,"username":"AdrianWillaert","avatar_template":"/user_avatar/community.axoloti.com/adrianwillaert/{size}/468_1.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":2111,"username":"tele_player","avatar_template":"/letter_avatar_proxy/v2/letter/t/e47c2d/{size}.png"}}]}],"links":[{"url":"https://www.olimex.com/Products/Components/LEDs/LED-ROPE-10/","title":"LED-ROPE-10","fancy_title":null,"internal":false,"attachment":false,"reflection":false,"clicks":58,"user_id":3,"domain":"www.olimex.com"},{"url":"https://github.com/axoloti/axoloti-contrib/tree/1.0.10/patches/jt","title":"axoloti-contrib/patches/jt at 1.0.10 · axoloti/axoloti-contrib · GitHub","fancy_title":null,"internal":false,"attachment":false,"reflection":false,"clicks":25,"user_id":3,"domain":"github.com"},{"url":"http://community.axoloti.com/t/4x1-rgb-led-ring-rotary-encoder-pcb-bulk-order/5662/43","title":"4x1 RGB-LED-Ring/Rotary Encoder PCB Bulk Order","fancy_title":null,"internal":true,"attachment":false,"reflection":true,"clicks":10,"user_id":2121,"domain":"community.axoloti.com"},{"url":"http://www.cs.cmu.edu/~eli/papers/icmc01-hardsync.pdf","title":null,"fancy_title":null,"internal":false,"attachment":false,"reflection":false,"clicks":9,"user_id":3,"domain":"www.cs.cmu.edu"},{"url":"http://community.axoloti.com/t/recomended-spi-port-for-external-display/2156/5","title":"Recomended SPI Port for external Display","fancy_title":null,"internal":true,"attachment":false,"reflection":true,"clicks":3,"user_id":3,"domain":"community.axoloti.com"},{"url":"http://community.axoloti.com/t/4x1-rgb-led-ring-rotary-encoder-pcb-bulk-order/5662/8","title":"4x1 RGB-LED-Ring/Rotary Encoder PCB Bulk Order","fancy_title":null,"internal":true,"attachment":false,"reflection":true,"clicks":1,"user_id":2121,"domain":"community.axoloti.com"}],"notification_level":1,"can_flag_topic":false},"highest_post_number":16,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":null,"tags":[],"featured_link":null,"topic_timer":null,"message_bus_last_id":40});
      })();
      </script>

    

    <script>
  Ember.RSVP.configure('onerror', function(e) {
    // Ignore TransitionAborted exceptions that bubble up
    if (e && e.message === "TransitionAborted") { return; }

    window.onerror(e && e.message, null,null,null,e);
  });
</script>

<script>

  (function() {
    var ps = require('preload-store').default;

    Discourse.CDN = '';
    Discourse.BaseUrl = 'community.axoloti.com'.replace(/:[\d]*$/,"");
    Discourse.BaseUri = '';
    Discourse.Environment = 'production';
    Discourse.SiteSettings = ps.get('siteSettings');
    Discourse.LetterAvatarVersion = '5_9b142ce9460b8c6b265fd9abf598d3fd';
    I18n.defaultLocale = 'en';
    Discourse.start();
    Discourse.set('assetVersion','d1ec72c862674d2eea0eb8ef6fc5934f');
    Discourse.Session.currentProp("disableCustomCSS", false);
    Discourse.HighlightJSPath = "/highlight-js/community.axoloti.com/100444ceef8ca161334f64d3ce49fe7a1556f943.js";
  })();
</script>

<link rel='preload' href='/assets/browser-update-f57286e74ddbc53aa899689b01ef467078911e4138050c561939955849af35dd.js' as='script'/>
<script src='/assets/browser-update-f57286e74ddbc53aa899689b01ef467078911e4138050c561939955849af35dd.js'></script>


    

      
    
  </body>
</html>
