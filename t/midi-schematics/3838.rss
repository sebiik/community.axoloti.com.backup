<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Midi schematics</title>
    <link>http://community.axoloti.com/t/midi-schematics/3838</link>
    <description>Hi,

Sorry for the noob questions.

Is PG9 (Rx of USART6) 5V input tolerant ? Is not 3.3V expected ? Signal after 6N137SMD (optocoupler) can be at 5V, no ?

In serial_midi.c, PG14 is configured in &quot;open-drain&quot; mode, but with an internal pull-up. It is not better to configure this output in &quot;open-drain&quot; but without internal pull-up (to 3.3V) and with an external pull-up to 5V ?

In the core STM32 module of the midibox project : 
&quot; STM32 is supplied at 3.3V, but 5V tolerant inputs allow to access all existing MBHP modules without additional hardware. Even for output functions no level shifters are required when pins are used in Open Drain mode with external Pull-Up to 5V &quot;
http://www.ucapps.de/mbhp_core_stm32.html

Midi works very well, my question is just for my understanding (and to add a midi module interface to my STM32F429I-DISC1 board) :slight_smile:</description>
    
    <lastBuildDate>Mon, 09 Oct 2017 15:49:18 +0000</lastBuildDate>
    <category>Hardware</category>
    <atom:link href="http://community.axoloti.com/t/midi-schematics/3838.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Midi schematics</title>
        <dc:creator><![CDATA[@JeromeB]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/jeromeb">@JeromeB</a> wrote:</p>
          <blockquote>
              <p>Hi,</p>

<p>Sorry for the noob questions.</p>

<p>Is PG9 (Rx of USART6) 5V input tolerant ? Is not 3.3V expected ? Signal after 6N137SMD (optocoupler) can be at 5V, no ?</p>

<p>In serial_midi.c, PG14 is configured in "open-drain" mode, but with an internal pull-up. It is not better to configure this output in "open-drain" but without internal pull-up (to 3.3V) and with an external pull-up to 5V ?</p>

<p>In the core STM32 module of the midibox project : <br>" STM32 is supplied at 3.3V, but 5V tolerant inputs allow to access all existing MBHP modules without additional hardware. Even for output functions no level shifters are required when pins are used in Open Drain mode with external Pull-Up to 5V "<br><a href="http://www.ucapps.de/mbhp_core_stm32.html" class="onebox" target="_blank" rel="nofollow noopener">http://www.ucapps.de/mbhp_core_stm32.html</a></p>

<p>Midi works very well, my question is just for my understanding (and to add a midi module interface to my STM32F429I-DISC1 board) <img src="//community.axoloti.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/midi-schematics/3838/1">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/midi-schematics/3838/1</link>
        <pubDate>Mon, 09 Oct 2017 15:49:18 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-3838-1</guid>
        <source url="http://community.axoloti.com/t/midi-schematics/3838.rss">Midi schematics</source>
      </item>
  </channel>
</rss>
