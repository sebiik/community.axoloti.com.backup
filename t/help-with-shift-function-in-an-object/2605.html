<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/help-with-shift-function-in-an-object/2605 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:50:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Help with shift function in an object - AxoObject coding - Axoloti Community</title>
    <meta name="description" content="Hey :wink:  

I am working on an object that I am having a few issues with a shift function on an amount knob in a bipolar to unipolar converted signal. 

Goal is: a bipolar to unipolar converter with switch for biploar/&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="2605.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Help with shift function in an object&#39;" href="2605.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/optimized/2X/b/bd9d1c374371b8e7fc0bb13a4dd68eb6c006d147_1_675x500.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/optimized/2X/b/bd9d1c374371b8e7fc0bb13a4dd68eb6c006d147_1_675x500.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/help-with-shift-function-in-an-object/2605" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/help-with-shift-function-in-an-object/2605" />
<meta property="og:title" content="Help with shift function in an object" />
<meta name="twitter:title" content="Help with shift function in an object" />
<meta property="og:description" content="Hey 😉    I am working on an object that I am having a few issues with a shift function on an amount knob in a bipolar to unipolar converted signal.   Goal is: a bipolar to unipolar converter with switch for biploar/unipolar signal &amp; with an amount knob and on/off switch.   I got most of it working but I am having a hard time getting the amount knob working in the unipolar signal chain. I tried shifting the amount knob with &lt;&lt;4 but that only set the range of half of what it should. When the ..." />
<meta name="twitter:description" content="Hey 😉    I am working on an object that I am having a few issues with a shift function on an amount knob in a bipolar to unipolar converted signal.   Goal is: a bipolar to unipolar converter with switch for biploar/unipolar signal &amp; with an amount knob and on/off switch.   I got most of it working but I am having a hard time getting the amount knob working in the unipolar signal chain. I tried shifting the amount knob with &lt;&lt;4 but that only set the range of half of what it should. When the ..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ❤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="2605.html">Help with shift function in an object</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/axoobject-code.html" itemprop="url">
        <span itemprop="title">AxoObject coding</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2016-12-05T19:48:24Z' itemprop='datePublished'>
             2016-12-05 19:48:24 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey <img src="../../images/emoji/emoji_one/wink30f4.png?v=3" title=":wink:" class="emoji" alt=":wink:"> </p>

<p>I am working on an object that I am having a few issues with a shift function on an amount knob in a bipolar to unipolar converted signal.</p>

<p>Goal is: a bipolar to unipolar converter with switch for biploar/unipolar signal &amp; with an amount knob and on/off switch.</p>

<p>I got most of it working but I am having a hard time getting the amount knob working in the unipolar signal chain. I tried shifting the amount knob with &lt;&lt;4 but that only set the range of half of what it should. When the it should be 31.54 the value is 15.77, like on the picture. So I tried &lt;&lt;5 but that doesnt work at all. </p>

<p>Dunno where to go from here......</p>

<p>Could a helpful soul point me in the direction of a solution for this problem?</p>

<p>See patch&amp;picture:<br><a class="attachment" href="../../uploads/default/original/2X/b/BI2UNIAMOO%20for%20com.axp">BI2UNIAMOO for com.axp</a> (5.3 KB)</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/bd9d1c374371b8e7fc0bb13a4dd68eb6c006d147" href="../../uploads/default/original/2X/b/bd9d1c374371b8e7fc0bb13a4dd68eb6c006d147.png" class="lightbox" title="uni problem.png"><img src="../../uploads/default/optimized/2X/b/bd9d1c374371b8e7fc0bb13a4dd68eb6c006d147_1_675x500.png" width="675" height="500"><div class="meta">
<span class="filename">uni problem.png</span><span class="informations">833x617 52.8 KB</span><span class="expand"></span>
</div></a></div></p>

<p>Thanks!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Help with shift function in an object'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Sputnki.html'><b itemprop='author'>Sputnki</b></a>
           
           <time datetime='2016-12-05T19:57:18Z' itemprop='datePublished'>
             2016-12-05 19:57:18 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>shift the left side of the_SMMUL by 1</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Help with shift function in an object'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2016-12-05T20:01:41Z' itemprop='datePublished'>
             2016-12-05 20:01:41 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ha! </p>

<p>Thank you <a class="mention" href="../../users/sputnki.html">@Sputnki</a> <img src="../../images/emoji/emoji_one/wink30f4.png?v=3" title=":wink:" class="emoji" alt=":wink:"></p>

<p>This worked:<br>outlet_o= <em>__SMMUL(((inlet</em>i&gt;&gt;1)+(1&lt;&lt;26)&lt;&lt;1),param_am&lt;&lt;4);</p>

<p> WIll put it in com lib soon.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Help with shift function in an object'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2016-12-15T20:45:35Z' itemprop='datePublished'>
             2016-12-15 20:45:35 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey <a class="mention" href="../../users/sputnki.html">@Sputnki</a></p>

<p>I am wondering if you would mind giving another advice on the object?</p>

<p>I am still working on the object and got most of it woriking now. Next thing is to add an invert function. I am having a bit of problems with that. I can patch it with factory objects, buthaving a few issues with coding it. I need to explain a little bit first: </p>

<p>Basicly the object has got 3 functions:</p>

<p>0 = Clean mode:<br>The input it not converted. <br>Unipolar input = unipolar output. <br>Bipolar input = Bipolar output.<br>Amount knob sets how much of the signal is let through.</p>

<p>1 = Unipolar to bipolar mode:<br>The input will be converted from unipolar to bipolar.<br>Amount knob sets how much of the signal is let through.</p>

<p>2 = Bipolar to unipolar mode:<br>The input will be converted from bipolar to unipolar.<br>Amount knob sets how much of the signal is let through</p>

<p>And now I'd like to add an invert function for all 3. The first one "clean" I got working. The second, unipolar to bipolar, I can patch with factory objects like this:<br><img src="../../uploads/default/original/2X/3/399ed4378e927c1b86f5a39fb7a3b46347a3eea3.png" width="248" height="105"></p>

<p>.... Basicly just a 64+ offset, added to the inverted signal. But when I do this in the object, it doesnt give the same result. I know it is wrong, the way I do it, but I just dont understand how to get it right. I added the +64 to TRY to do the same as the picture above</p>

<p>outlet_o= <em>__SMMUL(-inlet</em>i+64&lt;&lt;1,param_Am&lt;&lt;4);	</p>

<p>But it outputs a pretty random number. I cant really figure out how much it is offset wrongly. Usually you can see it pretty easily, but I cant figure this out.</p>

<p>First I need to get this right and then go on to the final one bipolar to unipolar. </p>

<p>Any suggestion on how I can get it right appreciated <img src="../../images/emoji/emoji_one/wink30f4.png?v=3" title=":wink:" class="emoji" alt=":wink:"> </p>

<p>Thanks</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Help with shift function in an object'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Sputnki.html'><b itemprop='author'>Sputnki</b></a>
           
           <time datetime='2016-12-15T20:50:52Z' itemprop='datePublished'>
             2016-12-15 20:50:52 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>fractional 64 corresponds to integer 2^27 (1&lt;&lt;27)<br>As for the bipolar2unipolar: remember that it's not just an offset, but also a scaling (input must be divided by 2 and then added to fractional 32, which is integer 2^26 (1&lt;&lt;26) )</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Help with shift function in an object'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2016-12-15T21:04:01Z' itemprop='datePublished'>
             2016-12-15 21:04:01 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ahh yes, ups I pasted the wrong code into the object.</p>

<p>This is the original code, converting from unipolar to bipolar, NO invert, WORKS:</p>

<p>outlet_o= <em>__SMMUL(((inlet</em>i-(1&lt;&lt;26))&lt;&lt;2),param_Am&lt;&lt;4);</p>

<p>This is my edited version with invert:</p>

<p>outlet_o= <em>__SMMUL(((-inlet</em>i-(1&lt;&lt;26))&lt;&lt;2),param_Am&lt;&lt;4);	</p>

<p>Only added a - before inlet.. I tried to change to 1&lt;&lt;27, but that didnt work... Could you give a specific suggestion?</p>

<p>Thanks <img src="../../images/emoji/emoji_one/wink30f4.png?v=3" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Help with shift function in an object'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Sputnki.html'><b itemprop='author'>Sputnki</b></a>
           
           <time datetime='2016-12-15T21:36:04Z' itemprop='datePublished'>
             2016-12-15 21:36:04 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hmmm, i think you should put the - sign before the__SMMUL function, not before the inleti variable.</p>

<p>I'd reccomend you to reason on the math you're doing before putting your hands into the code.<br>As you surely will recognize - (a+b)c <em>it's not equal to</em> (-a +b)c</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Help with shift function in an object'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2016-12-16T05:51:19Z' itemprop='datePublished'>
             2016-12-16 05:51:19 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="7" data-topic="2605"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/sputnki/40/175_1.png" class="avatar">Sputnki:</div>
<blockquote><p>I'd reccomend you to reason on the math you're doing before putting your hands into the code.<br>As you surely will recognize - (a+b)c it's not equal to (-a +b)c</p></blockquote></aside>

<p>Yes you are right, I probably should. But the code I have used, is taken from factory objects, so it should be okay. I took from from bipolar to unipolar object and from unipolar to bipolar object and then looked in the ivert object to find out how to add invert. Anyhow, I'll leave it for a bit and get back to it.</p>

<p>Thanks again!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Help with shift function in an object'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Sputnki.html'><b itemprop='author'>Sputnki</b></a>
           
           <time datetime='2016-12-17T11:27:14Z' itemprop='datePublished'>
             2016-12-17 11:27:14 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yeah, if you take the code from existing objects it will probably be alright. However you'll have to adapt it to your needs. You can do this only if you comprehend what the object does, otherwise it's better to start coding from 0.<br>Since you're dealing with simple math, i think it's more instructive to do the latter.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Help with shift function in an object'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2016-12-17T14:29:26Z' itemprop='datePublished'>
             2016-12-17 14:29:26 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>As mentioned unipolar to bipolar works and bipolar to unipolar both works, so that is not the issue. Those works perfectly and the offset is 26 not 27. I got this part down perfectly.</p>

<p>But when I try to add the invert function, which I can easily do with factory objects it doesnt work. I guess this is the part that needs to be adapted.</p>

<p>Yeah, I know some of the code but not all. Still very much a beginner.</p>

<p>Anyway, I gave up for now.</p>

<p>Thanks</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Help with shift function in an object'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/help-with-shift-function-in-an-object/2605 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:51:00 GMT -->
</html>
