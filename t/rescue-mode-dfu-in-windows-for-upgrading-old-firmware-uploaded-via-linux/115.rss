<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
    <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115</link>
    <description>Hi all - I decided to finally take a stab at using the Axoloti in Windows and having some fun issues.

I am using a pre-release v05 board and have successfully installed the new Axoloti app and platform_win folder on Windows 7 64bit.

The board seems to correctly boot into DFU mode and the  zadig installed windows driver seems to show the board correctly inside the Axoloti app:
&gt; [screenshot][1]

Since the board was previously flashed with older firmware on ubuntu - I need to reflash the new firmware in windows - and here is where it gets sketchy. I am following the Windows Install guide.

Connecting to the board that has incorrect firmware for the OS is impossible - so Entering Rescue mode is not possible.
Booting up while pressing S1 is fine, so then I select the Flash (Rescue).

I get this error

&gt; Link to firmware CRC Please compile the firmware first
&gt; Start disconnect
&gt; Done disconnect
&gt; Start flashing firmware with DFU
&gt; java.io.IOException: Cannot run program &quot;C:\Program&quot; (in directory &quot;C:\Program Files (x86)\Axoloti\app\firmware&quot;): CreateProcess error=2, The system cannot find the file specified
&gt; 	at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)
&gt; 	at java.lang.Runtime.exec(Runtime.java:620)
&gt; 	at java.lang.Runtime.exec(Runtime.java:450)
&gt; 	at qcmds.QCmdShellTask.Do(QCmdShellTask.java:114)
&gt; 	at qcmds.QCmdProcessor.run(QCmdProcessor.java:183)
&gt; 	at java.lang.Thread.run(Thread.java:745)
&gt; Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified
&gt; 	at java.lang.ProcessImpl.create(Native Method)
&gt; 	at java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:386)
&gt; 	at java.lang.ProcessImpl.start(ProcessImpl.java:137)
&gt; 	at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)
&gt; 	... 5 more

&gt; Flashing firmware failed!

Perhaps I need to compile the firmware first, but I get a familiar error for an incorrectly configured Windows OS:
&gt; Start compiling firmware
&gt; &quot;setup build dir&quot;
&gt; &quot;Compiling firmware...&quot;
&gt; &#39;make&#39; is not recognized as an internal or external command,
&gt; operable program or batch file.
&gt; &#39;make&#39; is not recognized as an internal or external command,
&gt; operable program or batch file.
&gt; &quot;Compiling firmware flasher...&quot;
&gt; &#39;make&#39; is not recognized as an internal or external command,
&gt; operable program or batch file.
&gt; Link to firmware CRC Please compile the firmware first
&gt; Done compiling firmware

I recall the windows setup guide for the prerelease Axoloti firmware being pretty involved - i guess all of those instructions are still relevant?
I am also thinking it won&#39;t be easy to use the official Axoloti board with the Zadig replaced USB driver on the same Windows OS that is configured for STM Discovery DFU (I use the STM flasher nowadays on another machine).

Part of me wants it to work, but I also don&#39;t mind sticking to Linux if it is just simpler in my case.


  [1]: http://i.imgur.com/NhFF0MY.jpg</description>
    
    <lastBuildDate>Thu, 06 Aug 2015 11:41:45 +0000</lastBuildDate>
    <category>Helpdesk</category>
    <atom:link href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
        <dc:creator><![CDATA[@alexk alex]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/alexk">@alexk</a> wrote:</p>
          <blockquote>
              <p>just for more info - <br>when board is NOT connected - <a href="http://i.imgur.com/CuOwWsp.png" rel="nofollow">http://i.imgur.com/CuOwWsp.png</a><br>when board IS connected - <a href="http://i.imgur.com/w70xs1u.png" rel="nofollow">http://i.imgur.com/w70xs1u.png</a></p>

<p>I am not running the APP in any special way.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/15">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/15</link>
        <pubDate>Thu, 06 Aug 2015 11:41:45 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-115-15</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss">Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</source>
      </item>
      <item>
        <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
        <dc:creator><![CDATA[@thetechnobear Mark Harris]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/thetechnobear">@thetechnobear</a> wrote:</p>
          <blockquote>
              <p>Im fixing the 'compile option' now... its another 'windows' thing, and the way its shortens its paths... <br>it will be in 1.0.2, doh, just noticed johannes has released 1.0.2... ok, it will be in 1.0.3 <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt="smile" width="20" height="20"></p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/14">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/14</link>
        <pubDate>Thu, 06 Aug 2015 11:34:35 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-115-14</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss">Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</source>
      </item>
      <item>
        <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
        <dc:creator><![CDATA[@alexk alex]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/alexk">@alexk</a> wrote:</p>
          <blockquote>
              <p>With new version of the zip and the app I was able to do the rescue flash without any problem!</p>

<blockquote>
<p>No available USB device found with matching PID/VID<br>search path : objects<br>finished loading objects<br>port: driver OK, CPU ID indeterminate<br>Link to firmware CRC 2B8D2015<br>Start disconnect<br>Done disconnect<br>Start flashing firmware with DFU</p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;call C:\PROGRA~2\AXOLOT~1\PLATFO~1\path.bat </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;set platformdir=C:\PROGRA~2\AXOLOT~1\PLATFO~1\ </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;if not defined axoloti_release (set axoloti_release=C:\PROGRA~2\AXOLOT~1\PLATFO~1.. ) </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;if not defined axoloti_runtime (set axoloti_runtime=C:\PROGRA~2\AXOLOT~1\PLATFO~1\.. ) </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;if not defined axoloti_firmware (call :setfirmware "C:\Program Files (x86)\Axoloti\app\firmware" ) </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;call :setrelease "C:\Program Files (x86)\Axoloti\app" </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;set axoloti_release=C:\PROGRA~2\Axoloti\app </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;goto :eof </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;if not defined axoloti_home (set axoloti_home=C:\PROGRA~2\AXOLOT~1\PLATFO~1.. ) </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;set PATH=C:\PROGRA~2\AXOLOT~1\PLATFO~1\bin </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;goto :eof </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;dfu-util --device 0483:df11 -i 0 -a 0 -D "C:\Program Files (x86)\Axoloti\app\firmware/build/axoloti.bin" --dfuse-address=0x08000000:leave <br>dfu-util 0.8</p>
<p>Copyright 2005-2009 Weston Schmidt, Harald Welte and OpenMoko Inc.<br>Copyright 2010-2014 Tormod Volden and Stefan Schmidt<br>This program is Free Software and has ABSOLUTELY NO WARRANTY<br>Please report bugs to dfu-util@lists.gnumonks.org</p>
<p>Deducing device DFU version from functional descriptor length<br>Opening DFU capable USB device...<br>ID 0483:df11<br>Run-time device DFU version 011a<br>Claiming USB DFU Interface...<br>Setting Alternate Setting #0 ...<br>Determining device status: state = dfuERROR, status = 10<br>dfuERROR, clearing status<br>Determining device status: state = dfuIDLE, status = 0<br>dfuIDLE, continuing<br>DFU mode device DFU version 011a<br>Device returned transfer size 2048<br>DfuSe interface name: "Internal Flash  "<br>Downloading to address = 0x08000000, size = 560936</p>
<p>Download	[                         ]   0%            0 bytes<br>Download	[                         ]   0%         2048 bytes<br>Download	[                         ]   2%        12288 bytes<br>Download	[                         ]   3%        18432 bytes<br>Download	[=                        ]   4%        22528 bytes<br>Download	[=                        ]   4%        26624 bytes<br>Download	[=                        ]   5%        32768 bytes<br>Download	[=                        ]   7%        43008 bytes<br>Download	[==                       ]   8%        45056 bytes<br>Download	[==                       ]   8%        49152 bytes<br>Download	[==                       ]  10%        57344 bytes<br>Download	[==                       ]  11%        65536 bytes<br>Download	[===                      ]  12%        67584 bytes<br>Download	[===                      ]  13%        75776 bytes<br>Download	[===                      ]  14%        83968 bytes<br>Download	[====                     ]  16%        90112 bytes<br>Download	[====                     ]  16%        94208 bytes<br>Download	[====                     ]  18%       104448 bytes<br>Download	[=====                    ]  20%       112640 bytes<br>Download	[=====                    ]  21%       122880 bytes<br>Download	[=====                    ]  23%       131072 bytes<br>Download	[=====                    ]  23%       133120 bytes<br>Download	[======                   ]  24%       135168 bytes<br>Download	[======                   ]  25%       141312 bytes<br>Download	[======                   ]  27%       151552 bytes<br>Download	[=======                  ]  28%       157696 bytes<br>Download	[=======                  ]  28%       161792 bytes<br>Download	[=======                  ]  30%       169984 bytes<br>Download	[========                 ]  32%       180224 bytes<br>Download	[========                 ]  33%       188416 bytes<br>Download	[========                 ]  35%       198656 bytes<br>Download	[=========                ]  36%       202752 bytes<br>Download	[=========                ]  37%       208896 bytes<br>Download	[=========                ]  38%       217088 bytes<br>Download	[==========               ]  40%       225280 bytes<br>Download	[==========               ]  40%       227328 bytes<br>Download	[==========               ]  42%       237568 bytes<br>Download	[==========               ]  43%       245760 bytes<br>Download	[===========              ]  44%       247808 bytes<br>Download	[===========              ]  45%       256000 bytes<br>Download	[===========              ]  46%       262144 bytes<br>Download	[===========              ]  47%       264192 bytes<br>Download	[============             ]  48%       270336 bytes<br>Download	[============             ]  48%       274432 bytes<br>Download	[============             ]  50%       282624 bytes<br>Download	[=============            ]  52%       292864 bytes<br>Download	[=============            ]  54%       303104 bytes<br>Download	[=============            ]  55%       311296 bytes<br>Download	[==============           ]  56%       315392 bytes<br>Download	[==============           ]  57%       321536 bytes<br>Download	[==============           ]  59%       331776 bytes<br>Download	[===============          ]  60%       337920 bytes<br>Download	[===============          ]  60%       339968 bytes<br>Download	[===============          ]  62%       350208 bytes<br>Download	[================         ]  64%       360448 bytes<br>Download	[================         ]  65%       368640 bytes<br>Download	[================         ]  67%       378880 bytes<br>Download	[=================        ]  68%       382976 bytes<br>Download	[=================        ]  69%       387072 bytes<br>Download	[=================        ]  70%       393216 bytes<br>Download	[=================        ]  70%       397312 bytes<br>Download	[==================       ]  72%       405504 bytes<br>Download	[==================       ]  72%       407552 bytes<br>Download	[==================       ]  74%       415744 bytes<br>Download	[==================       ]  75%       425984 bytes<br>Download	[===================      ]  76%       428032 bytes<br>Download	[===================      ]  77%       436224 bytes<br>Download	[===================      ]  79%       444416 bytes<br>Download	[====================     ]  80%       450560 bytes<br>Download	[====================     ]  81%       454656 bytes<br>Download	[====================     ]  82%       464896 bytes<br>Download	[=====================    ]  84%       473088 bytes<br>Download	[=====================    ]  86%       483328 bytes<br>Download	[=====================    ]  87%       493568 bytes<br>Download	[======================   ]  88%       495616 bytes<br>Download	[======================   ]  89%       501760 bytes<br>Download	[======================   ]  91%       512000 bytes<br>Download	[=======================  ]  92%       516096 bytes<br>Download	[=======================  ]  92%       520192 bytes<br>Download	[=======================  ]  93%       524288 bytes<br>Download	[=======================  ]  94%       530432 bytes<br>Download	[======================== ]  96%       538624 bytes<br>Download	[======================== ]  97%       548864 bytes<br>Download	[======================== ]  99%       559104 bytes<br>Download	[=========================] 100%       560936 bytes<br>Download done.<br>File downloaded successfully<br>Transitioning to dfuMANIFEST state<br>Invalid DFU suffix signature<br>A valid DFU suffix will be required in a future dfu-util release!!!<br>Done flashing firmware with DFU.</p>
</blockquote>

<p>Compile firmware option is still available to me though - not sure if this is intended based on past conversation above.</p>

<p>Now I am able to connect the board normally but I believe we need to add some more details to the instructions about the driver switching with Zadig. I will add those to issue tracker.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/13">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/13</link>
        <pubDate>Thu, 06 Aug 2015 11:23:36 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-115-13</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss">Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</source>
      </item>
      <item>
        <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
        <dc:creator><![CDATA[@alexk alex]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/alexk">@alexk</a> wrote:</p>
          <blockquote>
              <p>thanks. will try the new bundle tomorrow.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/12">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/12</link>
        <pubDate>Wed, 05 Aug 2015 19:36:29 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-115-12</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss">Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</source>
      </item>
      <item>
        <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
        <dc:creator><![CDATA[@johannes johannes]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/johannes">@johannes</a> wrote:</p>
          <blockquote>
              <p>Oh oh, bundle is missing firmware indeed. Will fix this now!</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/11">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/11</link>
        <pubDate>Wed, 05 Aug 2015 15:17:06 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-115-11</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss">Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</source>
      </item>
      <item>
        <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
        <dc:creator><![CDATA[@alexk alex]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/alexk">@alexk</a> wrote:</p>
          <blockquote>
              <p>im going to reinstall the app in case me pressing Firmware&gt; "Compile"  deleted whatever was bundled with the app install.</p>

<p>*nope - no firmware bundled.<br>**Maybe that is why the option is visible to me inside the App - Board&gt;Firmware&gt; "Compile"</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/10">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/10</link>
        <pubDate>Wed, 05 Aug 2015 15:10:27 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-115-10</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss">Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</source>
      </item>
      <item>
        <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
        <dc:creator><![CDATA[@alexk alex]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/alexk">@alexk</a> wrote:</p>
          <blockquote>
              <p>here we go - there seems to be no firmware in the directory.</p>

<p>changed to the new .bat</p>

<blockquote>
<p>No available USB device found with matching PID/VID<br>search path : objects<br>finished loading objects<br>port: driver OK, CPU ID indeterminate<br>Link to firmware CRC Please compile the firmware first<br>Start disconnect<br>Done disconnect<br>Start flashing firmware with DFU</p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;call C:\PROGRA~2\AXOLOT~1\PLATFO~1\path.bat </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;set platformdir=C:\PROGRA~2\AXOLOT~1\PLATFO~1\ </p>
<p>No such file or directory: Could not open file C:\Program Files (x86)\Axoloti\app\firmware/build/axoloti.bin for reading<br>C:\Program Files (x86)\Axoloti\app\firmware&gt;if not defined axoloti_release (set axoloti_release=C:\PROGRA~2\AXOLOT~1\PLATFO~1.. ) </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;if not defined axoloti_runtime (set axoloti_runtime=C:\PROGRA~2\AXOLOT~1\PLATFO~1\.. ) </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;if not defined axoloti_firmware (call :setfirmware "C:\Program Files (x86)\Axoloti\app\firmware" ) </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;call :setrelease "C:\Program Files (x86)\Axoloti\app" </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;set axoloti_release=C:\PROGRA~2\Axoloti\app </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;goto :eof </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;if not defined axoloti_home (set axoloti_home=C:\PROGRA~2\AXOLOT~1\PLATFO~1.. ) </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;set PATH=C:\PROGRA~2\AXOLOT~1\PLATFO~1\bin </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;goto :eof </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;dfu-util --device 0483:df11 -i 0 -a 0 -D "C:\Program Files (x86)\Axoloti\app\firmware/build/axoloti.bin" --dfuse-address=0x08000000:leave <br>dfu-util 0.8</p>
<p>Copyright 2005-2009 Weston Schmidt, Harald Welte and OpenMoko Inc.<br>Copyright 2010-2014 Tormod Volden and Stefan Schmidt<br>This program is Free Software and has ABSOLUTELY NO WARRANTY<br>Please report bugs to dfu-util@lists.gnumonks.org</p>
<p>shell task failed, exit value: 74<br>Flashing firmware failed!</p>
</blockquote>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/9">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/9</link>
        <pubDate>Wed, 05 Aug 2015 15:08:58 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-115-9</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss">Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</source>
      </item>
      <item>
        <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
        <dc:creator><![CDATA[@johannes johannes]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/johannes">@johannes</a> wrote:</p>
          <blockquote>
              <p>Yes, upgrading from pre-release firmware will need a DFU mode flash.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/8">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/8</link>
        <pubDate>Wed, 05 Aug 2015 15:05:38 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-115-8</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss">Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</source>
      </item>
      <item>
        <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
        <dc:creator><![CDATA[@alexk alex]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/alexk">@alexk</a> wrote:</p>
          <blockquote>
              <p>*no dfu mode<br>yeah thats pretty great - but i guess it (shouldn't) won't work in my case since im on old firmware anyway.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/7">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/7</link>
        <pubDate>Wed, 05 Aug 2015 15:01:27 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-115-7</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss">Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</source>
      </item>
      <item>
        <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
        <dc:creator><![CDATA[@johannes johannes]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/johannes">@johannes</a> wrote:</p>
          <blockquote>
              <p>Guinea pig please!<br>The screenshot shows the exact issue I fixed in the git commit above, perhaps just edit upload_fw_dfu.bat manually untill the next release (shortly).<br>Normally you do not need this "rescue flash" (dfu) method, since there is in-application flashing without engaging any button or plugging a cable.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/6">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/6</link>
        <pubDate>Wed, 05 Aug 2015 14:52:56 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-115-6</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss">Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</source>
      </item>
      <item>
        <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
        <dc:creator><![CDATA[@alexk alex]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/alexk">@alexk</a> wrote:</p>
          <blockquote>
              <p>I am thinking I will just flash to 1.0 with Ubuntu and save myself the pain of windows for this very specific task.</p>

<p>but I could also play guinea pig and try to do it</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/5">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/5</link>
        <pubDate>Wed, 05 Aug 2015 14:47:55 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-115-5</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss">Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</source>
      </item>
      <item>
        <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
        <dc:creator><![CDATA[@johannes johannes]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/johannes">@johannes</a> wrote:</p>
          <blockquote>
              <p>There is an issue in the upload_fw_dfu.bat script in the last release, causing an incomplete filename.<br><aside class="onebox githubcommit">
  <header class="source">
    <a href="https://github.com/axoloti/axoloti/commit/1c880d7dd45901e242804a525e393af36fa74fd2">
      github.com
    </a>
  </header>
  <article class="onebox-body">
      <a href="https://github.com/JohannesTaelman" target="_blank">
    <img alt="JohannesTaelman" src="https://avatars.githubusercontent.com/u/3052578?v=3" class="thumbnail onebox-avatar" width="90" height="90">
  </a>

<h4>
  <a href="https://github.com/axoloti/axoloti/commit/1c880d7dd45901e242804a525e393af36fa74fd2" target="_blank">fix "flash (rescue)" in windows bundle</a>
</h4>


<div class="date">
  by <a href="https://github.com/JohannesTaelman" target="_blank">JohannesTaelman</a>
  on <a href="https://github.com/axoloti/axoloti/commit/1c880d7dd45901e242804a525e393af36fa74fd2" target="_blank">10:30PM - 04 Aug 15</a>
</div>

<div class="github-commit-stats">
  changed <strong>1 files</strong>
  with <strong>1 additions</strong>
  and <strong>1 deletions</strong>.
</div>

<div class="github-repository-path">
  <a href="https://github.com/axoloti/axoloti" target="_blank">github.com/axoloti/axoloti</a>
</div>

  </article>
  <div style="clear: both"></div>
</aside>
<br>tells you how to fix dfu flashing on windows. Coming from pre-release firmware you will likely need to do a flash using DFU mode.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/4">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/4</link>
        <pubDate>Wed, 05 Aug 2015 14:38:56 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-115-4</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss">Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</source>
      </item>
      <item>
        <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
        <dc:creator><![CDATA[@alexk alex]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/alexk">@alexk</a> wrote:</p>
          <blockquote>
              <p>Thanks for the reply!</p>

<p>a) Yes this is a different PC than I've ever used and it did not have any previous versions of the software. I've freshly downloaded both the app and the zip as per instructions.</p>

<p>b) Here is my first problem - I did not put the zip in the correct location. I am afraid it wasn't clear enough to me where to put it in the instructions. I ended up putting "platform_win" folder from the zip into "C:\Program Files (x86)". I have now placed it into /axoloti_runtime/ after creating a new folder in "C:\Program Files (x86)"</p>

<p>After doing this I ran the Rescue flash option in the Windows App again and got these errors in the log:</p>

<blockquote>
<p>search path : objects<br>finished loading objects<br>port: driver OK, CPU ID indeterminate<br>Link to firmware CRC Please compile the firmware first<br>Start disconnect<br>Done disconnect<br>Start flashing firmware with DFU</p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;call C:\PROGRA~2\AXOLOT~1\PLATFO~1\path.bat </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;set platformdir=C:\PROGRA~2\AXOLOT~1\PLATFO~1\ </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;if not defined axoloti_release (set axoloti_release=C:\PROGRA~2\AXOLOT~1\PLATFO~1.. ) </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;if not defined axoloti_runtime (set axoloti_runtime=C:\PROGRA~2\AXOLOT~1\PLATFO~1\.. ) </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;if not defined axoloti_firmware (call :setfirmware "C:\Program Files (x86)\Axoloti\app\firmware" ) </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;call :setrelease "C:\Program Files (x86)\Axoloti\app" </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;set axoloti_release=C:\PROGRA~2\Axoloti\app </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;goto :eof </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;if not defined axoloti_home (set axoloti_home=C:\PROGRA~2\AXOLOT~1\PLATFO~1.. ) </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;set PATH=C:\PROGRA~2\AXOLOT~1\PLATFO~1\bin </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;goto :eof </p>
<p>C:\Program Files (x86)\Axoloti\app\firmware&gt;dfu-util --device 0483:df11 -i 0 -a 0 -D C:\Program Files (x86)\Axoloti\app\firmware/build/axoloti.bin --dfuse-address=0x08000000:leave <br>dfu-util 0.8<br>No such file or directory: Could not open file C:\Program for reading</p>
<p>Copyright 2005-2009 Weston Schmidt, Harald Welte and OpenMoko Inc.<br>Copyright 2010-2014 Tormod Volden and Stefan Schmidt<br>This program is Free Software and has ABSOLUTELY NO WARRANTY<br>Please report bugs to dfu-util@lists.gnumonks.org</p>
<p>shell task failed, exit value: 74<br>Flashing firmware failed!</p>
</blockquote>

<p>I haven't changed any preferences and I can not see any axoloti folder in My Documents either.</p>

<p>c) I definitely want to try to use Axoloti on Windows as a user, so trying not to resort to any command lines or firmware modification.</p>

<p>d) I will try to use zadig again to switch to the correct USB driver. I don't think it is documented in the windows installations instructions so I am pretty sure I just switched the DFU STM driver and the boards non DFU mode driver, both to Win USB with zadig.</p>

<p>The firmware compile is simply visible in my app after installation</p>

<blockquote><p><a href="http://i.imgur.com/QviZ0sg.png" rel="nofollow">screenshot</a></p></blockquote>

<p>Nice tip about using linux to bring it to the current firmware - really glad this will work. I remember during beta you were not able to use a board flashed on Linux on Windows.</p>

<p>thanks again!</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/3">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/3</link>
        <pubDate>Wed, 05 Aug 2015 14:38:36 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-115-3</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss">Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</source>
      </item>
      <item>
        <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
        <dc:creator><![CDATA[@thetechnobear Mark Harris]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/thetechnobear">@thetechnobear</a> wrote:</p>
          <blockquote>
              <blockquote><p>I recall the windows setup guide for the prerelease Axoloti firmware being pretty involved - i guess all of those instructions are still relevant?</p></blockquote>

<p>possibly not, please follow the installation guide for windows...  we have streamlined the whole process to make it much simpler for users, so no,  it is now not 'involved'...  e.g.  you should not need to compile the firmware, or even enter DFU mode.</p>

<p>I suspect your issues are simply related to using pre-release versions of the software, which are partially incompatible with the release software.</p>

<p>but lets go through a few things, to get you on a level footing</p>

<p>a) can you confirm you are using v1.0   (and not a pre-release...  of both app and runtime) ,<br>if not, download and update</p>

<p>b) can you confirm you put the axoloti_runtime folder in C:\Program Files (x86)<br>you should have:<br>C:\:\Program Files (x86)\axoloti_runtime\platform_win<br>I ask as this is where 'make' is looked for.... </p>

<blockquote><p>'make' is not recognized as an internal or external command</p></blockquote>

<p>(also if you have changed the runtime path in preferences Id recommend you change it back... or just delete axoloti.prefs in your \Documents\axoloti' folder, which will reset you to default.</p>

<p>c) I assume you are using the app, and not trying to run from the command line/or a repo install.<br>easier for me to diagnose, and everything can be done from the app now.</p>

<p>d) non-dfu mode - the most likely reason it wont connect, is if you used a pre-release version of the windows driver, this had an issue with the driver installation. to resolve this you can either:</p>

<ul>
<li>use Zadig and switch it to use libusb from winusb (easy route :)) <br>OR</li>
<li>uninstall the Axoloti Core driver (make use you uninstall the driver, not just delete the device), then use regedit to delete HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\usbflags\16C004420200</li>
</ul>

<p>neither is 'better', just the later will allow you to use the normal windows drivers, as production boards do.</p>

<p>a few other thoughts/notes:</p>

<ul>
<li>how did you get the compile firmware option, did you start changing the location of the firmware/engage expert mode?  the 'normal' user is no longer exposed to this, as its unnecessary for anyone other than someone developing the firmware to use this. </li>
<li>linux, if you get the current linux app/runtime and install as per instructions... then you can use that to flash the board to get your firmware on to the current version, without worrying about DFU mode on windows.</li>
</ul>

<p>my general recommendation here, is if you are not developing firmware, then I would move to using the pre-built &amp; released versions of app/runtime.... (at least initially), and that we ensure your setup on Linux/Windows are both using these.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/2">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/2</link>
        <pubDate>Wed, 05 Aug 2015 12:12:17 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-115-2</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss">Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</source>
      </item>
      <item>
        <title>Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</title>
        <dc:creator><![CDATA[@alexk alex]]></dc:creator>
        <description><![CDATA[
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/u/alexk">@alexk</a> wrote:</p>
          <blockquote>
              <p>Hi all - I decided to finally take a stab at using the Axoloti in Windows and having some fun issues.</p>

<p>I am using a pre-release v05 board and have successfully installed the new Axoloti app and platform_win folder on Windows 7 64bit.</p>

<p>The board seems to correctly boot into DFU mode and the  zadig installed windows driver seems to show the board correctly inside the Axoloti app:</p>

<blockquote><p><a href="http://i.imgur.com/NhFF0MY.jpg" rel="nofollow">screenshot</a></p></blockquote>

<p>Since the board was previously flashed with older firmware on ubuntu - I need to reflash the new firmware in windows - and here is where it gets sketchy. I am following the Windows Install guide.</p>

<p>Connecting to the board that has incorrect firmware for the OS is impossible - so Entering Rescue mode is not possible.<br>Booting up while pressing S1 is fine, so then I select the Flash (Rescue).</p>

<p>I get this error</p>

<blockquote>
<p>Link to firmware CRC Please compile the firmware first<br>Start disconnect<br>Done disconnect<br>Start flashing firmware with DFU<br>java.io.IOException: Cannot run program "C:\Program" (in directory "C:\Program Files (x86)\Axoloti\app\firmware"): CreateProcess error=2, The system cannot find the file specified<br>	at java.lang.ProcessBuilder.start(ProcessBuilder.java:1048)<br>	at java.lang.Runtime.exec(Runtime.java:620)<br>	at java.lang.Runtime.exec(Runtime.java:450)<br>	at qcmds.QCmdShellTask.Do(QCmdShellTask.java:114)<br>	at qcmds.QCmdProcessor.run(QCmdProcessor.java:183)<br>	at java.lang.Thread.run(Thread.java:745)<br>Caused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified<br>	at java.lang.ProcessImpl.create(Native Method)<br>	at java.lang.ProcessImpl.(ProcessImpl.java:386)<br>	at java.lang.ProcessImpl.start(ProcessImpl.java:137)<br>	at java.lang.ProcessBuilder.start(ProcessBuilder.java:1029)<br>	... 5 more</p>
<p>Flashing firmware failed!</p>
</blockquote>

<p>Perhaps I need to compile the firmware first, but I get a familiar error for an incorrectly configured Windows OS:</p>

<blockquote><p>Start compiling firmware<br>"setup build dir"<br>"Compiling firmware..."<br>'make' is not recognized as an internal or external command,<br>operable program or batch file.<br>'make' is not recognized as an internal or external command,<br>operable program or batch file.<br>"Compiling firmware flasher..."<br>'make' is not recognized as an internal or external command,<br>operable program or batch file.<br>Link to firmware CRC Please compile the firmware first<br>Done compiling firmware</p></blockquote>

<p>I recall the windows setup guide for the prerelease Axoloti firmware being pretty involved - i guess all of those instructions are still relevant?<br>I am also thinking it won't be easy to use the official Axoloti board with the Zadig replaced USB driver on the same Windows OS that is configured for STM Discovery DFU (I use the STM flasher nowadays on another machine).</p>

<p>Part of me wants it to work, but I also don't mind sticking to Linux if it is just simpler in my case.</p>
          </blockquote>
          <p><a href="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/1">Read full topic</a></p>
        ]]></description>
        <link>https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115/1</link>
        <pubDate>Wed, 05 Aug 2015 11:14:07 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-115-1</guid>
        <source url="https://sebiik.github.io/community.axoloti.com.backup/t/rescue-mode-dfu-in-windows-for-upgrading-old-firmware-uploaded-via-linux/115.rss">Rescue Mode (DFU) in Windows (for upgrading old firmware uploaded via Linux)</source>
      </item>
  </channel>
</rss>
