<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Load midi files from SD consecutively, in order</title>
    <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295</link>
    <description>Hello,

I have a patch with a sort of a synth that is driven by CC messages recorded in midi files that are played in the patch itself using jt/midi/play object, and directed to internal port .

For this particular case it would be very useful to be able to automatically load a series of midi files present in the SD, in a certain order.

But jt/midi/play has no inputs, so it does not seem like I can tell it to do anything at all automatically.

And I cannot find any other object that deals with midi files... Is there really no option to do this?

Any ideas?

Thank you</description>
    
    <lastBuildDate>Fri, 28 May 2021 22:01:20 +0000</lastBuildDate>
    <category>Patching</category>
    <atom:link href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@SirSickSik Remco]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/sirsicksik">@SirSickSik</a> wrote:</p>
          <blockquote>
              <p>it's already using the sdram memory.<br>But if you have some ideas, take a look into the header files that are included with the jt/midi/midiplayer, perhaps you can see if something goes wrong or could be changed..?</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/32">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/32</link>
        <pubDate>Fri, 28 May 2021 22:01:20 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-32</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>Can you try and substitute malloc for sdram_malloc() ?</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/31">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/31</link>
        <pubDate>Fri, 28 May 2021 17:03:10 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-31</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@plagasul Jaume Ferrete Vázquez]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/plagasul">@plagasul</a> wrote:</p>
          <blockquote>
              <p>Apologies for not being able to add anything useful here, I am more of a client server type of guy, can't program in C</p>

<p>Will keep an eye for anything I can do.</p>

<p>Thank you</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/30">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/30</link>
        <pubDate>Fri, 28 May 2021 10:54:00 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-30</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@SirSickSik Remco]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/sirsicksik">@SirSickSik</a> wrote:</p>
          <blockquote>
              <p><a class="mention" href="/u/johannes">@johannes</a><br>as you added the original module, do you might have some idea for this?</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/29">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/29</link>
        <pubDate>Fri, 28 May 2021 10:36:02 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-29</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>I see. So maybe free() is not implemented in axolotiland. Or not correctly.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/28">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/28</link>
        <pubDate>Thu, 27 May 2021 21:54:11 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-28</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@SirSickSik Remco]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/sirsicksik">@SirSickSik</a> wrote:</p>
          <blockquote>
              <p>tried it on several different things in the module, but couldn't get it to work and on some things even crashed the axoloti.<br>It's some table that being created inside the TinyMidiLoader code.<br>But instead of altering the code in there and use the free(), I think it might be more useful if we could assign a table that the code may use and declare it ourself at local&amp;init code.<br>also, in the tinymidiloader code, there are several places where it uses free(), so I think it's bit weird that it doesn't free up the allocated memory..</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/27">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/27</link>
        <pubDate>Thu, 27 May 2021 21:42:51 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-27</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>why not add a free() before the malloc() of the next file?</p>

<p><a href="https://www.tutorialspoint.com/how-do-malloc-and-free-work-in-c-cplusplus" class="onebox" target="_blank" rel="nofollow noopener">https://www.tutorialspoint.com/how-do-malloc-and-free-work-in-c-cplusplus</a></p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/26">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/26</link>
        <pubDate>Thu, 27 May 2021 13:10:34 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-26</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@SirSickSik Remco]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/sirsicksik">@SirSickSik</a> wrote:</p>
          <blockquote>
              <p>the problem is that it is allocating memory by itself using "malloc", this creates a new memory with each assignment.<br>I looked into the code and even though there are structures for "realloc" (that would overwrite the same buffer) it seems the code actually still just uses the malloc instead of the realloc. But I still haven't been able to find out where this happens..</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/25">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/25</link>
        <pubDate>Thu, 27 May 2021 10:44:59 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-25</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@plagasul Jaume Ferrete Vázquez]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/plagasul">@plagasul</a> wrote:</p>
          <blockquote>
              <p>Hello, thank you for trying.</p>

<p>i believe that is a midi library. Perhaps there is a github page or similar, for issues.</p>

<p>I'll take a look</p>

<p>Thank you</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/24">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/24</link>
        <pubDate>Wed, 26 May 2021 12:48:23 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-24</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@SirSickSik Remco]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/sirsicksik">@SirSickSik</a> wrote:</p>
          <blockquote>
              <p>tried out lots of things, but don't seem to be able to free the memory and reset the allocation pointer..</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/23">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/23</link>
        <pubDate>Wed, 26 May 2021 08:42:26 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-23</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@SirSickSik Remco]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/sirsicksik">@SirSickSik</a> wrote:</p>
          <blockquote>
              <p>I found out the problem lies in the "TinyMidiLoader" code, which is part of the header file.<br>Seems this one allocates to sdram and just adds each newly loaded midi file to the table without removing the old one.<br>So to fix this, I should edit the header file, so it removes the old file before going on or uses a pre-defined table which you can pre-initialise in the local and init sections, giving it a fixed allowed buffersize, IF I can find out where the mistake lies at all..</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/22">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/22</link>
        <pubDate>Wed, 26 May 2021 08:03:34 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-22</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@SirSickSik Remco]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/sirsicksik">@SirSickSik</a> wrote:</p>
          <blockquote>
              <p>I'm just thinking that I might be able to do the memory allocation in the way the normal delaylines and tables are done. Not sure though, but this might fix the problem.. trying to recode it now</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/21">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/21</link>
        <pubDate>Wed, 26 May 2021 05:44:40 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-21</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@SirSickSik Remco]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/sirsicksik">@SirSickSik</a> wrote:</p>
          <blockquote>
              <p>there should be a way to remove these from the sdram I think, but I don't know the code for that. I would like to though, so if anyone mentions it somewhere, please let me know.<br>But you could indeed try to re-init the patch.<br>For that you might try to just save an extra patch that only has a patch-change in it.<br>So that after your files have ended playing, it will switch over to that other patch, which will order it to switch back to the midi patch.<br>Don't know if it will work correctly though, you just have to try it out..</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/20">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/20</link>
        <pubDate>Wed, 26 May 2021 03:57:55 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-20</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@plagasul Jaume Ferrete Vázquez]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/plagasul">@plagasul</a> wrote:</p>
          <blockquote>
              <p>Hello <a class="mention" href="/u/sirsicksik">@SirSickSik</a>, I've encountered the SDRAM overflow you mentioned, even without the "done playing" code. </p>

<p>Any idea where to start trying to remove that problem ?</p>

<p>For now, even an automatic 'reset' of the patch would be an acceptable workaround, if that fixes the SDRAM overflow, as this patch is going to be running for hours in an installation. (I'll share the whole project in the forum as soon as I can).</p>

<p>Thank you !</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/19">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/19</link>
        <pubDate>Tue, 25 May 2021 17:22:25 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-19</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@SirSickSik Remco]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/sirsicksik">@SirSickSik</a> wrote:</p>
          <blockquote>
              <p>yes, you can remove that one, but you'll also need to remove the parts where it's mentioned in the code.<br>The last case of the switch can be removed (the one with the EOT)<br>and also somewhere above the switch it says:<br>outlet_end=0;<br>you'll have to remove that one too</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/18">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/18</link>
        <pubDate>Sun, 16 May 2021 21:33:55 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-18</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@SirSickSik Remco]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/sirsicksik">@SirSickSik</a> wrote:</p>
          <blockquote>
              <p>oh, the module just crashed overhere after looping 4 midi files a couple of times (at a very fast rate)..<br>It seems it's overflowing the sdram, so there's probably a code needed to remove the old midi data from the table to prevent this. It's probably just adding tables to tables to tables etc..</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/17">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/17</link>
        <pubDate>Sun, 16 May 2021 21:31:28 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-17</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@plagasul Jaume Ferrete Vázquez]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/plagasul">@plagasul</a> wrote:</p>
          <blockquote>
              <p>Ok, </p>

<p>I am unsure about what "embed" means in this context.</p>

<p>Should I remove the other outlet you already had there ?        <code>&lt;bool32 name="end"/&gt;</code></p>

<p>Also, at the end of the k-rate code, you have a for loop, with all the cases... where, in relation to this loop, should I place the code above? after the loop, outside of it ?</p>

<p>Thanks again</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/16">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/16</link>
        <pubDate>Sun, 16 May 2021 21:31:01 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-16</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@SirSickSik Remco]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/sirsicksik">@SirSickSik</a> wrote:</p>
          <blockquote>
              <p>you can also just edit it using the windows text editor, but changing it in the object definition window is easier and faster, but again, don't embed the module <img src="//community.axoloti.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/15">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/15</link>
        <pubDate>Sun, 16 May 2021 21:29:12 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-15</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@SirSickSik Remco]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/sirsicksik">@SirSickSik</a> wrote:</p>
          <blockquote>
              <p>ps. don't embed the file, just open it, edit it and save it. If you embed it, it cannot find the header files anymore..</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/14">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/14</link>
        <pubDate>Sun, 16 May 2021 21:27:19 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-14</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@plagasul Jaume Ferrete Vázquez]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/plagasul">@plagasul</a> wrote:</p>
          <blockquote>
              <p>Ah!</p>

<p>Simultaneous posting!</p>

<p>Ok, should I add this on the file itself with an editor or on the object definiition window in axoloti ?</p>

<p>Cheers.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/13">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/13</link>
        <pubDate>Sun, 16 May 2021 21:26:31 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-13</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@SirSickSik Remco]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/sirsicksik">@SirSickSik</a> wrote:</p>
          <blockquote>
              <p>yes!<br>I got it!</p>

<p>-add this code at the end of the k-rate code:</p>

<pre><code>outlet_playing=g_MidiMessage &amp;&amp; g_Msec &lt; g_MidiMessage-&gt;time;</code></pre>

<p>-and add a boolean output called "playing"</p>

<p>this will go high as long as the song plays and off when the song has ended.<br>Then use a logic inverter and a timed pulse (timers) to trigger the next load.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/12">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/12</link>
        <pubDate>Sun, 16 May 2021 21:25:30 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-12</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@plagasul Jaume Ferrete Vázquez]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/plagasul">@plagasul</a> wrote:</p>
          <blockquote>
              <p>This <a href="https://www.midi.org/forum/4008-how-to-determine-the-length-of-a-standard-midi-file" rel="nofollow noopener">link</a> may be of help. A discussion on MIDI files End of Track message (EOT).</p>

<p>Someone pastes this from the midi manual:</p>

<pre><code>End of Track

This event is not optional. It is included so that an exact ending point may be specified for the track, so that it has an exact length, which is necessary for tracks which are looped or concatenated.</code></pre>

<p>I checked the manual , and this event is refered to as "FF 2F 00".</p>

<p><a href="http://www.shclemen.com/download/The%20Complete%20MIDI1.0%20Detailed%20Spec.pdf" rel="nofollow noopener">Here is a copy</a>, you may want to check page 137-138 to find this.</p>

<p>Thanks again.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/11">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/11</link>
        <pubDate>Sun, 16 May 2021 21:25:24 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-11</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@SirSickSik Remco]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/sirsicksik">@SirSickSik</a> wrote:</p>
          <blockquote>
              <p>I searched the header file to find out what kind of message would show the end of the midi-file and tried to incorporate this (you can actually still see this in the code as the last "case" of the switch function), but it didn't respond to it even though I got the code right (at least it didn't give any errors telling me the message didn't exist). I tried several different ones, but none of them gave any response, so I'm not sure whether there is anything at all in the midi-file that tells you that it has ended.. Or maybe the midi-files I got here are incomplete..I don't know.. I'll see if I can still come up with something to enable an auto-load and loop function.</p>

<p>Anyways, you can make a simple load&amp;auto-play structure by using a logic-XOR.<br>To this you attach both the play toggle button and load momentary button. Then send the output to the play input. As soon as you hit "load" the current midi file is stopped, new one is loaded and then starts the new file when the load is released.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/10">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/10</link>
        <pubDate>Sun, 16 May 2021 20:51:23 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-10</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@plagasul Jaume Ferrete Vázquez]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/plagasul">@plagasul</a> wrote:</p>
          <blockquote>
              <p><a class="mention" href="/u/sirsicksik">@SirSickSik</a> sorry for triple posting.</p>

<p>I got it working :)))</p>

<p>I noticed the error messages seemed to relate to a re-definition of the midi minilibrary, so I assumed there was some sort of 'scope' error on my side. I had placed your module in the root of the 'home' folder, and so I moved it into its own folder, including the library (tml.h and tml_impl.h). Then it worked.</p>

<p>Very grateful.</p>

<p>Although a working "done playing" output would be great, the 'counter' hack you propose seems like a very good idea.</p>

<p>Thanks again.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/9">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/9</link>
        <pubDate>Sun, 16 May 2021 13:24:35 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-9</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
      <item>
        <title>Load midi files from SD consecutively, in order</title>
        <dc:creator><![CDATA[@plagasul Jaume Ferrete Vázquez]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/plagasul">@plagasul</a> wrote:</p>
          <blockquote>
              <p><a class="mention" href="/u/sirsicksik">@SirSickSik</a> When I follow your instructions to copy jjt/midi using "file"-&gt;"copy to library", the file I get does not start with:</p>

<pre><code>&lt; patch-1.0 appVersion="1.0.12"&gt;
&lt; comment type="patch/comment" x="14" y="14" text="standard midi file playback demo"/&gt;
&lt; comment type="patch/comment" x="28" y="28" text="requires sdcard!"/&gt;
&lt;obj type="ctrl/toggle" uuid="42b8134fa729d54bfc8d62d6ef3fa99498c1de99"</code></pre>

<p>This seems to belong to midi_play.axh, the help file from jt/midi, right ?</p>

<p>The actual module starts with:</p>

<pre><code>&lt;objdefs appVersion="1.0.12"&gt;
   &lt;obj.normal id="custommidiplayer" uuid="81d2a4c2-2a8d-4753-942b-506827cb53fd"&gt;
      &lt;sDescription&gt;Plays a standard midi file. 
Can only start playback from the beginning of the midi file.&lt;/sDescription&gt;
      &lt;author&gt;Johannes Taelman&lt;/author&gt;
      &lt;license&gt;BSD&lt;/license&gt;
      &lt;helpPatch&gt;midi_play.axh&lt;/helpPatch&gt;
      &lt;providesModulationSource&gt;false&lt;/providesModulationSource&gt;
      &lt;rotatedParams&gt;false&lt;/rotatedParams&gt;
      &lt;inlets&gt;</code></pre>

<p>The same goes for the file you attach here, it starts with:</p>

<pre><code>&lt;objdefs appVersion="1.0.12"&gt;
   &lt;obj.normal id="midiPlay" uuid="22a051e3-a68c-4cf9-910d-93925ed0454a"&gt;
      &lt;sDescription&gt;Plays a standard midi file from SDcard.
I added some inputs for loading new midi files on the fly and a tempo adjust.
Can only start playback from the beginning of the midi file.&lt;/sDescription&gt;
      &lt;author&gt;Johannes Taelman editted by Remco van der Most&lt;/author&gt;
      &lt;license&gt;BSD&lt;/license&gt;
      &lt;helpPatch&gt;midi_play.axh&lt;/helpPatch&gt;
      &lt;providesModulationSource&gt;false&lt;/providesModulationSource&gt;
      &lt;rotatedParams&gt;false&lt;/rotatedParams&gt;
      &lt;inlets&gt;</code></pre>

<p>... which makes sense, actually. So what should I replace then?</p>

<p>Thanks again</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/8">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295/8</link>
        <pubDate>Sun, 16 May 2021 12:47:57 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-7295-8</guid>
        <source url="http://community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295.rss">Load midi files from SD consecutively, in order</source>
      </item>
  </channel>
</rss>
