<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 04:29:08 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Load midi files from SD consecutively, in order - Patching - Axoloti Community</title>
    <meta name="description" content="Hello, 

I have a patch with a sort of a synth that is driven by CC messages recorded in midi files that are played in the patch itself using jt/midi/play object, and directed to internal port . 

For this particular cas&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="72954658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Load midi files from SD consecutively, in order&#39;" href="7295-2.html" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/load-midi-files-from-sd-consecutively-in-order/7295?page=2" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/load-midi-files-from-sd-consecutively-in-order/7295?page=2" />
<meta property="og:title" content="Load midi files from SD consecutively, in order" />
<meta name="twitter:title" content="Load midi files from SD consecutively, in order" />
<meta property="og:description" content="I&#39;m just thinking that I might be able to do the memory allocation in the way the normal delaylines and tables are done. Not sure though, but this might fix the problem.. trying to recode it now" />
<meta name="twitter:description" content="I&#39;m just thinking that I might be able to do the memory allocation in the way the normal delaylines and tables are done. Not sure though, but this might fix the problem.. trying to recode it now" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="5 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="8 ❤" />

      <link rel="prev" href="7295.html">

  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="7295.html">Load midi files from SD consecutively, in order</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/patching.html" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirSickSik.html'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2021-05-26T05:44:40Z' itemprop='datePublished'>
             2021-05-26 05:44:40 UTC
           </time>
        </span>
        <span itemprop='position'>#21</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm just thinking that I might be able to do the memory allocation in the way the normal delaylines and tables are done. Not sure though, but this might fix the problem.. trying to recode it now</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Load midi files from SD consecutively, in order'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirSickSik.html'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2021-05-26T08:03:34Z' itemprop='datePublished'>
             2021-05-26 08:03:34 UTC
           </time>
        </span>
        <span itemprop='position'>#22</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I found out the problem lies in the "TinyMidiLoader" code, which is part of the header file.<br>Seems this one allocates to sdram and just adds each newly loaded midi file to the table without removing the old one.<br>So to fix this, I should edit the header file, so it removes the old file before going on or uses a pre-defined table which you can pre-initialise in the local and init sections, giving it a fixed allowed buffersize, IF I can find out where the mistake lies at all..</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Load midi files from SD consecutively, in order'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirSickSik.html'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2021-05-26T08:42:26Z' itemprop='datePublished'>
             2021-05-26 08:42:26 UTC
           </time>
        </span>
        <span itemprop='position'>#23</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>tried out lots of things, but don't seem to be able to free the memory and reset the allocation pointer..</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Load midi files from SD consecutively, in order'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/plagasul.html'><b itemprop='author'>plagasul</b></a>
           
           <time datetime='2021-05-26T12:48:23Z' itemprop='datePublished'>
             2021-05-26 12:48:23 UTC
           </time>
        </span>
        <span itemprop='position'>#24</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello, thank you for trying.</p>

<p>i believe that is a midi library. Perhaps there is a github page or similar, for issues.</p>

<p>I'll take a look</p>

<p>Thank you</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Load midi files from SD consecutively, in order'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirSickSik.html'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2021-05-27T10:44:59Z' itemprop='datePublished'>
             2021-05-27 10:44:59 UTC
           </time>
        </span>
        <span itemprop='position'>#25</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>the problem is that it is allocating memory by itself using "malloc", this creates a new memory with each assignment.<br>I looked into the code and even though there are structures for "realloc" (that would overwrite the same buffer) it seems the code actually still just uses the malloc instead of the realloc. But I still haven't been able to find out where this happens..</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Load midi files from SD consecutively, in order'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/lokki.html'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2021-05-27T13:10:34Z' itemprop='datePublished'>
             2021-05-27 13:10:34 UTC
           </time>
        </span>
        <span itemprop='position'>#26</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>why not add a free() before the malloc() of the next file?</p>

<p><a href="https://www.tutorialspoint.com/how-do-malloc-and-free-work-in-c-cplusplus" class="onebox" target="_blank" rel="nofollow noopener">https://www.tutorialspoint.com/how-do-malloc-and-free-work-in-c-cplusplus</a></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Load midi files from SD consecutively, in order'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirSickSik.html'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2021-05-27T21:42:51Z' itemprop='datePublished'>
             2021-05-27 21:42:51 UTC
           </time>
        </span>
        <span itemprop='position'>#27</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>tried it on several different things in the module, but couldn't get it to work and on some things even crashed the axoloti.<br>It's some table that being created inside the TinyMidiLoader code.<br>But instead of altering the code in there and use the free(), I think it might be more useful if we could assign a table that the code may use and declare it ourself at local&amp;init code.<br>also, in the tinymidiloader code, there are several places where it uses free(), so I think it's bit weird that it doesn't free up the allocated memory..</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Load midi files from SD consecutively, in order'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/lokki.html'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2021-05-27T21:54:11Z' itemprop='datePublished'>
             2021-05-27 21:54:11 UTC
           </time>
        </span>
        <span itemprop='position'>#28</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I see. So maybe free() is not implemented in axolotiland. Or not correctly.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Load midi files from SD consecutively, in order'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirSickSik.html'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2021-05-28T10:36:02Z' itemprop='datePublished'>
             2021-05-28 10:36:02 UTC
           </time>
        </span>
        <span itemprop='position'>#29</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../u/johannes.html">@johannes</a><br>as you added the original module, do you might have some idea for this?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Load midi files from SD consecutively, in order'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/plagasul.html'><b itemprop='author'>plagasul</b></a>
           
           <time datetime='2021-05-28T10:54:00Z' itemprop='datePublished'>
             2021-05-28 10:54:00 UTC
           </time>
        </span>
        <span itemprop='position'>#30</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Apologies for not being able to add anything useful here, I am more of a client server type of guy, can't program in C</p>

<p>Will keep an eye for anything I can do.</p>

<p>Thank you</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Load midi files from SD consecutively, in order'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/lokki.html'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2021-05-28T17:03:10Z' itemprop='datePublished'>
             2021-05-28 17:03:10 UTC
           </time>
        </span>
        <span itemprop='position'>#31</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Can you try and substitute malloc for sdram_malloc() ?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Load midi files from SD consecutively, in order'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirSickSik.html'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2021-05-28T22:01:20Z' itemprop='datePublished'>
             2021-05-28 22:01:20 UTC
           </time>
        </span>
        <span itemprop='position'>#32</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>it's already using the sdram memory.<br>But if you have some ideas, take a look into the header files that are included with the jt/midi/midiplayer, perhaps you can see if something goes wrong or could be changed..?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Load midi files from SD consecutively, in order'>
      <hr>
  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement'>
      <span itemprop='url'><a rel="prev" itemprop="name" href="7295.html">← previous page</a></span>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/load-midi-files-from-sd-consecutively-in-order/7295?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 04:29:08 GMT -->
</html>
