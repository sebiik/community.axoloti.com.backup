<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Includes in embedded patch/object - AxoObject coding - Axoloti Community</title>
    <meta name="description" content="I&amp;#39;ve discovered that it&amp;#39;s possible to add includes to embedded patch/objects by editing the XML of the containing patch. 

However, when I do this, and attempt to take the patch Live, I get a fatal error saying the inclu&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.6.0.beta7 - https://github.com/discourse/discourse version c671b129ab43c8e6462795034a39af9a81214b09">
<link rel="icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="https://sebiik.github.io/community.axoloti.com.backup/t/includes-in-embedded-patch-object/1904" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://sebiik.github.io/community.axoloti.com.backup/opensearch.xml">

      
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
  ga('send', 'pageview');

</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Includes in embedded patch/object&#39;" href="https://sebiik.github.io/community.axoloti.com.backup/t/includes-in-embedded-patch-object/1904.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/includes-in-embedded-patch-object/1904" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/includes-in-embedded-patch-object/1904" />
<meta property="og:title" content="Includes in embedded patch/object" />
<meta name="twitter:title" content="Includes in embedded patch/object" />
<meta property="og:description" content="I&#39;ve discovered that it&#39;s possible to add includes to embedded patch/objects by editing the XML of the containing patch.   However, when I do this, and attempt to take the patch Live, I get a fatal error saying the included file can&#39;t be found.   I&#39;ve checked the path relative to the patch file, and it seems correct, using UNIX relative path syntax.   Is this feature supposed to work, and if so, has anyone managed to get it to do so?   I&#39;d make my embedded objects into standalone objects, but I ..." />
<meta name="twitter:description" content="I&#39;ve discovered that it&#39;s possible to add includes to embedded patch/objects by editing the XML of the containing patch.   However, when I do this, and attempt to take the patch Live, I get a fatal error saying the included file can&#39;t be found.   I&#39;ve checked the path relative to the patch file, and it seems correct, using UNIX relative path syntax.   Is this feature supposed to work, and if so, has anyone managed to get it to do so?   I&#39;d make my embedded objects into standalone objects, but I ..." />

    <style>
      header img {
        max-width: 90% !important;
        padding-bottom: 10px;
      }

      img { max-width: 100%; width: auto; height: auto; }

      #main-outlet > div {
        margin-bottom: 15px;
      }

      footer nav a {
        margin-right: 15px;
      }

      footer nav {
        line-height: 30px;
      }

      body {
        max-width: 98%;
        padding-left: 1%;
      }
      .topic-list > div > a {
        margin-right: 10px;
      }
      .topic-list > div .posts {
          margin-left: 10px;
      }
      .topic-list > div {
        margin-bottom: 15px;
      }

    </style>
  </head>
  <body>
      
    <header>
      <a href="/"><img src="/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 400px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="/t/includes-in-embedded-patch-object/1904">Includes in embedded patch/object</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="/c/axoobject-code" itemprop="url">
        <span itemprop="title">AxoObject coding</span>
      </a>
    </div>
</div>




<hr>


  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-06-22T23:02:42Z' itemprop='datePublished'>
             2016-06-22 23:02:42 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I've discovered that it's possible to add includes to embedded patch/objects by editing the XML of the containing patch.</p>

<p>However, when I do this, and attempt to take the patch Live, I get a fatal error saying the included file can't be found.</p>

<p>I've checked the path relative to the patch file, and it seems correct, using UNIX relative path syntax.</p>

<p>Is this feature supposed to work, and if so, has anyone managed to get it to do so?</p>

<p>I'd make my embedded objects into standalone objects, but I find embedded ones much easier to deal with, so my plan us to leave it to the last minute to export them to the library.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-06-23T09:05:05Z' itemprop='datePublished'>
             2016-06-23 09:05:05 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>check firmware/makefile.patch , in there you will see where the include path is setup.<br>(actually its probably repeated in the console when you compile the patch, look for -I )</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-06-23T09:41:32Z' itemprop='datePublished'>
             2016-06-23 09:41:32 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi,</p>

<p>thanks for getting back to me.<br>I'll have a look for that. Should includes inside the XML definition for embedded patch/objects theoretically work though?</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-06-23T12:38:49Z' itemprop='datePublished'>
             2016-06-23 12:38:49 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>you mean in the include tags?  ... as , say like my push.axo?<br>hmm, theoretically, yes... but....</p>

<p>I suspect if your having issues, its due to trying to use relative include, and the question is then , relative to what? I think normally for objects this would be relative to the object location... but for a patch/object it makes sense to be relative to the patch... and that I guess may not have been coded, but would be relatively straightforward to do in a future release.</p>

<p>I will say though, its arguable that includes don't make much sense for a patch/object.<br>since these include files could only be shared by other objects in the patch,  and heres 'the rub',<br>one of the main advantages of using embedded objects and patches, is the patch is a single file... if you have an include file thats is now completely broken, as your patch wont compile unless you have the included file too...</p>

<p>that said, not sure at the moment, I can think of a better way to resolve this 'dilemma', though i suspect its related to 'packaging' which Johannes and Ive discussed in the past... but thats a little way off still.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-06-23T13:19:11Z' itemprop='datePublished'>
             2016-06-23 13:19:11 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Good points.</p>

<aside class="quote" data-post="4" data-topic="1904"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>one of the main advantages of using embedded objects and patches, is the patch is a single file</p></blockquote></aside>

<p>Completely understood. However from my point of view, the reason for using embedded objects while developing with the eventual intention of making standalone objects are largely related to current workflow issues with working with the Object Editor and external objects (principally non-recall of Editor window/tab settings when Editor window is closed/opened, and the apparent necessity to delete the object, reload all objects then re-add and reconnect the object whenever changing inlet/outlet configuration. which I find extremely frustrating as I do this often).</p>

<p>It's also useful to keep different versions of the patch file with different versions of the embedded patch/object, to experiment with different approaches.</p>

<p>My workflow is basically this:</p>

<ol>
<li>Create new patch file. I sometimes save this as a helpfile, in the same directory in the library that the standalone object will live in when exported (so relative paths to include files should work in the same was as with includes for standalone objects)</li>
<li>Find existing object with similar inlet/outlet ports to ones I want, or use the most basic Maths patch as base</li>
<li>Embed object</li>
<li>Develop and test new object code by editing embedded object</li>
<li>Export embedded object to library</li>
</ol>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-06-23T13:36:02Z' itemprop='datePublished'>
             2016-06-23 13:36:02 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>oh, I know why its preferable use embedded objects, Ive a similar workflow too. (except when I put the code externally) </p>

<p>but of course, we should be aiming to improve the non-embedded workflow too, we certainly should not need the delete/reload cycle (actually, reload should not be necessary already, as the save object does it)</p>

<p>of course, as always, so many things to do, so little time <img src="/images/emoji/emoji_one/slight_smile.png?v=2" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-06-23T14:25:19Z' itemprop='datePublished'>
             2016-06-23 14:25:19 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="6" data-topic="1904"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>(actually, reload should not be necessary already, as the save object does it)</p></blockquote></aside>

<p>I'll try using the object editor with a standalone object again (not sure I've done it with the current version), and see if reloading is no longer necessary.</p>

<p>Having to delete and re-add the object is a pain though, especially with objects like these.</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/16d30267c3c3fab2dc97ba8251d83acce6ef6736" href="//community.axoloti.com/uploads/default/original/2X/1/16d30267c3c3fab2dc97ba8251d83acce6ef6736.png" class="lightbox" title="Screen Shot 2016-06-23 at 15.23.08.png"><img src="//community.axoloti.com/uploads/default/optimized/2X/1/16d30267c3c3fab2dc97ba8251d83acce6ef6736_1_690x460.png" width="690" height="460"><div class="meta">
<span class="filename">Screen Shot 2016-06-23 at 15.23.08.png</span><span class="informations">2836x1892 527 KB</span><span class="expand"></span>
</div></a></div></p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-06-23T14:26:32Z' itemprop='datePublished'>
             2016-06-23 14:26:32 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="6" data-topic="1904"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>of course, as always, so many things to do, so little time</p></blockquote></aside>

<p>Of course, and obviously, the time and effort you put into the project is much appreciated.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-06-23T15:27:49Z' itemprop='datePublished'>
             2016-06-23 15:27:49 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>yeah, I think the having to delete and add again, is some kind of caching of the original object on the patch... the editor 'attempts' to update it, but I fear probably the patch gives a copy.<br>then the other 'oddity' is if you do a replace, its supposed to keep same name inlets/outlets, regardless of object type - so again, weird why that doesn't save it.</p>

<p>a random suspicion is this is also why the going live, and editing also causes issue... basically an object 'disappearing' without freeing up is network of connections.</p>

<p>never fear, when we first took the object editor live in this version, we had many more issues, which have been resolved... it was just a bigger undertaking (more side effects) than expected - but we are going in the right direction <img src="/images/emoji/emoji_one/slight_smile.png?v=2" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/johannes'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-06-23T22:51:51Z' itemprop='datePublished'>
             2016-06-23 22:51:51 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>One workaround for the need to delete/recreate an object is this:<br>use "replace" in the object popup menu, the object selector opens. If you do not select another object first, the selector will be lazy and not replace your object. If you type a space after the name and then delete the space, it will do the replace, and all your connections, parameter values and attributes will be retained. <br>A dirty trick, I know...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-06-24T08:49:09Z' itemprop='datePublished'>
             2016-06-24 08:49:09 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Good to know..<br>You're right though, is a dirty hack <img src="/images/emoji/emoji_one/wink.png?v=2" title=":wink:" class="emoji" alt=":wink:"></p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='/'>Home</a>
        <a href="/categories">Categories</a>
        <a href="/guidelines">FAQ/Guidelines</a>
        <a href="/tos">Terms of Service</a>
        <a href="/privacy">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="http://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
      
  </body>
</html>
