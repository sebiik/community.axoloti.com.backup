<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Object oriented coding - AxoObject coding - Axoloti Community</title>
    <meta name="description" content="I&amp;#39;ve been thinking about a module that has several different modulation codes in it as possible functions and then the ability to select any of these codes independently for the 8 outputs, thus object oriÃ«nted coding (as&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.6.0.beta7 - https://github.com/discourse/discourse version c671b129ab43c8e6462795034a39af9a81214b09">
<link rel="icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="/images/default-apple-touch-icon.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="http://community.axoloti.com/t/object-oriented-coding/1970" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="http://community.axoloti.com/opensearch.xml">

      
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
  ga('send', 'pageview');

</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Object oriented coding&#39;" href="http://community.axoloti.com/t/object-oriented-coding/1970.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta property="og:url" content="http://community.axoloti.com/t/object-oriented-coding/1970" />
<meta name="twitter:url" content="http://community.axoloti.com/t/object-oriented-coding/1970" />
<meta property="og:title" content="Object oriented coding" />
<meta name="twitter:title" content="Object oriented coding" />
<meta property="og:description" content="I&#39;ve been thinking about a module that has several different modulation codes in it as possible functions and then the ability to select any of these codes independently for the 8 outputs, thus object oriÃ«nted coding (as someone told me)..   though, could anyone explain to me how I would define such function in the local data? Or point me to a module that is using this approach?   eg. for each output I want to be able to select an LFO (multiple functions for basic waveforms) or an envelope or a ..." />
<meta name="twitter:description" content="I&#39;ve been thinking about a module that has several different modulation codes in it as possible functions and then the ability to select any of these codes independently for the 8 outputs, thus object oriÃ«nted coding (as someone told me)..   though, could anyone explain to me how I would define such function in the local data? Or point me to a module that is using this approach?   eg. for each output I want to be able to select an LFO (multiple functions for basic waveforms) or an envelope or a ..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 â¤" />

    <style>
      header img {
        max-width: 90% !important;
        padding-bottom: 10px;
      }

      img { max-width: 100%; width: auto; height: auto; }

      #main-outlet > div {
        margin-bottom: 15px;
      }

      footer nav a {
        margin-right: 15px;
      }

      footer nav {
        line-height: 30px;
      }

      body {
        max-width: 98%;
        padding-left: 1%;
      }
      .topic-list > div > a {
        margin-right: 10px;
      }
      .topic-list > div .posts {
          margin-left: 10px;
      }
      .topic-list > div {
        margin-bottom: 15px;
      }

    </style>
  </head>
  <body>
      
    <header>
      <a href="/"><img src="/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 400px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="/t/object-oriented-coding/1970">Object oriented coding</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="/c/axoobject-code" itemprop="url">
        <span itemprop="title">AxoObject coding</span>
      </a>
    </div>
</div>




<hr>


  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/SirSickSik'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2016-07-09T11:17:17Z' itemprop='datePublished'>
             2016-07-09 11:17:17 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I've been thinking about a module that has several different modulation codes in it as possible functions and then the ability to select any of these codes independently for the 8 outputs, thus object oriÃ«nted coding (as someone told me)..</p>

<p>though, could anyone explain to me how I would define such function in the local data? Or point me to a module that is using this approach?</p>

<p>eg. for each output I want to be able to select an LFO (multiple functions for basic waveforms) or an envelope or a simple, 16 step sequencer.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/SirSickSik'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2016-07-09T11:25:58Z' itemprop='datePublished'>
             2016-07-09 11:25:58 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>wow ehm... I thought, let's just try something out... randomly.... and thadaaaaa I actually hit bullseye in one throw... hahahaha<br>so, no need to explain anymore XD</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/SirSickSik'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2016-07-09T11:53:11Z' itemprop='datePublished'>
             2016-07-09 11:53:11 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>oh my.... this is really really nice..</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-07-09T12:59:17Z' itemprop='datePublished'>
             2016-07-09 12:59:17 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm not sure what you're talking about is Object-Orientated coding, as such. Are you talking about using functions, defined in the Local Data section of your object's XML?</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/SirSickSik'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2016-07-09T13:15:59Z' itemprop='datePublished'>
             2016-07-09 13:15:59 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>yes, that's what I mean... (sorry, I'm still a noob <img src="/images/emoji/emoji_one/wink.png?v=2" title=":wink:" class="emoji" alt=":wink:"> haha)</p>

<p>but I got it working, at the moment I got 2 modulation outputs where I can select what kind of LFO shape I want to select for each output, reset&amp;gate each independently and apply FM amount with any of the other selected modulations (gonna be 8 in total)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/SirSickSik'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2016-07-09T15:00:21Z' itemprop='datePublished'>
             2016-07-09 15:00:21 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>oeh lala, this is super nice with my shufflingsequencer, automator and morphor modules...<br>now I've also build in the same preset- save/load functions as those</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/SirSickSik'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2016-07-11T10:00:09Z' itemprop='datePublished'>
             2016-07-11 10:00:09 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ok, so I Do have a question about those functions...</p>

<p>yesterday I tried to made an oscillator, which would only need one single function for the oscillator.<br>I hoped by recalling that function within a for-loop, I could generate multiple voices.<br>Though it seems that the internal parameters of this function should be arrays instead of normal int32_t...<br>( eg. uint32_t phase[8] for 8 possible phase generations).</p>

<p>When I tried using the "normal" "uint32_t phase", it just added all these phases together and output a single wave with a frequency of the sum of all the frequencies of all the voices..</p>

<p>I did this like (simplified version):</p>

<p>in local data:<br>uint32_t phase;<br>uint32_t sine;<br>int32_t out[8];<br>int32_t sum;<br>int32_t oscillator(freq)<br>{<br>phase+=freq;<br>SINE2TINTERP(phase,sine)<br>}</p>

<p>in S-rate data:<br>sum=0;<br>for(i=0;i&lt;8;i++)<br>{<br>oscillator(pitch[i]);<br>out[i]=sine;<br>sum+=out[i]&gt;&gt;6;<br>}<br>outlet_out=sum;</p>

<p>but it seems I have to change both phase and sine (and additional declarations) into arrays for it to work, like:<br>uint32_t phase[8];<br>int32_t sine[8];</p>

<p>So.. I think I'm doing something wrong here, or not?<br>I hoped to be able to design a simple function for an oscillator, which could then be called upon multiple times to generate an # amount of voices (by feeding it array-values for frequency, FM etc).<br>Or is it just necessary to also make an array of phases?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-07-11T10:23:32Z' itemprop='datePublished'>
             2016-07-11 10:23:32 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm a bit confused about your code, but your function should look something like this:</p>

<pre><code>int32_t oscillator(int32_t freq, uint8_t oscIndex) {
	phase[oscIndex] += freq;
	SINE2TINTERP(phase,sine);
}</code></pre>

<p>It also needs to either return a value, or set a value in an array directly.</p>

<p>You could do:</p>

<pre><code>int32_t oscillator(int32_t freq, uint8_t oscIndex) {
    	phase[oscIndex] += freq;
    	return SINE2TINTERP(phase,sine);
}</code></pre>

<p>or:</p>

<pre><code>void oscillator(int32_t freq, uint8_t oscIndex) {
    	phase[oscIndex] += freq;
    	osc[oscIndex] = SINE2TINTERP(phase,sine);
}</code></pre>

<p>I'm at work at the moment, so can't write much. Try looking at this page, and see if that answers your questions.</p>

<p><a href="http://www.tutorialspoint.com/cprogramming/c_functions.htm" class="onebox" target="_blank" rel="nofollow">http://www.tutorialspoint.com/cprogramming/c_functions.htm</a></p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/SirSickSik'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2016-07-11T10:26:09Z' itemprop='datePublished'>
             2016-07-11 10:26:09 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ah thanks, this is enough info.<br>I already did this to fix the "problem" but hoped to find a more elegant solution. Though it seems I just got to live with this <img src="/images/emoji/emoji_one/wink.png?v=2" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-07-11T10:29:31Z' itemprop='datePublished'>
             2016-07-11 10:29:31 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Functions are very useful, once you get your head around them.</p>

<p>One thing to remember though: although using them can dramatically reduce the size of your code, in terms of what the processor has to do, calling a function, say, 10 times is directly equivalent to writing the same chunk of code 10 times.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/SirSickSik'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2016-07-11T10:56:20Z' itemprop='datePublished'>
             2016-07-11 10:56:20 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I know, but still it's really useful as the code itself is much smaller and thus asks less  time to be written to the axoloti.<br>In big projects that's a huge plus as it doesn't go into a time-out.<br>Also, I want to add multiple oscillator codes inside a single oscillator. Then be able to select between 1 and 4 voices and how they inter-modulate each other. This way, you also go around the sample-buffer that is used outside the modules, which means you'll have an oscillator with a 1-sample delay for all modulations <img src="/images/emoji/emoji_one/stuck_out_tongue.png?v=2" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>

<p>but I decided now, that I'm first going write a function to generate the phases of the seperate oscillators and then write functions for the shape of these phases. If I'm right, these shapes don't need to be in an array, as they'r being updated by another value each pass-by, and thus have no memory of themselves (unlike the phase of an oscillator or the position of a filter).</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-07-11T11:43:09Z' itemprop='datePublished'>
             2016-07-11 11:43:09 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You can have one function call another function, which can sometimes be helpful.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='/'>Home</a>
        <a href="/categories">Categories</a>
        <a href="/guidelines">FAQ/Guidelines</a>
        <a href="/tos">Terms of Service</a>
        <a href="/privacy">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="http://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
      
  </body>
</html>
