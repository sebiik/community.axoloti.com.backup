<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/how-wrong-is-it-to-overflow-a-frac32-input/7658 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 02:54:50 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>How wrong is it to overflow a frac32 input? - Patching - Axoloti Community</title>
    <meta name="description" content="Hello, IÂ´m making a patch in which I have a base value controlled by a ctrl/dial p object, and to that value I add a randomized value from zero to whatever I have dialed on another ctrl/dial p object. Then those two valu&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="7658.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;How wrong is it to overflow a frac32 input?&#39;" href="7658.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/2X/d/dd7cea7f81ea07bcbe32e78676c871cedf0e5b94.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/2X/d/dd7cea7f81ea07bcbe32e78676c871cedf0e5b94.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/how-wrong-is-it-to-overflow-a-frac32-input/7658" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/how-wrong-is-it-to-overflow-a-frac32-input/7658" />
<meta property="og:title" content="How wrong is it to overflow a frac32 input?" />
<meta name="twitter:title" content="How wrong is it to overflow a frac32 input?" />
<meta property="og:description" content="Hello, IÂ´m making a patch in which I have a base value controlled by a ctrl/dial p object, and to that value I add a randomized value from zero to whatever I have dialed on another ctrl/dial p object. Then those two values are added and sent to a frac32 inlet on another object. In order to avoid sending a value higher than 64 I do some operations on the random signal to scale it so the resulting value received on the blue inlet never exceeds 64. The thing is my patch is starting to get a bit big..." />
<meta name="twitter:description" content="Hello, IÂ´m making a patch in which I have a base value controlled by a ctrl/dial p object, and to that value I add a randomized value from zero to whatever I have dialed on another ctrl/dial p object. Then those two values are added and sent to a frac32 inlet on another object. In order to avoid sending a value higher than 64 I do some operations on the random signal to scale it so the resulting value received on the blue inlet never exceeds 64. The thing is my patch is starting to get a bit big..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="2 â¤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="7658.html">How wrong is it to overflow a frac32 input?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/patching.html" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/TTotelka.html'><b itemprop='author'>TTotelka</b></a>
           
           <time datetime='2022-03-18T09:52:10Z' itemprop='datePublished'>
             2022-03-18 09:52:10 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello,<br>IÂ´m making a patch in which I have a base value controlled by a ctrl/dial p object, and to that value I add a randomized value from zero to whatever I have dialed on another ctrl/dial p object.<br>Then those two values are added and sent to a frac32 inlet on another object.<br>In order to avoid sending a value higher than 64 I do some operations on the random signal to scale it so the resulting value received on the blue inlet never exceeds 64.<br>The thing is my patch is starting to get a bit big, and I have to take out stuff that is not needed in order to add the stuff I do need, so IÂ´m thinking that maybe all that calculation is not really necessary, since doing tests on another simple patch nothing bad seems to happen if I do send a value higher than 64.<br>So my question is on the title: Is it bad to send values higher than 64 to a frac32 input, or it will just see it as 64 and just keep going? This seems to be the case, but who knows if it is messing with the code and might start having a wrong behaviour.<br>HereÂ´s a picture of an example of what IÂ´m talking about.<br><img src="../../uploads/default/original/2X/d/dd7cea7f81ea07bcbe32e78676c871cedf0e5b94.png" width="467" height="317"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='How wrong is it to overflow a frac32 input?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirSickSik.html'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2022-03-18T10:25:29Z' itemprop='datePublished'>
             2022-03-18 10:25:29 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The common way to clip signals between 0/-64 and 64 is the function: <br>__USAT(...,27) (unipolar) <br>and <br>__SSAT(....,28) (bipolar)</p>

<p>As far as I know, this is already build into the adsr's modulation+parameter calculation, so you won't need anything before it to clip the signal.<br>The fractional values normally being used are between -64 and 64 (which is -/+ 1&lt;&lt;27, which means it uses 27 bits for unipolar and 28 bits for bipolar signals). As the total bits that are allowed internally in the code is mostly bipolar 32 bits, this means you got 4 bits left to "go over" without the integer losing bits that it can't "hold". As soon as you dÃ³ go over this, the signal will wrap around from max to min (when you go up from zero, when you reach 1&lt;&lt;31 it will become -1&lt;&lt;31 and it will go up to zero again from there)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='How wrong is it to overflow a frac32 input?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/TTotelka.html'><b itemprop='author'>TTotelka</b></a>
           
           <time datetime='2022-03-18T13:16:18Z' itemprop='datePublished'>
             2022-03-18 13:16:18 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>All right, thank you so much!<br>The adsr module was just for showing what I was talking about in the simplest possible way, IÂ´m actually sending the signal to <a class="mention" href="../../u/cpwitz.html">@cpwitz</a> 's grain-player (used in grain-mill).<br>Anyway, from your explanation I understand that still I wonÂ´t overflow anything, since the biggest amount I could send is double of 64, and unless these 32 bits donÂ´t behave like the binary bits I know, 5 bits (it is unipolar) gives me way more margin than that.<br>Again, thanks a lot! <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='How wrong is it to overflow a frac32 input?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirSickSik.html'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2022-03-19T11:21:07Z' itemprop='datePublished'>
             2022-03-19 11:21:07 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>it does still depend on the code in his module. If his function can't handle inputs higher then unipolar 27 or bipolar 28 bits and he didn't use a clipper to saveguard this, it could still give a weird behavior.<br>For example, if, for some reason, he bitshifted the input to the right by 4 bits without clipping, going over the 27 bits would still lead to some unexpected behavior. But you can always check this by just sending a value to it that passes 27 bits to be sure (like adding two sliders together and passing that as an input). If it dÃ³es wrap, you can always add the clipping function yourself:</p>

<p>__USAT ( param _p+inlet _p,27) (without the space between param and _p, where p would be the name of the inlet/parameter)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='How wrong is it to overflow a frac32 input?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/TTotelka.html'><b itemprop='author'>TTotelka</b></a>
           
           <time datetime='2022-03-21T13:47:42Z' itemprop='datePublished'>
             2022-03-21 13:47:42 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <blockquote><p>But you can always check this by just sending a value to it that passes 27 bits to be sure (like adding two sliders together and passing that as an input).</p></blockquote>

<p>That is what I did, and it seems to work just fine <img src="../../images/emoji/twitter/slightly_smiling_faceae52.png?v=5" title=":slightly_smiling_face:" class="emoji" alt=":slightly_smiling_face:"><br>Thanks!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='How wrong is it to overflow a frac32 input?'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/how-wrong-is-it-to-overflow-a-frac32-input/7658 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 02:54:51 GMT -->
</html>
