<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/call-for-patches-that-push-core-to-its-limits-expose-issues/6070?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 17:23:55 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Call for patches that push Core to its limits, expose issues - Patching - Axoloti Community</title>
    <meta name="description" content="As you know I&amp;#39;m working on some next generation hardware as described here: http://community.axoloti.com/t/next-gen-and-mini-axoloti-hardware-discussion/5908/216 

I want to compile a nice collection of patches that real&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="60704658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Call for patches that push Core to its limits, expose issues&#39;" href="6070.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/call-for-patches-that-push-core-to-its-limits-expose-issues/6070?page=2" />
<meta name="twitter:url" content="http://community.axoloti.com/t/call-for-patches-that-push-core-to-its-limits-expose-issues/6070?page=2" />
<meta property="og:title" content="Call for patches that push Core to its limits, expose issues" />
<meta name="twitter:title" content="Call for patches that push Core to its limits, expose issues" />
<meta property="og:description" content="From the literature and from anecdotal evidence there shouldn&#39;t be any advantage to running instructions from SRAM. People seem to observe that SRAM can actually be slower due to caching and CPU pipeline structure (One example: https://community.st.com/s/question/0D50X00009Xkh2VSAR/the-cpu-performance-difference-between-running-in-the-flash-and-running-in-the-ram-for-stm32f407).    The fundamental issue is that we&#39;re taking the special case, i.e. dynamically editing an object implementation, and..." />
<meta name="twitter:description" content="From the literature and from anecdotal evidence there shouldn&#39;t be any advantage to running instructions from SRAM. People seem to observe that SRAM can actually be slower due to caching and CPU pipeline structure (One example: https://community.st.com/s/question/0D50X00009Xkh2VSAR/the-cpu-performance-difference-between-running-in-the-flash-and-running-in-the-ram-for-stm32f407).    The fundamental issue is that we&#39;re taking the special case, i.e. dynamically editing an object implementation, and..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="8 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="14 ❤" />

      <link rel="prev" href="6070.html">
      <link rel="next" href="60709ba9.html?page=3">

  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="6070.html">Call for patches that push Core to its limits, expose issues</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/patching.html" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-10-14T20:10:24Z' itemprop='datePublished'>
             2019-10-14 20:10:24 UTC
           </time>
        </span>
        <span itemprop='position'>#21</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>From the literature and from anecdotal evidence there shouldn't be any advantage to running instructions from SRAM. People seem to observe that SRAM can actually be slower due to caching and CPU pipeline structure (One example: <a href="https://community.st.com/s/question/0D50X00009Xkh2VSAR/the-cpu-performance-difference-between-running-in-the-flash-and-running-in-the-ram-for-stm32f407" rel="nofollow noopener">https://community.st.com/s/question/0D50X00009Xkh2VSAR/the-cpu-performance-difference-between-running-in-the-flash-and-running-in-the-ram-for-stm32f407</a>). </p>

<p>The fundamental issue is that we're taking the special case, i.e. dynamically editing an object implementation, and applying it universally. It's over-engineered; there's no technical reason for it. Yes, it might be tolerable to deal with a compile cycle because your host machine is fast. That doesn't make it correct or desirable. Compilation should only occur when someone is changing an object implementation. This approach also has the effect of making everything harder to debug. If all of that object implementation code is compiled ahead of time, it's much easier for a debugger to be aware of all of those symbols.</p>

<p>The actual object implementation can remain largely the same whether in Flash or SRAM. You would simply call into object implementations in Flash as needed. I would argue that working from Flash would be easier overall because there could less concern about the exact positions of things in memory. The patcher right now actually has awareness of explicit memory addresses on the target device, again, for no real technical benefit. It's a very brittle design.</p>

<p>The patch load process could just as easily target Flash actually, but then we'd get into wear-leveling concerns, etc.</p>

<p>The bottom line is that the vast majority of patching could easily be done completely live without any compile cycle at all. It has the added bonus of actually being simpler to work with and to debug.</p>

<p>Ha, sorry if this all comes across as hyper-critical and doom and gloom! I'm just trying to make this thing the best it can possibly be. It bothers me that people are dealing with what I see as self-imposed technical limitations.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/tele_player.html'><b itemprop='author'>tele_player</b></a>
           
           <time datetime='2019-10-14T20:36:10Z' itemprop='datePublished'>
             2019-10-14 20:36:10 UTC
           </time>
        </span>
        <span itemprop='position'>#22</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don't see it as hyper-critical or gloom and doom, I'm just not convinced it's desirable enough to merit much work.<br>The last guy to dig deep into rewriting how the system works has been mostly missing in action for a few years. We don't want that to happen before you ship some upgraded hardware.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-10-14T20:49:37Z' itemprop='datePublished'>
             2019-10-14 20:49:37 UTC
           </time>
        </span>
        <span itemprop='position'>#23</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Great! I agree that this is all stuff that isn't happening until the new hardware is out in the wild. Definitely enhancements, not in scope just to get hardware shipped.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Zaphod.html'><b itemprop='author'>Zaphod</b></a>
           
           <time datetime='2019-10-16T16:13:55Z' itemprop='datePublished'>
             2019-10-16 16:13:55 UTC
           </time>
        </span>
        <span itemprop='position'>#24</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The patch that I've appended is my first patch on Axoloti! It is an alpha  version of a 12 band vocoder. I intended on making a 31 terts band vocoder, but soon found out that this will demand too much resources on Axoloti. Therefore I scaled it down to 12 bands. Depending on the positioning of the elements of the patch in the gui it compiles or I get an error message telling me that there is an overflow. I hope this can be of some help in the further development of Axoloti. And if anyone uses it to make some music, please send me a link, I'd be very curious to know what people use it for. To use it, put a carrier signal on the right input and a modulator signal on the left input. The 12 resulting bands are panned a bit, so any signal should result in some stereo output signal. The vca + const/i elements are meant to scale the signals. Depending on your input signals you may have to adjust these.<a class="attachment" href="../../uploads/default/original/2X/5/vocode-o-matic_emulatie_12x12_banden_linear_03.axp">vocode-o-matic_emulatie_12x12_banden_linear_03.axp</a> (73.2 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/pierstitus.html'><b itemprop='author'>pierstitus</b></a>
           
           <time datetime='2019-10-16T20:30:49Z' itemprop='datePublished'>
             2019-10-16 20:30:49 UTC
           </time>
        </span>
        <span itemprop='position'>#25</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The big benefit of compiling everything every time is the compile time optimizations. When you compile al objects separately you can only optimize them separately, not the combination. Also important is the way you would do it, if you need an extra function call for every object that can take a lot of CPU.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-10-16T20:42:57Z' itemprop='datePublished'>
             2019-10-16 20:42:57 UTC
           </time>
        </span>
        <span itemprop='position'>#26</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The other issue I see with the SRAM approach is that we're simultaneously trying to read instructions and read and write data to the same memory. We could potentially avoid that conflict by trying to isolate the instruction accesses to Flash as much as possible.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SmashedTransistors.html'><b itemprop='author'>SmashedTransistors</b></a>
           
           <time datetime='2019-10-17T23:19:53Z' itemprop='datePublished'>
             2019-10-17 23:19:53 UTC
           </time>
        </span>
        <span itemprop='position'>#27</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>menu help-&gt;Library-&gt;community-&gt;tiar-&gt;FDN-&gt;D10 DelayVerb.axh<br>uses 90% cpu.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-10-18T00:37:41Z' itemprop='datePublished'>
             2019-10-18 00:37:41 UTC
           </time>
        </span>
        <span itemprop='position'>#28</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/deb8c9fb7ad518924487a58ae20f669009b442ca" href="../../uploads/default/original/2X/d/deb8c9fb7ad518924487a58ae20f669009b442ca.png" class="lightbox" title="usage2.png"><img src="../../uploads/default/optimized/2X/d/deb8c9fb7ad518924487a58ae20f669009b442ca_1_690x165.png" width="690" height="165"><div class="meta">
<span class="filename">usage2.png</span><span class="informations">1264x303 185 KB</span><span class="expand"></span>
</div></a></div></p>

<p>Layout I'm working with at the moment. <img src="../../images/emoji/twitter/fireae52.png?v=5" title=":fire:" class="emoji" alt=":fire:"> </p>

<p>I was making this stupidly huge cascaded reverb to eat all that CCM. The question is can we get away with pushing some data out of the core-coupled area eventually.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2019-10-18T08:52:33Z' itemprop='datePublished'>
             2019-10-18 08:52:33 UTC
           </time>
        </span>
        <span itemprop='position'>#29</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../u/urklang.html">@urklang</a></p>

<p>Sorry I don't understand the picture.</p>

<p>How much sram will be available for the new one?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-10-18T09:38:41Z' itemprop='datePublished'>
             2019-10-18 09:38:41 UTC
           </time>
        </span>
        <span itemprop='position'>#30</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Here's the patch linker script from master: <a href="https://github.com/axoloti/axoloti/blob/master/firmware/ramlink.ld" rel="nofollow noopener">https://github.com/axoloti/axoloti/blob/master/firmware/ramlink.ld</a></p>

<p>So in the legacy system there's roughly 44k + 8k in SRAM regions and 48k in what's called "core-coupled" or CCMSRAM, then 8MB SDRAM.</p>

<p>The image is showing a new layout for the H7 that has about 512k of normal SRAM plus another 128k CCMSRAM for use with patches/dsp and then the 32M SDRAM. The patch I was running here uses more than twice what would be possible for CCM usage on the original hardware. Roughly we've got about 6x more SRAM and 4x more SDRAM to work with.</p>

<p>In both cases there are other regions of SRAM in use for other firmware purposes that aren't allocated to the patch. The H7 has about 1M of RAM overall.</p>

<p>Anyway, I have some ideas for reducing the effect of the SRAM bottleneck as we go forward. We're going to get some nice headroom without much work, but we still need to work on architecture improvements overall. There's a huge amount of Flash for us to work with. The H7 also has its nice L1 cache which is totally absent on the F4.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2019-10-18T10:21:00Z' itemprop='datePublished'>
             2019-10-18 10:21:00 UTC
           </time>
        </span>
        <span itemprop='position'>#31</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="30" data-topic="6070"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/urklang/40/2326_1.html" class="avatar">urklang:</div>
<blockquote><p>Roughly we've got about 6x more SRAM and 4x more SDRAM to work with.</p></blockquote></aside>

<p>Thank you for the details. This sounds really, really promising <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/lokki.html'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2019-10-18T12:04:57Z' itemprop='datePublished'>
             2019-10-18 12:04:57 UTC
           </time>
        </span>
        <span itemprop='position'>#32</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>i agree this is huge!!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2019-10-18T12:27:15Z' itemprop='datePublished'>
             2019-10-18 12:27:15 UTC
           </time>
        </span>
        <span itemprop='position'>#33</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../u/urklang.html">@urklang</a></p>

<p>Sorry bout all the questions here, but this is really great news all the info you give here <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"> </p>

<p>So one more here;</p>

<ul><li>What about the cpu, compared to the old Axoloti?</li></ul>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-10-18T22:06:03Z' itemprop='datePublished'>
             2019-10-18 22:06:03 UTC
           </time>
        </span>
        <span itemprop='position'>#34</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The new board has one of the latest revisions of the H7 which I have running at 480Mhz. The F4 in Core runs at 168Mhz.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Gavin.html'><b itemprop='author'>Gavin</b></a>
           
           <time datetime='2019-10-19T06:04:15Z' itemprop='datePublished'>
             2019-10-19 06:04:15 UTC
           </time>
        </span>
        <span itemprop='position'>#35</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Roughly 3 times the speed, very nice....!<br>I like the idea of having objects preloaded in flash if it improves performance over all, the only thing I don't like is there being alot of objects I may never use. Maybe there is another approach to consider where you could choose the factory objects or a personal list of objects../ just a thought....<img src="../../images/emoji/twitter/thinkingae52.png?v=5" title=":thinking:" class="emoji" alt=":thinking:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-10-19T06:44:54Z' itemprop='datePublished'>
             2019-10-19 06:44:54 UTC
           </time>
        </span>
        <span itemprop='position'>#36</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This is definitely where I want to go eventually. Giving the user the option to control what objects to store into Flash. We don't want to waste any space for people with things they aren't actively using, especially random community objects. SuperCollider has an approach kind of like this actually where adding your preferred extension objects takes a build cycle and but then they're available to your patches until you decide to uninstall them.</p>

<p>On the other hand we do have an entire extra megabyte of flash available to us (we have 2MB over Core's 1). My intuition is that this is huge compared to the amount of data we need to store for objects if we're reasonably clever about not being wasteful when we store them.</p>

<p>Some objects need to be parameterized and stored more compactly. Take the basic example of mixer objects. Instead of having Mix1, Mix2, ..., Mix8 all stored separately, we want some kind of MixN that takes the number of inputs as a parameter and generates the appropriate object. This might be a behind the scenes optimization. At the patcher level, it could still be exact sizes like we're used to like Mix2, etc.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2019-10-19T07:36:31Z' itemprop='datePublished'>
             2019-10-19 07:36:31 UTC
           </time>
        </span>
        <span itemprop='position'>#37</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="35" data-topic="6070"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/gavin/40/5153_1.png" class="avatar">Gavin:</div>
<blockquote><p>I like the idea of having objects preloaded in flash if it improves performance over all, the only thing I don't like is there being alot of objects I may never use</p></blockquote></aside>

<p>Yeah that is my worry too. Pretty much every object gets edited here, so they are not factory objects anymore, they are always edits.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Blindsmyth.html'><b itemprop='author'>Blindsmyth</b></a>
           
           <time datetime='2019-10-21T21:02:38Z' itemprop='datePublished'>
             2019-10-21 21:02:38 UTC
           </time>
        </span>
        <span itemprop='position'>#38</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="37" data-topic="6070"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/jaffasplaffa/40/5808_1.png" class="avatar">jaffasplaffa:</div>
<blockquote><p>Yeah that is my worry too. Pretty much every object gets edited here, so they are not factory objects anymore, they are always edits.</p></blockquote></aside>

<p>I edit a lot of objects too. But the main reason is usally that I delete unused dials, toggles or disps because they use up additional sram. <br>It would be super great if we could just freeze objects, meaning that all dial values become constant, feedback is disabled so that there is no additional ram usage.</p>

<aside class="quote" data-post="36" data-topic="6070"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/urklang/40/2326_1.html" class="avatar">urklang:</div>
<blockquote><p>This is definitely where I want to go eventually. Giving the user the option to control what objects to store into Flash. We don't want to waste any space for people with things they aren't actively using, especially random community objects. SuperCollider has an approach kind of like this actually where adding your preferred extension objects takes a build cycle and but then they're available to your patches until you decide to uninstall them.</p></blockquote></aside>

<p>I like the Idea that you can load the objects that you'll actually need into the flash. But as it works now I rework almost every object because almost all objects have wasteful dials and stuff...</p>

<p>EDIT: Of course there will be more ram and everything but nowing myself I will bring that to limit too propably <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-10-22T02:39:48Z' itemprop='datePublished'>
             2019-10-22 02:39:48 UTC
           </time>
        </span>
        <span itemprop='position'>#39</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Object freezing is a great idea. I'm wondering if there might be a way that we could pull off something like this behind the scenes so the user doesn't have to manage it directly unless they want to. I'm thinking of sort of an "on-demand"/"lazy" system where non-essential features of a patch are static and consuming minimal resources until the user actually interacts with them. Rough concrete example: some object with tons of knobs only represents the "possibility" of having all those knobs; the backend waits to actually consume resources for it until the user changes the value.</p>

<p>It all comes back to "What is the absolute minimum work we can do to make the correct patch calculation right now?" And then being able to transition smoothly into higher resource usage as needed.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Blindsmyth.html'><b itemprop='author'>Blindsmyth</b></a>
           
           <time datetime='2019-10-22T21:14:19Z' itemprop='datePublished'>
             2019-10-22 21:14:19 UTC
           </time>
        </span>
        <span itemprop='position'>#40</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hmmm I get this Idea but on the first sight I'm a bit skeptical. One of the things I like most about axoloti is that it's limits are quite well defined. Either the ram is full or not. Either CPU is full or not. In the first case it works reliably in the second not at all. In what you describe there isn't this clear control anyore.</p>

<aside class="quote" data-post="39" data-topic="6070"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/urklang/40/2326_1.html" class="avatar">urklang:</div>
<blockquote><p>It all comes back to "What is the absolute minimum work we can do to make the correct patch calculation right now?" And then being able to transition smoothly into higher resource usage as needed.</p></blockquote></aside>

<p>Then a manual freeze would be the low hanging fruit right?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Call for patches that push Core to its limits, expose issues'>
      <hr>
  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement'>
      <span itemprop='url'><a rel="prev" itemprop="name" href="6070.html">← previous page</a></span>
      <span itemprop='url'><b><a rel="next" itemprop="name" href="60709ba9.html?page=3">next page →</a></b></span>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/call-for-patches-that-push-core-to-its-limits-expose-issues/6070?page=2 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 17:23:55 GMT -->
</html>
