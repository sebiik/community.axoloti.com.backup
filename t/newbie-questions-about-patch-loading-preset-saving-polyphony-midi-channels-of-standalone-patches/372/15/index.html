<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Newbie Questions about Patch Loading, Preset saving, Polyphony, Midi Channels of standalone patches - Patching - Axoloti Community</title>
    <meta name="description" content="Hi all, I&amp;#39;ve had lots of fun creating  some instruments that are more or less ready to implement in my live sets - but I am now wondering about enclosures and building interfaces and started thinking about versatility of&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.6.0.beta7 - https://github.com/discourse/discourse version c671b129ab43c8e6462795034a39af9a81214b09">
<link rel="icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="https://sebiik.github.io/community.axoloti.com.backup/t/newbie-questions-about-patch-loading-preset-saving-polyphony-midi-channels-of-standalone-patches/372" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://sebiik.github.io/community.axoloti.com.backup/opensearch.xml">

      
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
  ga('send', 'pageview');

</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Newbie Questions about Patch Loading, Preset saving, Polyphony, Midi Channels of standalone patches&#39;" href="https://sebiik.github.io/community.axoloti.com.backup/t/newbie-questions-about-patch-loading-preset-saving-polyphony-midi-channels-of-standalone-patches/372.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/newbie-questions-about-patch-loading-preset-saving-polyphony-midi-channels-of-standalone-patches/372/15" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/newbie-questions-about-patch-loading-preset-saving-polyphony-midi-channels-of-standalone-patches/372/15" />
<meta property="og:title" content="Newbie Questions about Patch Loading, Preset saving, Polyphony, Midi Channels of standalone patches" />
<meta name="twitter:title" content="Newbie Questions about Patch Loading, Preset saving, Polyphony, Midi Channels of standalone patches" />
<meta property="og:description" content="ThatÂ´s the point. I build a Standalone Synth, load the default patch from the internal flash, after turned on the Core.  Maybe a simple Sawtooth Wave. Now a tweak some parameters to get a cool sound. But then, before a turnoff the Core, i want to save the current state, because i don&#39;t wanna start from the scratch.   In my opinion, to save and load presets should be a main goal, if you wanna use the core as standalone unit.   BTW the parameter table must be big, because my Synth has about 107 Pa..." />
<meta name="twitter:description" content="ThatÂ´s the point. I build a Standalone Synth, load the default patch from the internal flash, after turned on the Core.  Maybe a simple Sawtooth Wave. Now a tweak some parameters to get a cool sound. But then, before a turnoff the Core, i want to save the current state, because i don&#39;t wanna start from the scratch.   In my opinion, to save and load presets should be a main goal, if you wanna use the core as standalone unit.   BTW the parameter table must be big, because my Synth has about 107 Pa..." />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/letter_avatar_proxy/v2/letter/s/71e660/100.png" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/letter_avatar_proxy/v2/letter/s/71e660/100.png" />

    <style>
      header img {
        max-width: 90% !important;
        padding-bottom: 10px;
      }

      img { max-width: 100%; width: auto; height: auto; }

      #main-outlet > div {
        margin-bottom: 15px;
      }

      footer nav a {
        margin-right: 15px;
      }

      footer nav {
        line-height: 30px;
      }

      body {
        max-width: 98%;
        padding-left: 1%;
      }
      .topic-list > div > a {
        margin-right: 10px;
      }
      .topic-list > div .posts {
          margin-left: 10px;
      }
      .topic-list > div {
        margin-bottom: 15px;
      }

    </style>
  </head>
  <body>
      
    <header>
      <a href="/"><img src="/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 400px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="/t/newbie-questions-about-patch-loading-preset-saving-polyphony-midi-channels-of-standalone-patches/372">Newbie Questions about Patch Loading, Preset saving, Polyphony, Midi Channels of standalone patches</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="/c/patching" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>




<hr>


  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/alex'><b itemprop='author'>alex</b></a>
           
           <time datetime='2015-09-03T17:01:42Z' itemprop='datePublished'>
             2015-09-03 17:01:42 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="/users/thetechnobear">@thetechnobear</a><br></p>

<aside class="quote" data-post="9" data-topic="372"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>automation is usually done per 'control' in a daw, its more about expectation perhaps.</p></blockquote></aside>

<p>I dont realy understand what you mean, but I compare it to a synth or Reaktor. <br>The thing is that if I have created a synth with 50 controls, I'd have to set 50 controls to save a sound. Forgetting one means I'd perhaps never get that sound again, and more importantly it costs a lot of time.</p>

<p>Perhaps it would be useful to save all control values to a simple csv file (or table). that way presets could than also be easily exchanged and manipulated (for example, things like 'randomize' or morphing would than be relatively easy to make). <br>(I was thinking of creating simple 'editor' in reaktor for a axoloti synth and save presets there, but it kinda goes against the idea of having a standalone device.)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2015-09-03T17:25:40Z' itemprop='datePublished'>
             2015-09-03 17:25:40 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>my point was simple... presets in axoloti are not what they are in other synths (hence why i said perhaps bad name)</p>

<p>the presets in axoloti are not about saving the sound as is.... like a VST/synth, to me, they appear, to be designed as a live performance tool ... to change aspects of the sounds not to go to a new sounds entirely.</p>

<p>none of that is to say, we don't need more traditional presets, a whole state save would be useful... but does raise some interesting questions. (e.g. switching presets but allowing voices to complete, where to store presets (sd card is not guaranteed etc))</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/alexk'><b itemprop='author'>alexk</b></a>
           
           <time datetime='2015-09-04T10:53:22Z' itemprop='datePublished'>
             2015-09-04 10:53:22 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Alex, just to clarify - axoloti presets act like groups. So if i assign 50 knobs to preset 1, this is what it will remember (although dont quote me on that number..i think 50 knobs for a preset might be too much, haven't tried it yet!). I can make preset 2 and 3 just 10 knobs to attenuate something slightly. I really like this system - it is more flexible. Might just be a bit more to note as you create preset controls and whatever.<br>You adjust the number of settings per preset in the settings btw - there's some documentation about it and how it affects memory/cpu usage i think.<br>Still haven't player around with this stuff..soooon.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/Tube'><b itemprop='author'>Tube</b></a>
           
           <time datetime='2015-12-29T17:20:23Z' itemprop='datePublished'>
             2015-12-29 17:20:23 UTC
           </time>
        </span>
        <span itemprop='position'>#13</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi , hmmm,  what happens if i want to  develope a standalone synthesizer with   separate MIDI CC controls .<br>The posibillity is there with AXOLOTI . But i can't store  the Presets   in the standalone mode ?!!<br>We have now a tool that allows us to develope  nice synths and effects - but without saving - or - only save the presets on a PC/MAC. The goal should be to get a standalone APP that allows  also to store the presets. <br>Hopefully this will be fixed in future .<br>Best was a preset manager  that is controlled by MIDI so that i can switch the Presets  via MIDI <br>Without saving patches   it is a little...... disappointing.<br>But Ok ,   AXALOTI  is a brand new   System.  And   i think there is a lot of  we can improove </p>

<p> Greets<br> Andre'</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2015-12-29T18:17:51Z' itemprop='datePublished'>
             2015-12-29 18:17:51 UTC
           </time>
        </span>
        <span itemprop='position'>#14</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>There probably are as many 'goals' as users ðŸ˜€<br>Actually the saving should not be too hard, simply a matter of  persisting the parameter table to an sdcard, and of course the reverse to load it again. <br>( this assumes all the parameters are correctly put in the param table, which I fear a couple are not ...  so that's the first step as its needed for other purposes too)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/SynthProject'><b itemprop='author'>SynthProject</b></a>
           
           <time datetime='2016-01-03T12:44:13Z' itemprop='datePublished'>
             2016-01-03 12:44:13 UTC
           </time>
        </span>
        <span itemprop='position'>#15</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ThatÂ´s the point. I build a Standalone Synth, load the default patch from the internal flash, after turned on the Core. <br>Maybe a simple Sawtooth Wave. Now a tweak some parameters to get a cool sound. But then, before a turnoff the Core, i want to save the current state, because i don't wanna start from the scratch.</p>

<p>In my opinion, to save and load presets should be a main goal, if you wanna use the core as standalone unit.</p>

<p>BTW the parameter table must be big, because my Synth has about 107 Parameters to store. <img src="/images/emoji/emoji_one/sunglasses.png?v=0" title=":sunglasses:" class="emoji" alt=":sunglasses:"></p>

<p>All the Best and Happy new Year ....</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:2'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/anon5189335'><b itemprop='author'>anon5189335</b></a>
           
           <time datetime='2016-01-03T13:21:16Z' itemprop='datePublished'>
             2016-01-03 13:21:16 UTC
           </time>
        </span>
        <span itemprop='position'>#16</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="15" data-topic="372"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar_proxy/v2/letter/s/71e660/40.png" class="avatar">SynthProject:</div>
<blockquote><p>Maybe a simple Sawtooth Wave. Now a tweak some parameters to get a cool sound. But then, before a turnoff the Core, i want to save the current state, because i don't wanna start from the scratch.</p></blockquote></aside>

<p>Yes. The current preset system is too complicated and too hard to set up. And if you want to control a lot of parameters and objects there might be some issues with the SDram, especially on larger patches. Large patches cannot really use the presets system very well. </p>

<aside class="quote" data-post="15" data-topic="372"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar_proxy/v2/letter/s/71e660/40.png" class="avatar">SynthProject:</div>
<blockquote><p>In my opinion, to save and load presets should be a main goal, if you wanna use the core as standalone unit.</p></blockquote></aside>

<p>Yes that would be so awesome. Nord g2 have an awesome preset/snapshot system. And I think Axolotis is inspired from G2 preset system. But in G2 you dont have to set a value for each parameters manually in a seperated system like Axoloti. This is what makes Axolotis preset system a bit complicated. On G2 you just push preset 1 adjust parameters as you like, push preset 2 make the sound as you like and so on. It is way simpler and could be used in "Live" mode too <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/Tube'><b itemprop='author'>Tube</b></a>
           
           <time datetime='2016-01-03T13:28:58Z' itemprop='datePublished'>
             2016-01-03 13:28:58 UTC
           </time>
        </span>
        <span itemprop='position'>#17</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yes , i think  store a Preset in a standalone version is a 'must' , equal what you build . It must be easy possible to save  and load  presets .<br> This are only the values of the knops  than must save and load to SD card .  Is it so hard to build a Module for this ??<br> But all in all , i am very happy with AXOLOTI.<br> Specially for me i like to have  the 12 Bit  input ADC'S in audio frequency and also the PWM's  with more than 100HZ .<br> 10..40 KHz  . Than it was usefull to control other electronics  outside from AXILOTI in realtime.<br> Hopefully it comes in an update .<br>Greets<br> Andre'</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/anon5189335'><b itemprop='author'>anon5189335</b></a>
           
           <time datetime='2016-01-03T13:38:22Z' itemprop='datePublished'>
             2016-01-03 13:38:22 UTC
           </time>
        </span>
        <span itemprop='position'>#18</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You can save values to SD card using tables. There are examples of how to do that, but with random numbers. I made a patch, with help form community that creates a bunch of random numbers created with a random object and then saved in a table. This can be recalled over and over again and it works. But I am ot sure how to use it for preset system. Cant figure out how to send the different table values to the different parameters. The random table object is only made for controlling ONE parameter, but with many values. It should work opposite, like many parameters with only ONE value for each(Or actually as many values as you want presets).</p>

<p>Link for saving random values patch:<br><aside class="quote" data-topic="453" data-slug="storing-values-data-in-axoloti-and-ability-to-recall-it" data-post="12"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/alexk/40/45_1.png" class="avatar"><a href="//community.axoloti.com/t/storing-values-data-in-axoloti-and-ability-to-recall-it/453/12">Storing values/data in Axoloti, and ability to recall it</a>
</div>
<blockquote><p>well maybe its the indexer - it works fine (i guess) with a simple string.  I can save and load the table file.    <a href="//community.axoloti.com/uploads/default/original/1X/2913f28cdfda7700e55094b3c9ec9e60e3d3f571.PNG" title="Capture.PNG">[image]</a></p></blockquote></aside></p>

<p>I think one of the Alexs(There are two, I always, mix them up.... Sorry Alex) <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:">  in here have been working on saving parameters without the editor. Not sure how he does it or if he got it working.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-01-03T14:44:24Z' itemprop='datePublished'>
             2016-01-03 14:44:24 UTC
           </time>
        </span>
        <span itemprop='position'>#19</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Guys, I'm not saying its not important... just the only 'paid' axoloti resource is Johannes... so there are lots of goals.<br>...currently there are 92 posts in the improvements for the patcher UI alone, and many more posts around asking for improvements/more performance etc.   </p>

<p>anyway, as I said its 'quite easy' to build this yourself if you are a programmer....<br>you will see in my Axoloti with Ableton Push video, I directly access and change the parameters completely standalone. this is done by accessing ObjectKvps in ui.c ... so that could be persisted using the fatfs libs to the SDCard.<br>(Im not sure we can write to the flash easily, Id have to check that, but I think personally id prefer SDCard)</p>

<p>the 'issue' with this, and why I have not pursued it (apart from also being busy) is some objects are not being stored there correctly, and also the current structure is (imo) too limiting. (it needs to be hierarchical, and have a bit more metadata) ... for me this is a prerequisite to any work in this area (including saving/loading) ,  the parameter code needs a bit of an overhaul which might invalid other work.<br>I've discussed this a bit with Johannes, but not enough to be able to just do it... as its pretty fundamental and could potentially break things, and i cannot put in my own private fork, as this would immediately be broken by other work that may be done in this area.</p>

<p>anyway, perhaps the show of interest, may mean johannes  will turn his attention to this area.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/anon5189335'><b itemprop='author'>anon5189335</b></a>
           
           <time datetime='2016-01-03T15:44:42Z' itemprop='datePublished'>
             2016-01-03 15:44:42 UTC
           </time>
        </span>
        <span itemprop='position'>#20</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Man it was no critique of you or Axoloti or Johannes. We are just discussing options good or less good with what we have <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"> Or what would be nice to have <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"> </p>

<p>My main focus atm is trying to implement midi cc into the ctrl/i object. I tried once but with wrong program editing the javacode for that object. I think I got right program now so Ill try and edit the java code again and see if I have any luck. </p>

<p>Presets are a bit down on my list, since I dont really use it as stand alone a lot yet. When I have more patches finished the presets would become more important <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/johannes'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-01-03T22:09:26Z' itemprop='datePublished'>
             2016-01-03 22:09:26 UTC
           </time>
        </span>
        <span itemprop='position'>#21</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think SDCard is the best medium for storing complete patch parameter snapshots. <br>There are 2 approaches: </p>

<ul>
<li>simply writing/loading the "PExch" table to a file. This would save all parameters in the current patch, including on-parent parameters of subpatches (but excluding not-on-parent parameters of subpatches), in a binary format. It will only load well if the patch is exactly the same. Basically fairly easy to implement, but lacks preset-edit-ability from the GUI, and migrating such files when making changes to a patch. </li>
<li>writing parameter + value lists to a file, perhaps even in a human-readable text format. I think this is what <a class="mention" href="/users/thetechnobear">@thetechnobear</a> has in mind. More robust towards patch changes, but still need to be careful with unexpected behavior when loading an older preset into a changed patch. This approach has less chance to work without interrupting the audio computation, since it involves a lot of string parsing.</li>
</ul>

<p>Both approaches touch an open area in the Axoloti framework. Currently the editor can only write a compiled patch to sdcard, but not open or connect to a patch running from sdcard, and keeping other data on the card (like parameter snapshots) in sync with the editor. The axoloti usb protocol allows uploading a file to sdcard but not downloading from sdcard yet.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:2'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-01-03T22:39:31Z' itemprop='datePublished'>
             2016-01-03 22:39:31 UTC
           </time>
        </span>
        <span itemprop='position'>#22</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>actually I think both approaches are possible...</p>

<p>the data could be stored in a binary blob, along with the patch version... this would allow for quick loading (no parsing) when the patch is the correct version. (the 'usual' case) , and additionally a more robust format (where parameters ids etc can change) which is used for migration.<br>the preset file involved would be pretty smalls, so 'duplicating the information' would not be too problematic.</p>

<p>of course, there is always a potential of audio interference, or even patch anomalies as the presets are saved and loaded due to a number of factors including file io... but I suspect these can be kept to 'reasonable' levels.</p>

<p>there are also lots of other approaches which can trade off memory, file io, cpu load etc... and which take into account when presets are loaded/saved ... e.g. when its performance critical or not.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/alexk'><b itemprop='author'>alexk</b></a>
           
           <time datetime='2016-01-28T17:06:21Z' itemprop='datePublished'>
             2016-01-28 17:06:21 UTC
           </time>
        </span>
        <span itemprop='position'>#23</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ughh im so busy with other stuff but cant wait to return to this question. I don't want this crap from Namm 2016..i want my own synth with presets <img src="/images/emoji/emoji_one/stuck_out_tongue.png?v=0" title=":stuck_out_tongue:" class="emoji" alt=":stuck_out_tongue:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/DrJustice'><b itemprop='author'>DrJustice</b></a>
           
           <time datetime='2016-04-07T19:55:31Z' itemprop='datePublished'>
             2016-04-07 19:55:31 UTC
           </time>
        </span>
        <span itemprop='position'>#24</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>^ You may want to have a look <a href="//community.axoloti.com/t/drjustice-contributions/1459/4">here</a>. </p>

<p>It's an implementation of the first method suggested by Johannes in his posting above. It seems to work fairly well, but adding, removing or changing modules in a patch may render the presets unusable. I.e. only use with finished patches. </p>

<p>If xpatch.cpp had an array of pointers to all the patch root structures, a full global store/recall would be possible. Could this be added? Or perhaps they can be gotten to from a module already, and I'm just missing it?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/alexk'><b itemprop='author'>alexk</b></a>
           
           <time datetime='2016-04-10T11:21:43Z' itemprop='datePublished'>
             2016-04-10 11:21:43 UTC
           </time>
        </span>
        <span itemprop='position'>#25</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>wow that looks very interesting. Will study it a bit more, but if you have time could you tell me if this needs a specific firmware? Too caught up with my own code right now.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/DrJustice'><b itemprop='author'>DrJustice</b></a>
           
           <time datetime='2016-04-10T11:39:16Z' itemprop='datePublished'>
             2016-04-10 11:39:16 UTC
           </time>
        </span>
        <span itemprop='position'>#26</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I've tested the preset manager with 1.0.8 and 1.0.9 and those are fine.</p>

<p>It depends on a structure in the firmware, which could theoretically change and break at some version, but I think that bit is fairly stable for now. And <em>if/when</em> it changes [1] it might be to the advantage of the preset manager, which I plan to keep up to date.</p>

<p>[1] I'm advocating a tiny change: a table of pointers to the root struct of every sub patch in xpatch.cpp, to allow a global parameter load/save.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-04-10T14:12:09Z' itemprop='datePublished'>
             2016-04-10 14:12:09 UTC
           </time>
        </span>
        <span itemprop='position'>#27</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="/users/drjustice">@DrJustice</a>  just been taking a look at your preset manager (only code, not played with it yet  ) </p>

<p>for discussion purposes i.e. its not criticism, its just great to have someone playing in this area, so can discuss these things. ... also I'm interested if my understanding is correct <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"> </p>

<p>I notice your using PExch, Im assuming this is fully populated on the patch (I've not checked, but explains how your PM works) <br>as such, I think this is not really saving presets, but saving a full set of current parameters values. presets are stored value in 'p' (i know not best name!)   and are a subset of the parameters. so 'theoretically' it should only save those, and also I think it should populate 'p', since otherwise if a user does a recall of a preset later, they will not pick up the values that they earlier loaded.<br>I raised, this as potentially, there is going to be confusion, between the interplay of presetmanger and recall/storing of presets  ... and frankly, I think presets already confuse many (including me <img src="/images/emoji/emoji_one/wink.png?v=0" title=":wink:" class="emoji" alt=":wink:"> ) </p>

<p>also... and this may not matter... Id assume PExch changes as your patch changes...  so does any patch change invalidate the preset stored?</p>

<p>of course my understanding may be incorrect, as I took a different approach on Push (as I wasn't storing the data), I used the global object parameter table (ObjectKvpRoot) ,  and just presented this to the user.<br>however, this also has 'issues' as its only the underlying parameters, so it doesn't have any knowledge of a parameter being on a 'subpatch', no issue for storage, but means from a UI perspective, you cannot show parameters that have been 'placed on the parent'<br>of course, the advantage for display, was also it has details about max/min , which aren't in PExch... unfortunately I dont think there is a relationship between PExch and the main object table (as far as i remember when playing with this) </p>

<p>here kind of illustrates where the two worlds divide:</p>

<pre><code> parent-&gt;PExch[PARAM_INDEX_square__3_pitch].pfunction = pfun_signed_clamp;
 SetKVP_IPVP(&amp;KVP_instancesquare__3_pitch,ObjectKvpRoot, "square_3" ,&amp;parent-&gt;PExch[PARAM_INDEX_square__3_pitch], -1&lt;&lt;27, 1&lt;&lt;27);
 KVP_RegisterObject(&amp;KVP_instancesquare__3_pitch);</code></pre>

<p>thats this shows, is the global table knows about the parameters and all its attributes but only knows at PExch instance, it has no knowledge of where it comes from e.g. parent/Pexch idx , similarly parent-&gt;pExch has no understanding of the actually parameter that is created in the global parameter table.</p>

<p>anyway, this is a bit fyi and discussion only... alot of this matter only when building controllers which want to expose the parameters in a sensible way to the user. but I think some of it is 'interesting' to storing patch state.</p>

<p>note: the global parameter table has the object name, which is what I kind of referred to above, this name only changes if the user changes object names, rather than patch structure.<br>I fear PExch and the index in ObjectKvpRoot are both based on the order things are built in a patch, which in turn is position on the patch canvas vs other objects. (though Ive not verified this) </p>

<p>anyway, perhaps this should be a separate topic, but i thought Id start here... as may not interest you at all <img src="/images/emoji/emoji_one/wink.png?v=0" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/DrJustice'><b itemprop='author'>DrJustice</b></a>
           
           <time datetime='2016-04-10T15:59:46Z' itemprop='datePublished'>
             2016-04-10 15:59:46 UTC
           </time>
        </span>
        <span itemprop='position'>#28</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="27" data-topic="372"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>I notice your using PExch, Im assuming this is fully populated on the patch (I've not checked, but explains how your PM works) as such, I think this is not really saving presets, but saving a full set of current parameters values. presets are stored value in 'p' (i know not best name!)   and are a subset of the parameters. so 'theoretically' it should only save those, and also I think</p></blockquote></aside>

<p>Ah yes... that's an area open to confusion. These 'presets' are not the same as the original Axoloti presets (please add me to the ranks who gets confused by that - I'm used to the conventional meaning of 'preset' in synths). And since the original Axoloti presets aren't parameters as such, they don't get saved. PExch is fully populated AFAICS, and tests confirm this.</p>

<p>So, this thing should probably have another name, but what should that be? For what it's worth I think 99% of users will expects 'presets' to be a total store/recall of all parameters. So we have patches (which in fixed architecture synths are also called presets), original Axoloti presets, and my attempt at 'conventional' presets.</p>

<p><aside class="quote"><blockquote><p>also... and this may not matter... Id assume PExch changes as your patch changes... so does any patch change invalidate the preset stored?</p></blockquote></aside></p>

<p>I assume the above explanation, makes this half redundant, but: Changing the parameters is fine, that's what the preset manager is meant to capture. Adding/removing/changing modules in a patch will invalidate the presets previously stored for that patch. Changing the placement of modules reorders PExch, so that should be avoided too - I strongly suggest that Axoloti implements an iteration order based on the topology of the patch, not the placement of graphical placements  (you can have an algorithm from me if you wish). Therefore this PM module is best used for finalized patches, but even so I use it for patches I'm working on just to switch parameter sets (aka recall presets...) during testing. It sure beats having no conventional preset storage at all.</p>

<p><aside class="quote"><blockquote><p>...the global object parameter table (ObjectKvpRoot)</p></blockquote></aside></p>

<p>OK - that's something I will look into. If this can help me read and write all parameter values in all sub patches, I'll use that. Otherwise, just an array of pointers to the root structures of each patch would allow total store/recall of all patch parameters.</p>

<p>The issue with presets getting invalidated by patch structure changes could be avoided by having access to patch/module/parameter metadata, such that named parameters could be stored for named modules in a named (sub)patch. That metadata would eat RAM though - best placed in the SDRAM rater that the SRAM then.</p>

<p>In any case, I believe that (conventional) preset save/load is a very important feature that users will expect, so let's find a reasonable implementation and just do it!  <img src="/images/emoji/emoji_one/smiley.png?v=0" title=":smiley:" class="emoji" alt=":smiley:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:2'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-04-10T16:35:08Z' itemprop='datePublished'>
             2016-04-10 16:35:08 UTC
           </time>
        </span>
        <span itemprop='position'>#29</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>yeah the presets in axoloti are a very nice feature, but perhaps need a better UI metaphor and tidying up...<br>they have many advantages, but I grant they are not how we think of presets.</p>

<aside class="quote" data-post="28" data-topic="372"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/drjustice/40/1430_1.png" class="avatar">DrJustice:</div>
<blockquote><p>So, this thing should probably have another name, but what should that be?</p></blockquote></aside>

<p>I agree, but when I was writing this, I couldn't think of anything either.</p>

<p>my fear, is this will get users asking for the current presets to be a snapshot (as your PM is) , which we have had already, but I think thats wrong (its been discussed many times here already) , as the current system whilst perhaps not perfect/familar is very useful.</p>

<p>perhaps snapshot manager? is it Reaktor that calls these things snapshots?</p>

<aside class="quote" data-post="28" data-topic="372"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/drjustice/40/1430_1.png" class="avatar">DrJustice:</div>
<blockquote><p>OK - that's something I will look into. If this can help me read and write all parameter values in all sub patches, I'll use that.</p></blockquote></aside>

<p>yes it does that, as it stores all parameters. <br>(Ok, Ive seen a couple of objects that do not appear to be registering the the parameters properly... I can't remember which)</p>

<aside class="quote" data-post="28" data-topic="372"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/drjustice/40/1430_1.png" class="avatar">DrJustice:</div>
<blockquote><p>The issue with presets getting invalidated by patch structure changes could be avoided by having access to patch/module/parameter metadata, such that named parameters could be stored for named modules in a named (sub)patch. That metadata would eat RAM though - best placed in the SDRAM rater that the SRAM then.</p></blockquote></aside>

<p>again the above table has a name, which makes it less fragile... and I believe this name has to be unique, though its worth checking this.  if you look at my Push code, from memory i display it, with the parameter name and the object name its within (IIRC) ... so hopefully forming a FQN.</p>

<p>However... I will repeat, this does all need improving... but making it so its backwards compatible, and adding the extra meta data is no small task (also has to be kept small, as its part of the runtime)<br>... there is also another possibility, which is to keep this metadata separate, but along side (an in step with) the patch binary... such that the axoloti core doesn't have to load it, but its available for other processes to decode , think, like debug symbols.  this might be better, since potentially there is alot of useful meta data, that only editors/controllers need and that for runtime axoloti does not need.<br>(axoloti runtime, could deal merely with a single index, doesnt care about the rest) </p>

<p>as I said, I suspect when Axoloti Control is being finalised, it will also require this area to be improved, as it will face the same issues when wanting to display data to the end user in a logical fashion.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement'>
      <span itemprop='url'><b><a rel="next" itemprop="name" href="/t/newbie-questions-about-patch-loading-preset-saving-polyphony-midi-channels-of-standalone-patches/372?page=2">next page â†’</a></b></span>
  </div>




    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='/'>Home</a>
        <a href="/categories">Categories</a>
        <a href="/guidelines">FAQ/Guidelines</a>
        <a href="/tos">Terms of Service</a>
        <a href="/privacy">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="http://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
      
  </body>
</html>
