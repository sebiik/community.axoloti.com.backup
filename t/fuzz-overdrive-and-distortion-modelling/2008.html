<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/fuzz-overdrive-and-distortion-modelling/2008 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:29:36 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Fuzz, overdrive and distortion modelling - Patching - Axoloti Community</title>
    <meta name="description" content="Generally speaking analog circuits can be pretty well simulated with a circuit simulator, like the freeware ltspice. I mean, I don&amp;#39;t think there is black magic behavior in transistors, tubes or transformers that can&amp;#39;t be&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="2008.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Fuzz, overdrive and distortion modelling&#39;" href="2008.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/fuzz-overdrive-and-distortion-modelling/2008" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/fuzz-overdrive-and-distortion-modelling/2008" />
<meta property="og:title" content="Fuzz, overdrive and distortion modelling" />
<meta name="twitter:title" content="Fuzz, overdrive and distortion modelling" />
<meta property="og:description" content="Generally speaking analog circuits can be pretty well simulated with a circuit simulator, like the freeware ltspice. I mean, I don&#39;t think there is black magic behavior in transistors, tubes or transformers that can&#39;t be expressed in a circuit-level simulation model.  I don&#39;t have a &quot;golden&quot;object or patch available, but here I&#39;ll try to break down (guitar) distortion into parts that may or may not be a relevant part of its desirable character.   waveshaping  A common approach to modeling distor..." />
<meta name="twitter:description" content="Generally speaking analog circuits can be pretty well simulated with a circuit simulator, like the freeware ltspice. I mean, I don&#39;t think there is black magic behavior in transistors, tubes or transformers that can&#39;t be expressed in a circuit-level simulation model.  I don&#39;t have a &quot;golden&quot;object or patch available, but here I&#39;ll try to break down (guitar) distortion into parts that may or may not be a relevant part of its desirable character.   waveshaping  A common approach to modeling distor..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="7 ❤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="2008.html">Fuzz, overdrive and distortion modelling</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/patching.html" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-07-18T20:54:24Z' itemprop='datePublished'>
             2016-07-18 20:54:24 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Generally speaking analog circuits can be pretty well simulated with a circuit simulator, like the freeware <a href="http://www.linear.com/solutions/ltspice" rel="nofollow">ltspice</a>. I mean, I don't think there is black magic behavior in transistors, tubes or transformers that can't be expressed in a circuit-level simulation model. <br>I don't have a "golden"object or patch available, but here I'll try to break down (guitar) distortion into parts that may or may not be a relevant part of its desirable character.</p>

<h3>waveshaping</h3>

<p>A common approach to modeling distortion is simulating the amplitude distortion, like a waveshaper. A "naive" sample-by-sample digital implementation a waveshaper often suffers from aliasing artefacts. Combating aliases is an important requirement when modeling high gain distortion. Current objects that have some sort of strategy to reduce aliasing are "dist/inf", "dist/rectifier", "dist/rectifier full" and "dist/hardclip", and the newer "jt/dist/class a".<br><a href="https://www.youtube.com/watch?v=zqDuADvNApc" rel="nofollow">This</a> video shows quite some fuzzbox waveforms on an oscilloscope, I mainly observe waveshaping behavior, and it seems pretty close to hard clipping, not much evidence of a soft transition between clipped and unclipped or frequency-dependent behavior. </p>

<h3>operating point</h3>

<p>But remarkable is that the clip levels seem to shift with the amplitude, at <a href="https://youtu.be/zqDuADvNApc?t=211" rel="nofollow">this</a> point, you can see that over 180 degrees of a sinewave cycle is clipped away, meaning that the positive side clip threshold moved to a negative level. So the operating point of the waveshaping is dynamic, if the positive side clip level had been static at a negative level, it would gate small signals.<br>Still waveshaping is not always a sufficiently complete model.</p>

<h3>filtered waveshaping</h3>

<p>Looking at the schematic of a tubescreamer, there are not just 2 clipping diodes in the feedback path of the opamp, there is also a RC network to the virtual ground, adding some filtering into the distortion. </p>

<h3>subsonics</h3>

<p>Also some gentle high-pass filtering before distorting is relevant, I have noticed guitar pickups can produce substantial subsonic output by just pushing the strings near the pickup. Without filtering, this would change the operating point of the distortion.</p>

<h3>sag</h3>

<p>In a guitar tube power-amp, producing loud output may "starve" the powersupply, causing the supply voltage to drop when you hit the strings, called "sag". This changes the operating point of the whole circuit, adding a sort of compression. I have also heard anecdotes of guitar players preferring the sound of a nearly empty battery in a tubescreamer distortion pedal. Something similar can happen there. <a href="https://www.youtube.com/watch?v=z8bjPYIa4xY" rel="nofollow">This video</a> demonstrates a potentiometer between battery and a tubescreamer to control the sag. Remarkable is the production of <strong>sub</strong>harmonics, while a waveshaper can only add overtones. I think (subtle) addition of subharmonics are desirable. And I imagine, when a tube amplifier power supply is sagging, it also increases the amount of mains hum. But I haven't heard of anyone using a mains frequency converter to tune the hum to be in harmony, or bands tuning their instruments consciously to mains (requires convincing the other band members...). For 50Hz mains (Europe), hum is between G and G#, in the US, 60Hz, between A# and B. I also haven't seen any guitar tuner that offers mains frequencies as an alternate tuning reference <img src="../../images/emoji/emoji_one/slight_smile5e1f.png?v=2" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>

<h3>memory</h3>

<p>Transformers do not just simply saturate, their response also has a sort of memory called hysteresis.</p>

<h3>feedback</h3>

<p>Typical guitar tube power-amps use corrective feedback, from after the transformer to the input of the poweramp, reducing gain but increasing its linearity. But as this happens across all the effects listed above, assuming its effect is only linearizing is probably an oversimplification.</p>

<h3>analysis</h3>

<p>Not every effect necessarily has a substantial or desirable contribution to the final sound, not everything needs to be modeled to obtain a satisfactory model. A good synthetic test-waveform to play and record through "test" pedals and amps that reveal specific properties should be designed. For instance, a pulse is invariant to waveshaping, and will reveal the frequency response of the system after the distortion. And low-amplitude pulse mixed to a low-frequency sine wave can reveal the small signal impulse response at different operating points by varying the phase of the pulse and the sine wave. Then, the recorded wave could be analyzed with Octave or Scilab. Is anyone aware of such an (open source) effort?</p>

<p>But even without further scientific analysis I hope this breakdown could be inspiring in patching up distortion techniques. And if it sounds good, it is good.</p>

<p>Comments welcome...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:7'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fuzz, overdrive and distortion modelling'>
      <hr>
            <a href="../jt-contributions/1967/15.html">JT contributions</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Knutt.html'><b itemprop='author'>Knutt</b></a>
           
           <time datetime='2016-07-21T17:25:48Z' itemprop='datePublished'>
             2016-07-21 17:25:48 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi Johannes !</p>

<p>I heard that the Tanh function is heavily used for "smooth" digital distortion. It's supposed to be a modelling of tube behavior or a good start i guess.</p>

<p>We can decompose the function with exponential but i don't know how to do it without an open math/div function <img src="../../images/emoji/emoji_one/confused5e1f.png?v=2" title=":confused:" class="emoji" alt=":confused:"> </p>

<p>Modified tanh function looks tastier. </p>

<p><a href="http://folk.ntnu.no/oyvinbra/gdsp/Lesson4Modtanh.html" class="onebox" target="_blank" rel="nofollow">http://folk.ntnu.no/oyvinbra/gdsp/Lesson4Modtanh.html</a></p>

<p>On this upgraded equation, it should be really interesting to implement an "hysteresis" behavior on a &amp; b like :<br>Input or Output informations at n finetune a &amp; b for n+1 and so on. not based on real circuits however <img src="../../images/emoji/emoji_one/blush5e1f.png?v=2" title=":blush:" class="emoji" alt=":blush:"></p>

<p>Arctan or any sloppish static function is commonly used for VST/VA distortion but Tanh seems easier to implementent</p>

<p>I'm not familiar with objects coding so i'm a bit blocked but maybe someone </p>

<p>From VOS's blog:  <a href="https://varietyofsound.wordpress.com/2010/12/04/towards-stateful-saturation/" rel="nofollow">https://varietyofsound.wordpress.com/2010/12/04/towards-stateful-saturation/</a></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Fuzz, overdrive and distortion modelling'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Sputnki.html'><b itemprop='author'>Sputnki</b></a>
           
           <time datetime='2016-07-21T20:51:17Z' itemprop='datePublished'>
             2016-07-21 20:51:17 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You could approximate tanh with a taylor polynomial expansion, maybe you could break the function in several ones to get a better result (for example for x&lt;-1 and x&gt;1 and for<code>-1  &lt; x &lt; 1</code> )</p>

<p>As for the hysteresis thing.. that might be trickier to implement, especially if you don't want some hard hysteresis like schmitt trigger but something more like the ferromagnetic one. Maybe you could switch between different curves whenever the signal goes over some value, but that won't be realistic since ferromagnetic hysteresis cycle size depend on how much the material is magnetized (therefore you can have infinitely many curves depending on the signal)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fuzz, overdrive and distortion modelling'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-08-28T13:53:15Z' itemprop='datePublished'>
             2016-08-28 13:53:15 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>A post was split to a new topic: <a href="../converting-a-fuzz-model-from-spice/2164.html">Converting a fuzz model from Spice?</a></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fuzz, overdrive and distortion modelling'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/halford88.html'><b itemprop='author'>halford88</b></a>
           
           <time datetime='2016-08-29T17:38:34Z' itemprop='datePublished'>
             2016-08-29 17:38:34 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm not the best with electronics, but about a yea ago I started by trying to build some fuzz boxes. The pro-co Rat is my favorite, and <a href="http://www.electrosmash.com/proco-rat" rel="nofollow">this circuit analysis</a> was a great resource. </p>

<p>The Tube Screamer and Rat Schematics are similar in a lot of ways, but they both implement pre-filter resistor network to avoid ground pops, and filter out some un-wanted frequencies. Pre-Filtering seems to be a common practice in stomp boxes, and is easily achieved with the current axo build.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fuzz, overdrive and distortion modelling'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/MrBim.html'><b itemprop='author'>MrBim</b></a>
           
           <time datetime='2016-08-29T18:53:50Z' itemprop='datePublished'>
             2016-08-29 18:53:50 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I am also not an electronics wiz but my understanding was the pre filtering is to remove the pop caused by the foot switch. <br>I could well be wrong tho.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fuzz, overdrive and distortion modelling'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/fuzz-overdrive-and-distortion-modelling/2008 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:29:38 GMT -->
</html>
