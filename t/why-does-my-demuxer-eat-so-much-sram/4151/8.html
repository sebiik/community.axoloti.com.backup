<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/why-does-my-demuxer-eat-so-much-sram/4151/8 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 04:28:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Why does my demuxer eat so much SRAM? - Patching - Axoloti Community</title>
    <meta name="description" content="I have eight hardware controllers (pots) that I want to demux so that, say, on setting 1 they controll two ADSRs, on setting 2 they control the effects, on setting 3 they control all things filter etc. For that I wrote t&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="../4151.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Why does my demuxer eat so much SRAM?&#39;" href="../4151-2.html" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/user_avatar/community.axoloti.com/jaffasplaffa/200/5808_1.png" />
<meta property="og:image" content="http://community.axoloti.com/user_avatar/community.axoloti.com/jaffasplaffa/200/5808_1.png" />
<meta property="og:url" content="http://community.axoloti.com/t/why-does-my-demuxer-eat-so-much-sram/4151/8" />
<meta name="twitter:url" content="http://community.axoloti.com/t/why-does-my-demuxer-eat-so-much-sram/4151/8" />
<meta property="og:title" content="Why does my demuxer eat so much SRAM?" />
<meta name="twitter:title" content="Why does my demuxer eat so much SRAM?" />
<meta property="og:description" content="Yeah it seems like a lot of memory for some switches, I agree.      Ah yes, I actually did the same in my own patch, just forgot about it.   You also set presets to 0 in the subpatches so that cant even be tweaked to gain more SRAM overhead. Hmm. Sorry dunno what else to suggest here.   I did something similar for The Modular thing controller board a while ago. I dont know if its more effective than your version, but maybe you can get some inspiration to try another approach:" />
<meta name="twitter:description" content="Yeah it seems like a lot of memory for some switches, I agree.      Ah yes, I actually did the same in my own patch, just forgot about it.   You also set presets to 0 in the subpatches so that cant even be tweaked to gain more SRAM overhead. Hmm. Sorry dunno what else to suggest here.   I did something similar for The Modular thing controller board a while ago. I dont know if its more effective than your version, but maybe you can get some inspiration to try another approach:" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html"><img src="../../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="../4151.html">Why does my demuxer eat so much SRAM?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../../c/patching.html" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Captain_Burek.html'><b itemprop='author'>Captain_Burek</b></a>
           
           <time datetime='2018-01-27T12:14:36Z' itemprop='datePublished'>
             2018-01-27 12:14:36 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I have eight hardware controllers (pots) that I want to demux so that, say, on setting 1 they controll two ADSRs, on setting 2 they control the effects, on setting 3 they control all things filter etc. For that I wrote the attached subpatch (which I though was pretty nifty <img src="../../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:">), which works fine. But obviously I need eight of those in my main patch, yet, once I put several of them in (how many depends on the main patch), I get "region `SRAM' overflowed".<br>Not being a programmer, I wonder what in that patch could be so taxing, and, naturally, how I can do what I want, instead.</p>

<p><a class="attachment" href="../../../uploads/default/original/2X/5/575793473f79d363c03ab7aaf4caa146c70be581.html">control.demux8.axs</a> (5.5 KB)<br>and two slightly modified objects used in that patch<br><a class="attachment" href="../../../uploads/default/original/2X/f/f871006a1f5537af54382230308e384e8e96e68a.html">demux 9.axo</a> (4.5 KB)<br><a class="attachment" href="../../../uploads/default/original/2X/a/a558c0d2504939f8a77f03d0b92134009837f910.html">mux 9.axo</a> (1.5 KB)</p>

<p>Oh, and just for completeness a quick main patch to test this in:<br><a class="attachment" href="../../../uploads/default/original/2X/8/8c5c797ae62320120d40c9d2daf91e32005149ec.html">demuxembedder.axp</a> (2.3 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Why does my demuxer eat so much SRAM?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-01-27T14:05:20Z' itemprop='datePublished'>
             2018-01-27 14:05:20 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey <a class="mention" href="../../../u/captain_burek-2.html">@Captain_Burek</a></p>

<p>Just looked at the patch. I think it can be simpler. But need to make sure I get in correctly:</p>

<p>You simply just want a demuxer, where you can select which output the input is routed to?</p>

<p>Do you have a 9th parameter to use for "page" changing? If so, is that a knob too?</p>

<p>What is the purpose of the second muxer on the right side?</p>

<p>Also wondering why the cables in the demuxer is routed back into itself? </p>

<p>(This is not to critique anything, just making sure I understand what you want to do) <img src="../../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Why does my demuxer eat so much SRAM?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2018-01-27T15:25:14Z' itemprop='datePublished'>
             2018-01-27 15:25:14 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I can create loads of them without errors<br>(btw: if you adding dials and ui, those do have an overhead) </p>

<p>PS. when posting on the forums its a better idea to embedded objects and subpatches, <br>its a right pain having to copy people objects into the objects folders  = less people will try it <img src="../../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"> </p>

<p>also id recommend you post an example where the error already occurs.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Why does my demuxer eat so much SRAM?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Captain_Burek.html'><b itemprop='author'>Captain_Burek</b></a>
           
           <time datetime='2018-01-27T19:24:44Z' itemprop='datePublished'>
             2018-01-27 19:24:44 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi jaffasplaffa &amp; thetechnobear</p>

<p>thanks for the quick reply. So below is (my slight adaption of) TSG's Buzz Synth, with the demuxed copied in.  Note it's set to 1 voice polyphony, so without the demuxer its runs at 51%. The sixth copy of the demuxer pushes it over the edge for me. Is this what you mean about embedding, technobear?</p>

<p><span class="mention">@jaffa</span>: the extra stuff is there so that i) the outlets keep their values when not selected, and ii) the outlets don't jump when selected, but only latch on when the pots cross the outlet's current value; so if you can simplify it while keeping those features, i'd be real curious &amp; grateful (as I said, i'm a newb)<a class="attachment" href="../../../uploads/default/original/2X/3/3092e73c8019aa93a800f95a86dcb07d42060d3f.html">Buzz - MPE Synth.axp</a> (106.8 KB)<br>.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='Why does my demuxer eat so much SRAM?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Captain_Burek.html'><b itemprop='author'>Captain_Burek</b></a>
           
           <time datetime='2018-01-27T19:31:32Z' itemprop='datePublished'>
             2018-01-27 19:31:32 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><span class="mention">@jaffa</span>: The ninth output (i.e. o0) is just a dead end. When you switch to, say, 5 (ie.6) , the demuxer goes temporarily to o0 until the input actually hits the previous value of outlet_5 (thats what the second muxer is for, so you get to compare the newly selected outlet to the current input; that one switches immediately on inlet i's change), then switches the input muxer to 5. Does that make sense?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Why does my demuxer eat so much SRAM?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2018-01-27T22:18:35Z' itemprop='datePublished'>
             2018-01-27 22:18:35 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="4" data-topic="4151"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/c/90db22/40.html" class="avatar">Captain_Burek:</div>
<blockquote><p>Is this what you mean about embedding, technobear?</p></blockquote></aside>

<p>no , you are able to embed both subpatches and objects into a single patch.<br>click on the object/patch and the right click, and you will see an embed option.</p>

<p>what do you mean by runs @ 51% , cpu usage has no bearing on memory usage (e.g. sram)</p>

<p>i need to see a simple example where you can demonstrate this subpatch/objects are using a lot of sram, so far, it doesn't look like it to me...but hard to say without at example.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Why does my demuxer eat so much SRAM?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Captain_Burek.html'><b itemprop='author'>Captain_Burek</b></a>
           
           <time datetime='2018-01-28T11:53:48Z' itemprop='datePublished'>
             2018-01-28 11:53:48 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <blockquote><p>no , you are able to embed both subpatches and objects into a single patch.<br>click on the object/patch and the right click, and you will see an embed option.</p></blockquote>

<p>re embedding: that's what I thought I did. (If I click on "embedd as patch/object" on my demuxer objects (not the subpatch!), the objects end up with an "edit" button, no "update", but I suppose that's normal for objects)</p>

<p>Anyway, I played around some more and found that I can run exactly 51 demuxers in an otherwise empty patch, but not 52. Each added demuxer adds about 580bytes to the overflows. By my calculations that means that one instance uses up around 580 bytes, and the total sram is about 30K, which in turn means that any patch that won't tolerate even eight of them uses over 25K in sram already.</p>

<p>Not knowing the first thing about what needs sram and what doesn't,  I suppose I will just take that to be a normal sram usage and look for things like dials and displays to eliminate in the main patch.</p>

<p>Sorry if that was a wild goose chase, I'm learning...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Why does my demuxer eat so much SRAM?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-01-28T22:10:47Z' itemprop='datePublished'>
             2018-01-28 22:10:47 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yeah it seems like a lot of memory for some switches, I agree. </p>

<aside class="quote" data-post="4" data-topic="4151"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/c/90db22/40.html" class="avatar">Captain_Burek:</div>
<blockquote><p><span class="mention">@jaffa</span>: the extra stuff is there so that i) the outlets keep their values when not selected, and ii) the outlets don't jump when selected, but only latch on when the pots cross the outlet's current value; so if you can simplify it while keeping those features, i'd be real curious &amp; grateful (as I said, i'm a newb)Buzz - MPE Synth.axp (106.8 KB)</p></blockquote></aside>

<p>Ah yes, I actually did the same in my own patch, just forgot about it.</p>

<p>You also set presets to 0 in the subpatches so that cant even be tweaked to gain more SRAM overhead. Hmm. Sorry dunno what else to suggest here.</p>

<p>I did something similar for The Modular thing controller board a while ago. I dont know if its more effective than your version, but maybe you can get some inspiration to try another approach:</p>

<aside class="quote" data-topic="1921" data-slug="musicthingmodular-controller-subpatch" data-post="9"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/j/7ea924/40.html" class="avatar"><a href="../../musicthingmodular-controller-subpatch-axo-control/1921/9.html" rel="nofollow noopener">MusicThingModular Controller subpatch</a>
</div>
<blockquote><p>Try this one out. I have made a test version for the 6 knobs. You use the first button on the right to choose between layer 1 &amp; 2. It is pretty sijple to add the last stuff from here. Or else you can also check Tom Whitwells patch on Github. It shows how to set up everything. You need to use <span class="mention">@hellcores</span> hookmod object for this patch to work.  There are 2 versions. One that uses the cv from the gpio directly and one that converts the gpios to midi cc. Layer 1 is midi cc 1-6 and layer 2 is midi ccâ€¦</p></blockquote></aside>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Why does my demuxer eat so much SRAM?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Captain_Burek.html'><b itemprop='author'>Captain_Burek</b></a>
           
           <time datetime='2018-01-30T11:27:50Z' itemprop='datePublished'>
             2018-01-30 11:27:50 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Just in case anyone's interested, this is my final version, a little simpler still (once i figured out the whole left-to-right thing):<br><a class="attachment" href="../../../uploads/default/original/2X/1/1922844cfc0fc1e497c7122f5ca4ebc3718b6e33.html">8way_control_demux.axo</a> (22.2 KB)<br>I suspect it doesn't get much simpler/smaller than that, but then apparently the sram footprint wasn't that unusually big  to begin with. So I am considering this issue closed.</p>

<p>I also made a version of this with 8 strings included, which is useful if you have a display. I am using it with tiar's OLED display object.<br><a class="attachment" href="../../../uploads/default/original/2X/6/6f8c09a534502722d3928beb9e5a2afe76f8b6b7.html">8way_demux_w_string_outlet.axo</a> (22.9 KB)</p>

<p>Since I also want to add the actual values for the params on the display, I modified tiar's f_to_c object. This plays well with the demuxer with strings:<br><a class="attachment" href="../../../uploads/default/original/2X/7/71cd90363b0b2494898638bbcd11e819444ff46c.html">combinestringwfvalue4display.axo</a> (1.3 KB)</p>

<p>I opted for only 2 digits without decimal points, so the name can be 7 characters long. In fact, it <em>has</em> to be 7 chars long, otherwise the value disappears to god knows where, so add spaces as you see fit (longer doesn't hurt).  I can't figure out for the life of me is how to make a short string longer in the object by adding spaces. Suggestions welcome.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Why does my demuxer eat so much SRAM?'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../../index.html'>Home</a>
        <a href="../../../categories.html">Categories</a>
        <a href="../../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../../tos.html">Terms of Service</a>
        <a href="../../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/why-does-my-demuxer-eat-so-much-sram/4151/8 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 04:28:09 GMT -->
</html>
