<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/preset-manager-with-axocontrol/2441 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 17:12:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Preset Manager with axocontrol - Patching - Axoloti Community</title>
    <meta name="description" content="I&amp;#39;m pretty fresh to the axoloti .. so now I started to put together a simple project with the axocontrol using 7 presets and have the 3 LED display them for me.  

I have one question and one problem.  first the problem: &amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="2441.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Preset Manager with axocontrol&#39;" href="2441.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/preset-manager-with-axocontrol/2441" />
<meta name="twitter:url" content="http://community.axoloti.com/t/preset-manager-with-axocontrol/2441" />
<meta property="og:title" content="Preset Manager with axocontrol" />
<meta name="twitter:title" content="Preset Manager with axocontrol" />
<meta property="og:description" content="I&#39;m pretty fresh to the axoloti .. so now I started to put together a simple project with the axocontrol using 7 presets and have the 3 LED display them for me.    I have one question and one problem.  first the problem: there is an audio Glitch when executing a preset load/save, is there a work around ? now the question: I&#39;d love to glide from one preset to the next, with a adjustable lag time does anybody have an idea how to solve that ?   oh yes and the patch is not yet finished...   AXOCONTR..." />
<meta name="twitter:description" content="I&#39;m pretty fresh to the axoloti .. so now I started to put together a simple project with the axocontrol using 7 presets and have the 3 LED display them for me.    I have one question and one problem.  first the problem: there is an audio Glitch when executing a preset load/save, is there a work around ? now the question: I&#39;d love to glide from one preset to the next, with a adjustable lag time does anybody have an idea how to solve that ?   oh yes and the patch is not yet finished...   AXOCONTR..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="9 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="5 â¤" />

      <link rel="next" href="24414658.html?page=2">

  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="2441.html">Preset Manager with axocontrol</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/patching.html" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Grandprixdamour.html'><b itemprop='author'>Grandprixdamour</b></a>
           
           <time datetime='2016-10-23T21:02:02Z' itemprop='datePublished'>
             2016-10-23 21:02:02 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm pretty fresh to the axoloti .. so now I started to put together a simple project with the axocontrol using 7 presets and have the 3 LED display them for me. </p>

<p>I have one question and one problem. <br>first the problem:<br>there is an audio Glitch when executing a preset load/save, is there a work around ?<br>now the question:<br>I'd love to glide from one preset to the next, with a adjustable lag time does anybody have an idea how to solve that ?</p>

<p>oh yes and the patch is not yet finished...</p>

<p><a class="attachment" href="../../uploads/default/original/2X/8/AXOCONTROLtest.axp">AXOCONTROLtest.axp</a> (17.2 KB)</p>

<p>thanks Nicholas</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Grandprixdamour.html'><b itemprop='author'>Grandprixdamour</b></a>
           
           <time datetime='2016-10-24T22:02:55Z' itemprop='datePublished'>
             2016-10-24 22:02:55 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>nobody has anything to say ?<br><img src="../../images/emoji/emoji_one/disappointed_relieved30f4.png?v=3" title=":disappointed_relieved:" class="emoji" alt=":disappointed_relieved:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-11-15T15:59:21Z' itemprop='datePublished'>
             2016-11-15 15:59:21 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>sorry the present manager is a community library object  from <a class="mention" href="../../users/drjustice.html">@DrJustice</a>, I therefore left this post for his input.</p>

<p>however, on reflection its a more general point , which is changing presets could cause audio glitch. <br>if you are changing parameters that if altered instantly might result in a glitch (or even just an undesirable sound)</p>

<p>in particular you would have to be careful, since the order that parameters are changed is not fixed.</p>

<p>there is no mechanism to glide from one value to another, but its a good idea ...</p>

<p>however there are a few possible solutions.<br>- rather than saving a preset on a dial in an object rather feed use an inlet, which is fed with a dial , thru a smooth object (or similar) <br>- take care with what you put in the preset, not all parameters have to be saved/recalled.<br>- consider some kind of delayed trigger to temp mute parts of the patch during a switch</p>

<p>I know these are all a bit vague, but Id have to really experiment with this to demonstrate these ideas... and I (personally) dont have time at the moment....<br>of course these are 'workarounds' , its true a glide could be a nice feature for the future.</p>

<p><a class="mention" href="../../users/johannes.html">@johannes</a> do you have any other ideas for workarounds etc? or generally thoughts?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Grandprixdamour.html'><b itemprop='author'>Grandprixdamour</b></a>
           
           <time datetime='2016-11-15T16:01:03Z' itemprop='datePublished'>
             2016-11-15 16:01:03 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>cool, thats already helpful</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-11-15T16:04:51Z' itemprop='datePublished'>
             2016-11-15 16:04:51 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../users/grandprixdamour.html">@Grandprixdamour</a>  one point, i forgot to say!</p>

<p>In the above Ive made the assumption that the glitch is caused by preset values changing rather than the preset manager.</p>

<p>this is worth testing, as its a big assumption!</p>

<p>do you get the same glitches is you change presets with the preset buttons in the axoloti UI?<br>(the numbers next to RECALL at the top of the screen) </p>

<p>if you do, its the underlying preset changes</p>

<p>if you do NOT then its an implementation issue with the preset manger, so would need to be addressed there.<br>(sorry, I dont know the details of the preset manager, because as i said it a community object)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-11-15T16:14:07Z' itemprop='datePublished'>
             2016-11-15 16:14:07 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../users/grandprixdamour.html">@Grandprixdamour</a>  ok, so I took a quick look at the preset manager code.</p>

<p>NOTE: this is just a quick glance, so i could be wrong.</p>

<p>it appears to be loading data from the SD card in the audio thread (k-rate) , we always recommend this is <strong>not</strong> done, doing I/O in the audio thread is likely to cause audio glitches. IO should be done in a separate thread.<br>also the code just restores parameters in the order they are created in the patch, so this could potentially cause issues.</p>

<p>(don't get me wrong, creating a preset manager is not trivial, and avoid glitches even more so!)</p>

<p>Id advise you find a mechanism within your patch to mute outputs before the load is initiated, and reactivates a short while after , once the load has completed.<br>It may be the preset manager has mechanisms to help you do this, but again i don't know it well enough to comment.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Grandprixdamour.html'><b itemprop='author'>Grandprixdamour</b></a>
           
           <time datetime='2016-11-15T16:14:55Z' itemprop='datePublished'>
             2016-11-15 16:14:55 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi Tbear</p>

<p>Right now I have to work on a raw player for an installation, I can check the preset problems another day.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/DrJustice-2.html'><b itemprop='author'>DrJustice</b></a>
           
           <time datetime='2016-11-15T18:16:59Z' itemprop='datePublished'>
             2016-11-15 18:16:59 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yes, there will be a small audio glitch, if the patch is sounding, due to the Preset Manager (PM hereafter) blocking the synthesis thread while saving and loading, and also when parameters change drastically of course. I did consider forking out the save/load code to a separate thread, but that might have its other synchronization issues, so I thought the safest thing is to block the synthesis thread for a moment.</p>

<p>Regarding resilience against moving objects positions in a patch, the PM has a save mode ("SubPatch") which uses named parameters which is safe in that regard. The downside is the non-appearence of the integer spinbox parameters (ParameterInt32Box) in the parameter table. This bugette has been mentioned several times when discussing the PM, and I still hope it will be addressed in an update (should I file an issue in GIT?). There is also the previously discussed request for a table with pointers to each sub patch root, so that a single PM module could do a global named parameter save.</p>

<p>For the audio glitch issue, I could introduce a new outlet on the PM, with a gain value that would be quickly ramped down and up before and after the actual load/save operation. Connecting that output to a gain module (or a new output module with a gain input) would then hopefully eliminate any 'dangerous' audio glitches.</p>

<p>Edit: If anybody wants such a fading gain coefficient, as described above, just say the word and I'll make it.</p>

<p>I'd also like to deprecate the SubPatchV1 mode to reduce the code space.</p>

<p>You can read about the latest update to the PM <a href="../drjustice-contributions/1459/13.html">here</a>.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-11-15T18:38:25Z' itemprop='datePublished'>
             2016-11-15 18:38:25 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thanks <a class="mention" href="../../users/drjustice.html">@DrJustice</a> </p>

<aside class="quote" data-post="8" data-topic="2441"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/drjustice/40/1430_1.jpg" class="avatar">DrJustice:</div>
<blockquote><p>The downside is the non-appearence of the integer spinbox parameters (ParameterInt32Box) in the parameter table. This bugette has been mentioned several times when discussing the PM, and I still hope it will be addressed in an update (should I file an issue in GIT?).</p></blockquote></aside>

<p>do you know if its limited to this parameter type?  - Ive vague memory when I was browsing the parameter table on the push, there might be others too.<br>sure , you can raise an issue on git, always good so we dont forget - we will be revisiting parameters for the next major release, at which time I will check all parameters are available.<br>(the next dev cycle, after 1.0.12,  is going to be a big one, so we can get on with things we have been aching to do for a while <img src="../../images/emoji/emoji_one/wink30f4.png?v=3" title=":wink:" class="emoji" alt=":wink:"> )</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/DrJustice-2.html'><b itemprop='author'>DrJustice</b></a>
           
           <time datetime='2016-11-15T19:02:49Z' itemprop='datePublished'>
             2016-11-15 19:02:49 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="9" data-topic="2441"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/thetechnobear/40/6_1.html" class="avatar">thetechnobear:</div>
<blockquote><p>do you know if its limited to this parameter type?  - Ive vague memory when I was browsing the parameter table on the push, there might be others too.</p></blockquote></aside>

<p>Not sure, no - but its the only one I've personally found missing. There are many parameter types I've not verified yet. Hopefully any others will be caught when you go through them for that update. I'll see about filing it on GIT <img src="../../images/emoji/emoji_one/%2b130f4.png?v=3" title=":+1:" class="emoji" alt=":+1:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-11-15T19:21:43Z' itemprop='datePublished'>
             2016-11-15 19:21:43 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="8" data-topic="2441"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/drjustice/40/1430_1.jpg" class="avatar">DrJustice:</div>
<blockquote><p>For the audio glitch issue</p></blockquote></aside>

<p>Calling file I/O functions in audio processing functions will unavoidably cause a buffer underrun. I suggest calling <code>codec_clearbuffer()</code> before calling the first file I/O function in such case. That will not avoid an underrun, but it will silence the underrun. </p>

<aside class="quote" data-post="8" data-topic="2441"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/drjustice/40/1430_1.jpg" class="avatar">DrJustice:</div>
<blockquote><p>the non-appearence of the integer spinbox parameters</p></blockquote></aside>

<p>I'm hesitant to make changes in the parameter system before arriving at substantially refactoring this in the near future.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/DrJustice-2.html'><b itemprop='author'>DrJustice</b></a>
           
           <time datetime='2016-11-15T20:05:23Z' itemprop='datePublished'>
             2016-11-15 20:05:23 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="11" data-topic="2441"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/johannes/40/8_1.html" class="avatar">johannes:</div>
<blockquote><p>Calling file I/O functions in audio processing functions will unavoidably cause a buffer underrun. I suggest calling codec_clearbuffer() before calling the first file I/O function in such case. That will not avoid an underrun, but it will silence the underrun.</p></blockquote></aside>

<p>Thanks - will insert a codec_clearbuffer() as a first measure, then possibly the fade in/out functionality to avoid clicks. For now I remain reluctant to start a new thread because of potential synchronization issues (like a new patch being loaded, or multiple PMs being used etc.).</p>

<aside class="quote" data-post="11" data-topic="2441"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/johannes/40/8_1.html" class="avatar">johannes:</div>
<blockquote><p>I'm hesitant to make changes in the parameter system before arriving at substantially refactoring this in the near future.</p></blockquote></aside>

<p>I'm hoping that the inclusion of the various parameter types is data driven. maybe with an attribute for the appearance in the parameter table which could be quick to correct? Anyway, I'm looking forward to a parameter refactoring since I have a "special interest" there <img src="../../images/emoji/emoji_one/slight_smile30f4.png?v=3" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/DrJustice-2.html'><b itemprop='author'>DrJustice</b></a>
           
           <time datetime='2016-11-16T00:07:37Z' itemprop='datePublished'>
             2016-11-16 00:07:37 UTC
           </time>
        </span>
        <span itemprop='position'>#13</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="1" data-topic="2441"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/grandprixdamour/40/3125_1.jpg" class="avatar">Grandprixdamour:</div>
<blockquote><p>first the problem:<br>there is an audio Glitch when executing a preset load/save, is there a work around ?</p></blockquote></aside>

<p>You have probably read my previous posts in this thread. I have adopted the method proposed by Johannes, to silence the output. It may still cause a click as it goes from some sound to silence and vice versa, but there should be no bad sample data in the output buffer to cause untoward noise bursts. This will be active for the PM once I sync the change to the repository (I'll drop a message here when that happens). Then there's the fade out/in method which I may implement next if there's demand.</p>

<aside class="quote" data-post="1" data-topic="2441"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/grandprixdamour/40/3125_1.jpg" class="avatar">Grandprixdamour:</div>
<blockquote><p>now the question:<br>I'd love to glide from one preset to the next, with a adjustable lag time does anybody have an idea how to solve that ?</p></blockquote></aside>

<p>There are two issues with this. One is that not all parameters can glide smoothly, e.g. switches, and may cause audio spikes/noise as abrupt changes happens. That could be said to be the patch/preset author's responsibility though (only load patches that has no abrupt changes, like potentially noisy switches changing, relative to the current one). The second is that code space is precious and the PM already consumes a bit of that - may not be a biggie, but worth keeping in mind as features are added. I could potentially make an extended version of the PM with extra features for those who want them, but I'm not too keen on diverging the module development like that. We'll see.</p>

<p>Also keep in mind that the PM is to be considered experimental or in-development, until some of the parameter code refactoring that thetechnobear and Johannes have mentioned (mainly to be sure that no parameter types are missing when using the SubPatch, i.e. named parameters,  save mode). However, is users find that the PM works for them, there's no reason not to use it - I intend to follow it up so that transition to newer versions are as painless as possible.</p>

<p>Edit: The PM is now updated with the "silence while saving and loading"-method. You can sync the libraries and test if you want.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2016-11-16T06:18:02Z' itemprop='datePublished'>
             2016-11-16 06:18:02 UTC
           </time>
        </span>
        <span itemprop='position'>#14</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../users/drjustice.html">@DrJustice</a></p>

<p>Over here the audio glitch when changing preset is also noticed. The glitch really bugs me a lot. So I went back to Axolotis own preset system. If you change preset when being live, you get the glitch. This can be pretty devastating.</p>

<p>But all this code refactoring etc. sounds really interesting. Cant wait to see what come up in the future <img src="../../images/emoji/emoji_one/slight_smile30f4.png?v=3" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/DrJustice-2.html'><b itemprop='author'>DrJustice</b></a>
           
           <time datetime='2016-11-16T11:30:48Z' itemprop='datePublished'>
             2016-11-16 11:30:48 UTC
           </time>
        </span>
        <span itemprop='position'>#15</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="14" data-topic="2441"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v2/letter/j/7ea924/40.png" class="avatar">jaffasplaffa:</div>
<blockquote><p>Over here the audio glitch when changing preset is also noticed. The glitch really bugs me a lot. So I went back to Axolotis own preset system. If you change preset when being live, you get the glitch. This can be pretty devastating.</p></blockquote></aside>

<p>The glitch workaround is of course to make sure there is no sound at the moment of saving or loading presets. Not satisfactory, but you do get the luxury of totall recall without glitches if you do. The built in preset system (which I never could get to work - it needs some concise docs) can't replace the Preset Manager - I still consider the latter an essential part of any synthesizer. </p>

<p>I've toyed with the idea of preloading all saved presets into RAM, so that the loading of a saved preset will be near instantaneous, just like the built in presets. However, that starts to feel like doing too much of a fudge code wise and resource wise... </p>

<aside class="quote" data-post="14" data-topic="2441"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v2/letter/j/7ea924/40.png" class="avatar">jaffasplaffa:</div>
<blockquote><p>But all this code refactoring etc. sounds really interesting. Cant wait to see what come up in the future <img src="../../images/emoji/emoji_one/slight_smile30f4.png?v=3" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p></blockquote></aside>

<p>I don't know how far the refactoring of parameters will go, that is, whether it'll introduce a total recall, or "conventional", preset system.</p>

<p>Edit: the info below is updated to reflect the latest version of the PM.</p>

<p>Right, let's try to make things better then. I've synced up a new version of the Preset Manager. It introduces a new attribute called "volfade" with four  values:</p>

<p>"Immediate" - switches patches immediately, may cause a click, but noise/tone burst <br>"Fade 0.02s" - generates a fade out and fade in lasting 0.5, 0.1 or 0.02 seconds each.<br>"Fade 0.10s"<br>"Fade 0.50s"</p>

<p>Note that when using the Immediate mode for deglitching, the Preset Manager must be place before the output module, as in to the left and/or above it, due to the iteration order.<br>Below is a test patch (picture and axo file). Please test it and let me know how it goes.</p>

<p><img src="../../uploads/default/original/2X/e/e67ed2687f5e7ea024323e9ed10042c05b0ee928.png" width="682" height="357"></p>

<p><a class="attachment" href="../../uploads/default/original/2X/3/test_preset_manager_antiglitch.axp">test_preset_manager_antiglitch.axp</a> (2.9 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2016-11-16T17:21:10Z' itemprop='datePublished'>
             2016-11-16 17:21:10 UTC
           </time>
        </span>
        <span itemprop='position'>#16</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Wow! Nice <a class="mention" href="../../users/drjustice.html">@DrJustice</a></p>

<p>Thanks, will try it out <img src="../../images/emoji/emoji_one/wink30f4.png?v=3" title=":wink:" class="emoji" alt=":wink:"> </p>

<p>Axolotis own preset system is good, but it has got its limitations. The benefits is no glitch sound. But downside is that it take a bunch of ram and it is a bit complicated making presets. When I got a finsihed patch that I am happy with, there are usually not much ram left for presets.</p>

<p>And that is where your system comes in. You can make lots of presets, and it is much easier creating the presets...... but it unfortunatly glitches. </p>

<p>Anyway, I will test the new version you have made... I would much rather have an audio drop out than a bliiiib, so IMO it is a step in right direction. Look forward to try it out <img src="../../images/emoji/emoji_one/slight_smile30f4.png?v=3" title=":slight_smile:" class="emoji" alt=":slight_smile:"> </p>

<p>The blib can be very dominating on a large PA system. Maybe it wouldnt matter sitting at home, but in a situation where everything is LOUD, it will play a role.</p>

<p>Does the Preset manager use a table for the storing/loading? Is that where the bliib comes from? </p>

<p>A while ago I got a new sd-card that was atleast 2 times faster than the old one I had. And that actually shortened the blib a bit, when loading tables. I havent tried using the PM since I got new sd-card.. Maybe this will make the blib less noticable too....</p>

<p>About the code refactoring, yes maybe it wont matter that much. But i would sure like to be able to assing the integer spinboxes to midi cc number. That is one of the things I'd love to see implemented, that was one of the reasons I mentioned the refactor of parameters. I think this would also make them included in your PM system, I guess.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2016-11-16T17:31:54Z' itemprop='datePublished'>
             2016-11-16 17:31:54 UTC
           </time>
        </span>
        <span itemprop='position'>#17</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ok all ready tested it... </p>

<p>This is super! I tested both volume and silence mode. Both works pretty great. Only a very short click when switching preset in silence mode. </p>

<p>This means that in a live situation you would be able to change preset without having to mute the Axoloti on the mixer first. Much more safe and much more useful!</p>

<p>THANKS again!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/DrJustice-2.html'><b itemprop='author'>DrJustice</b></a>
           
           <time datetime='2016-11-16T18:24:26Z' itemprop='datePublished'>
             2016-11-16 18:24:26 UTC
           </time>
        </span>
        <span itemprop='position'>#18</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks for testing <img src="../../images/emoji/emoji_one/slight_smile30f4.png?v=3" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>

<p>The glitch "bleb" sound is (was - I'll remove the "None" option!) due to the current buffer being played repeatedly until the save/load is finished and new data becomes available AFAIK, so the 32 sample buffer becomes a high frequency periodic noise/tone.</p>

<p>The fade time is currently 1/2 sec for each of out and in, so 1 sec in total. Perhaps I should add a fast option, so we get "Fast fade" and "Slow fade" instead of "Volume" (better naming too). Say, 1/10 sec, or maybe even faster, just enough to avoid a click, and the current 1/2 sec - would that be useful?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2016-11-16T18:29:27Z' itemprop='datePublished'>
             2016-11-16 18:29:27 UTC
           </time>
        </span>
        <span itemprop='position'>#19</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="18" data-topic="2441"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/drjustice/40/1430_1.jpg" class="avatar">DrJustice:</div>
<blockquote><p>The glitch "bleb" sound is (was - I'll remove the "None" option!) due to the current buffer being played repeatedly until the save/load is finished and new data becomes available AFAIK, so the 32 sample buffer becomes a high frequency periodic noise/tone.</p></blockquote></aside>

<p>ahh ok, now I get it!</p>

<p>Actually I was thinking about the fade time for the vol too. That would be great to be able to set a bit faster. </p>

<p>I just tested automating preset change with a square lfo and a rand/uni object. There are a few clicks, but much better than before. But for a regular synth where you just want some nice presets to choose from, not automate, it is really great! </p>

<p>But maybe the fade time would also help on the automation clicks.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Grandprixdamour.html'><b itemprop='author'>Grandprixdamour</b></a>
           
           <time datetime='2016-11-16T18:30:24Z' itemprop='datePublished'>
             2016-11-16 18:30:24 UTC
           </time>
        </span>
        <span itemprop='position'>#20</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thank you very much !</p>

<p>I don't have my axolotl handy but it sounds very useful. <br>This makes the preset manager useable on stage, great !</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Preset Manager with axocontrol'>
      <hr>
  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement'>
      <span itemprop='url'><b><a rel="next" itemprop="name" href="24414658.html?page=2">next page â†’</a></b></span>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/preset-manager-with-axocontrol/2441 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 17:12:42 GMT -->
</html>
