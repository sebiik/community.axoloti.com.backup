<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>(Internally) outputting polyphonic aftertouch supported? - Software - Axoloti Community</title>
    <meta name="description" content="Hi! 

I&amp;#39;m building a synth that should be controlled by analog in signals, each analog in controls a note, but I would like the note to be responsive to the continuous data flow (e.g. the amplitude of the note), not just&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="http://community.axoloti.com/t/internally-outputting-polyphonic-aftertouch-supported/997" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="http://community.axoloti.com/opensearch.xml" title="Axoloti Community Search">

        <link href="/stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;(Internally) outputting polyphonic aftertouch supported?&#39;" href="http://community.axoloti.com/t/internally-outputting-polyphonic-aftertouch-supported/997.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/internally-outputting-polyphonic-aftertouch-supported/997" />
<meta name="twitter:url" content="http://community.axoloti.com/t/internally-outputting-polyphonic-aftertouch-supported/997" />
<meta property="og:title" content="(Internally) outputting polyphonic aftertouch supported?" />
<meta name="twitter:title" content="(Internally) outputting polyphonic aftertouch supported?" />
<meta property="og:description" content="Hi!   I&#39;m building a synth that should be controlled by analog in signals, each analog in controls a note, but I would like the note to be responsive to the continuous data flow (e.g. the amplitude of the note), not just note on/off.   I thought that it would be appropriate with in internal polyphonic synth that supports aftertouch data, i.e. each voice receives continuous data while the note is playing. I see that there are &quot;touch&quot; supported midi inputs available for that, so far perfect! Howev..." />
<meta name="twitter:description" content="Hi!   I&#39;m building a synth that should be controlled by analog in signals, each analog in controls a note, but I would like the note to be responsive to the continuous data flow (e.g. the amplitude of the note), not just note on/off.   I thought that it would be appropriate with in internal polyphonic synth that supports aftertouch data, i.e. each voice receives continuous data while the note is playing. I see that there are &quot;touch&quot; supported midi inputs available for that, so far perfect! Howev..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="2 â¤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="/"><img src="/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="/t/internally-outputting-polyphonic-aftertouch-supported/997">(Internally) outputting polyphonic aftertouch supported?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="/c/software" itemprop="url">
        <span itemprop="title">Software</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Kurijn'><b itemprop='author'>Kurijn</b></a>
           
           <time datetime='2016-02-04T15:36:31Z' itemprop='datePublished'>
             2016-02-04 15:36:31 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi!</p>

<p>I'm building a synth that should be controlled by analog in signals, each analog in controls a note, but I would like the note to be responsive to the continuous data flow (e.g. the amplitude of the note), not just note on/off.</p>

<p>I thought that it would be appropriate with in internal polyphonic synth that supports aftertouch data, i.e. each voice receives continuous data while the note is playing.<br>I see that there are "touch" supported midi inputs available for that, so far perfect! However, there seem to be no "internal" midi outputs (nor "outputs" btw) with this feature.<br>Am I overlooking something? Or is there an alternative way to send out aftertouch data or an alternative data format? (I know about CC data but that is not nicely accompanying a note though!)</p>

<p>Cheers!</p>

<p>Kurijn</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(Internally) outputting polyphonic aftertouch supported?'>
      <hr>
            <a href="https://sebiik.github.io/community.axoloti.com.backup/t/wishlist-of-objects/489/37">Wishlist of objects</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-02-04T16:25:24Z' itemprop='datePublished'>
             2016-02-04 16:25:24 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>good point...<br>we are missing channel pressure and poly pressure outputs for midi.<br>put it on the wish list, and I'll try to get it done, its a pretty trivial object</p>

<p>in the meantime, if you are so inclined you could easily adapt one of the other midi/out, all that is needed is to change the arguments to midisend3</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(Internally) outputting polyphonic aftertouch supported?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/anon5189335'><b itemprop='author'>anon5189335</b></a>
           
           <time datetime='2016-02-05T08:17:54Z' itemprop='datePublished'>
             2016-02-05 08:17:54 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="/users/kurijn">@Kurijn</a></p>

<p>Did you try the midi/ctrl/mpe object instead of the midi/in/keyb?</p>

<p>That one has got channel pressure.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='(Internally) outputting polyphonic aftertouch supported?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Kurijn'><b itemprop='author'>Kurijn</b></a>
           
           <time datetime='2016-02-05T11:39:25Z' itemprop='datePublished'>
             2016-02-05 11:39:25 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="/users/jaffasplaffa">@jaffasplaffa</a></p>

<p> I think the only option to have continuous data flow <em>during</em> a note, is using aftertouch so poly pressure.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='(Internally) outputting polyphonic aftertouch supported?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-02-05T13:37:26Z' itemprop='datePublished'>
             2016-02-05 13:37:26 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ok, so a few things here.</p>

<p>first I think the discussion was about output, the mpe object only implements input.<br>Ive implemented output options for both poly at and channel pressure.</p>

<aside class="quote" data-post="4" data-topic="997"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar_proxy/v2/letter/k/278dde/40.png" class="avatar">Kurijn:</div>
<blockquote><p>I think the only option to have continuous data flow during a note, is using aftertouch so poly pressure</p></blockquote></aside>

<p>hmm, this is perhaps badly worded <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"> </p>

<p>CC/channel pressure existing continuously regardless of notes or not, but of course they are not attached to a note, rather the whole midi channel.<br>where as poly AT is specific to a note, and should be noted can even live outside a note gate...  e.g. you can send a polyAT message for a note that is not currently ON... though this is not very common, so you may find your synth doesnt support it (axoloti doesnt really) </p>

<p>the issue for MPE, is that poly AT is the only message that can be be assigned to a note, i.e. its the only note expression, <br>whereas MPE want at least 3 expressions.  pitchbend, pressure and timbre  ... so its solution is to use a separate midi channel for each 'note' , and then send channel messages , in particular pitchbend, channel pressure, and CC 74.</p>

<p>of course this means its limited to 16 simultaneous touches, due to midi restrictions, but given most of us have 10 fingers thats not a big limitation, expect for notes with long release times. but a synth can be 'clever' here... once you have released a touch (note-off) you obviously cannot physical affect its pitch,pressure, timbre since you aren't in contact with the surface... so the synth can decide to only use PB,pressure/timbre for active touches.<br>of course, if two players use the same surface, bets are off... and they can only use 8 fingers each <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='(Internally) outputting polyphonic aftertouch supported?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Kurijn'><b itemprop='author'>Kurijn</b></a>
           
           <time datetime='2016-02-17T07:46:50Z' itemprop='datePublished'>
             2016-02-17 07:46:50 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ok, I've been trying the new "midi/[intern and out]/poly touch" blocks (thanks btw!).<br>however, unfortunately I don't get them to work...<br>I've tried to simply send a number to note and then a 1 bool to trig with toggle. that works with the previous midi "note" blocks (when velocity is provided as well).<br>with the poly pressure ones:<br>-using the "internal" block and "midi/in/keyb touch"  I don't seem to capture anything at all...<br>-using the "out" block and<br>    * an external synth: I see that some midi information is received (by a led indicator), but no note is triggered.<br>    * pure data: the "notein" block doesn't react, the "polytouchin" block indeed outputs the note &amp; poly value, but the poly output is not continuously updating, it sticks on the value sent with the note on event.</p>

<p>Also important to note: while using an external midi controller with aftertouch I don't capture any data with the "touch" output from the "midi/in/keyb touch" block (and I am positive that the aftertouch of that synth works).</p>

<p>let me know if I can report you some more tests if needed.</p>

<p>cheers!<br>K</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='(Internally) outputting polyphonic aftertouch supported?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-02-17T09:29:21Z' itemprop='datePublished'>
             2016-02-17 09:29:21 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>it works ( or should) in the same way as midi/out/cc<br>that is, you need to send a rising edge trig to send each new value.</p>

<p>the most 'obvious' way to do this is to connect a change object to the trig input.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(Internally) outputting polyphonic aftertouch supported?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/Kurijn'><b itemprop='author'>Kurijn</b></a>
           
           <time datetime='2016-02-17T09:50:09Z' itemprop='datePublished'>
             2016-02-17 09:50:09 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>AHA!<br>I got it now, it works!  I have to use BOTH "note" and "poly touch" blocks!<br>The first one to actually trigger the note, the second to send note poly data afterwards...<br>Sorry, I'm not that known with this stuff!<br>Cheers!<br>K</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='(Internally) outputting polyphonic aftertouch supported?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-02-17T10:13:03Z' itemprop='datePublished'>
             2016-02-17 10:13:03 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>cool...</p>

<p>yes, poly pressure is independent of gate... if your synth supports it<br>so, for example, you could open up a vca directly using the pressure input, rather than driving a envelope (from gate input) to open the vca.<br>... but I will say its not that common for synths to support this , they tend to rely on note on/gate to drive env, but more (hardware and software) modular synths can do this.</p>

<p>you could do this in axoloti, though its a little more complex than it needs be, since the polyphonic subpatch allocates voices based on notes. </p>

<p>which gives me an idea <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"> </p>

<p><a class="mention" href="/users/johannes">@johannes</a> , do you think we need an extra voice mode for patches.... <br>"free polyphonic" mode, this would just create voices, but every voice would get every voice message, it would be completely up to the (sub) patch to decide if it is going to respond to the message...<br>I can think of a number of uses:<br>- unison<br>- patches that want to do their own voice allocation (the can use polyidx as driver)<br>- patches that don't use midi ( ok, you can use poly already, but this makes a bit more obvious)</p>

<p>I think we should also have variants on some of the midi objects (or upgrade existing ones), that output the midi channel.</p>

<p>I do recognise you can do the above currently, but having the midi objects in the parent patch, setting the sub patch to poly, and then passing the messages as inlets.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='(Internally) outputting polyphonic aftertouch supported?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/johannes'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-02-17T15:32:26Z' itemprop='datePublished'>
             2016-02-17 15:32:26 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="9" data-topic="997"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>do you think we need an extra voice mode for patches....</p></blockquote></aside>

<p>I'd try to avoid more "mode switches" where possible. Voice allocation is better expressed in code than in patching. <br>Modularizing voice allocators, it does not fit the current object model. It would be a cool feature, but I'm not convinced the "effort to added use cases ratio" is hot.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='(Internally) outputting polyphonic aftertouch supported?'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='/'>Home</a>
        <a href="/categories">Categories</a>
        <a href="/guidelines">FAQ/Guidelines</a>
        <a href="/tos">Terms of Service</a>
        <a href="/privacy">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
