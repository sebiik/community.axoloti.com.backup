<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/alternative-to-sprintf/6887 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:03:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Alternative to sprintf? - AxoObject coding - Axoloti Community</title>
    <meta name="description" content="I noticed using sprintf increases the code size tremendously (~20kb or so). Is there an  alternative in chibios using less memory or pulling in fewer libs? It is for OLED display. 

Maybe I am missing something? 

Thanks&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="6887.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Alternative to sprintf?&#39;" href="6887.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/alternative-to-sprintf/6887" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/alternative-to-sprintf/6887" />
<meta property="og:title" content="Alternative to sprintf?" />
<meta name="twitter:title" content="Alternative to sprintf?" />
<meta property="og:description" content="I noticed using sprintf increases the code size tremendously (~20kb or so). Is there an  alternative in chibios using less memory or pulling in fewer libs? It is for OLED display.   Maybe I am missing something?   Thanks in advance   I have seen this kind of workaround in several places. I guess I have to use that?   if (value != pvalue) {     int i = value;     int i0 = i/10;     c[offset+2] = &#39;0&#39;+i-10*i0;     i = i0;     i0 = i/10;     c[offset+1] = &#39;0&#39;+i-10*i0;     i = i0;     i0 = i/10;     ..." />
<meta name="twitter:description" content="I noticed using sprintf increases the code size tremendously (~20kb or so). Is there an  alternative in chibios using less memory or pulling in fewer libs? It is for OLED display.   Maybe I am missing something?   Thanks in advance   I have seen this kind of workaround in several places. I guess I have to use that?   if (value != pvalue) {     int i = value;     int i0 = i/10;     c[offset+2] = &#39;0&#39;+i-10*i0;     i = i0;     i0 = i/10;     c[offset+1] = &#39;0&#39;+i-10*i0;     i = i0;     i0 = i/10;     ..." />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="6887.html">Alternative to sprintf?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/axoobject-code.html" itemprop="url">
        <span itemprop="title">AxoObject coding</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/ivofx.html'><b itemprop='author'>ivofx</b></a>
           
           <time datetime='2020-10-17T18:05:57Z' itemprop='datePublished'>
             2020-10-17 18:05:57 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I noticed using sprintf increases the code size tremendously (~20kb or so).<br>Is there an  alternative in chibios using less memory or pulling in fewer libs?<br>It is for OLED display.</p>

<p>Maybe I am missing something?</p>

<p>Thanks in advance</p>

<p>I have seen this kind of workaround in several places. I guess I have to use that?</p>

<pre><code>if (value != pvalue) {
    int i = value;
    int i0 = i/10;
    c[offset+2] = '0'+i-10*i0;
    i = i0;
    i0 = i/10;
    c[offset+1] = '0'+i-10*i0;
    i = i0;
    i0 = i/10;
    c[offset+0] = '0'+i-10*i0;
    // Make sure there is a space between text and value
    c[offset-1] = ' ';
    pvalue = value;
}</code></pre>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Alternative to sprintf?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/ricard.html'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2020-10-19T06:28:22Z' itemprop='datePublished'>
             2020-10-19 06:28:22 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don't know enough background information to come with a conclusive answer, but it seems to me that sprintf should be part of the Axoloti OS, the part which is flashed and remains the same regardless of the user patch. The STM32F427 chip has lots of Flash memory (1 megabyte)  but precious little RAM where the patches live (256 kilobytes in total, of which not all is available for patches), so anything that does not have to be in RAM, such as library functions such as sprintf, should be in Flash memory.</p>

<p>So it seems a bit of an oversight in terms of the Axoloti OS. Then again I don't know, maybe there is a technical reason for this.</p>

<p>In response to your code question, it's certainly possible to do write code as in your example for a specific usecase, in some cases it can be an advantage if you need special treatment of certain values or want to print things out in a specialized way.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Alternative to sprintf?'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/alternative-to-sprintf/6887 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:03:48 GMT -->
</html>
