<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/issue-with-gpio-analog-in-out-pins/3818 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:53:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Issue with GPIO Analog In/Out Pins - Helpdesk - Axoloti Community</title>
    <meta name="description" content="First, let me say that I accept this very well maybe a hardware issue of my own creation, but before I start tearing things apart: 

I have both gpio pins (PA4 and PA5) wired to stereo 1/4&amp;quot; jacks.  They are wired: gpio t&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="3818.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Issue with GPIO Analog In/Out Pins&#39;" href="3818.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/issue-with-gpio-analog-in-out-pins/3818" />
<meta name="twitter:url" content="http://community.axoloti.com/t/issue-with-gpio-analog-in-out-pins/3818" />
<meta property="og:title" content="Issue with GPIO Analog In/Out Pins" />
<meta name="twitter:title" content="Issue with GPIO Analog In/Out Pins" />
<meta property="og:description" content="First, let me say that I accept this very well maybe a hardware issue of my own creation, but before I start tearing things apart:   I have both gpio pins (PA4 and PA5) wired to stereo 1/4&quot; jacks.  They are wired: gpio to tip, 3.3v to ring, and ground to sleeve.  Power and ground are wired in series with 8 other pots I have connected.  Here&#39;s the results I get:   Expression pedal into PA4:  Pedal controls a disp/dial p with almost the full range from 0-64, but also afftects a dial connected to P..." />
<meta name="twitter:description" content="First, let me say that I accept this very well maybe a hardware issue of my own creation, but before I start tearing things apart:   I have both gpio pins (PA4 and PA5) wired to stereo 1/4&quot; jacks.  They are wired: gpio to tip, 3.3v to ring, and ground to sleeve.  Power and ground are wired in series with 8 other pots I have connected.  Here&#39;s the results I get:   Expression pedal into PA4:  Pedal controls a disp/dial p with almost the full range from 0-64, but also afftects a dial connected to P..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="6 ❤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="3818.html">Issue with GPIO Analog In/Out Pins</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/helpdesk.html" itemprop="url">
        <span itemprop="title">Helpdesk</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/spacelordmother.html'><b itemprop='author'>spacelordmother</b></a>
           
           <time datetime='2017-10-03T13:29:54Z' itemprop='datePublished'>
             2017-10-03 13:29:54 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>First, let me say that I accept this very well maybe a hardware issue of my own creation, but before I start tearing things apart:</p>

<p>I have both gpio pins (PA4 and PA5) wired to stereo 1/4" jacks.  They are wired: gpio to tip, 3.3v to ring, and ground to sleeve.  Power and ground are wired in series with 8 other pots I have connected.  Here's the results I get:</p>

<p>Expression pedal into PA4:  Pedal controls a disp/dial p with almost the full range from 0-64, but also afftects a dial connected to PA5<br>Expression pedal into PA5:Pedal controls a disp/dial p with almost the full range from 0-64, no affect on PA4</p>

<p>I have a pedal with an expression in, designed to take 3.3v, and wired per TRS the connections I note above.  </p>

<p>PA5 works to send control signals to the pedal, which reacts as expected, except I have to phyically disconnect the wires from the board to PA4.  If PA4 is also wired up, it kills the pedal when plugged in.  </p>

<p>PA4 kills the pedal when plugged in, even if PA5 is unhooked.  </p>

<p>I talked to the guy who made the pedal and from the pedal being "dead" he guesses that the expression is somehow shorting power to ground.  Unplug the expression jack from Axo and it works normally again.  </p>

<p>Like I said -- it's very possible I have a solder bridge somewhere, but when I load the gpio/analog/out object I see both PA4 and PA5 which makes me assume they share a bus internally on the board and this could be related.  </p>

<p>Ideas?   THANKS!!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Issue with GPIO Analog In/Out Pins'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/spacelordmother.html'><b itemprop='author'>spacelordmother</b></a>
           
           <time datetime='2017-10-03T13:37:19Z' itemprop='datePublished'>
             2017-10-03 13:37:19 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Oh yes, 2 more details:</p>

<p>Per <a class="mention" href="../../u/johannes.html">@johannes</a> recommendation, I have a small resistor in series with the 3.3v in order to prevent the board crashing when plugging/unplugging a jack.</p>

<p>I have also used my multimeter to test for continuity between the pins and jacks and found none.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Issue with GPIO Analog In/Out Pins'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jfcharles.html'><b itemprop='author'>jfcharles</b></a>
           
           <time datetime='2017-10-03T17:39:36Z' itemprop='datePublished'>
             2017-10-03 17:39:36 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I assume your pedals are akin to pots, right, like an EV-5.<br>So, what happens when you test with 2 pots instead of your 2 pedals? Same thing?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='Issue with GPIO Analog In/Out Pins'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jfcharles.html'><b itemprop='author'>jfcharles</b></a>
           
           <time datetime='2017-10-03T17:42:04Z' itemprop='datePublished'>
             2017-10-03 17:42:04 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Also, you're using VDDA as 3.3V, right?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Issue with GPIO Analog In/Out Pins'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/spacelordmother.html'><b itemprop='author'>spacelordmother</b></a>
           
           <time datetime='2017-10-03T17:48:41Z' itemprop='datePublished'>
             2017-10-03 17:48:41 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Pedal is a M-Audio expression pedal, which is a 10k linear pot wired to a TRS jack, so same difference.  Appreciate the ideas though, so if I am misunderstanding I am happy to test whatever to see if I can figure this out.  </p>

<p>Yes, VDDA for analogs.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Issue with GPIO Analog In/Out Pins'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Gavin.html'><b itemprop='author'>Gavin</b></a>
           
           <time datetime='2017-10-03T21:38:59Z' itemprop='datePublished'>
             2017-10-03 21:38:59 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What do you mean by "Power and ground are wired in series with 8 other pots I have connected" ?<br>This does not sound right...<br>Do you have a picture of your connections ?<br><img src="../../images/emoji/twitter/thinkingae52.png?v=5" title=":thinking:" class="emoji" alt=":thinking:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Issue with GPIO Analog In/Out Pins'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/spacelordmother.html'><b itemprop='author'>spacelordmother</b></a>
           
           <time datetime='2017-10-03T22:05:37Z' itemprop='datePublished'>
             2017-10-03 22:05:37 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Connected to the board and then run to each pot and these 1/4” jacks.  So same VDDA is connected to each one, and also same ground.  </p>

<p>Here’s a picture to illustrate:<div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/71e22ae06f3bfab742345360db2302aa34327ebf" href="../../uploads/default/original/2X/7/71e22ae06f3bfab742345360db2302aa34327ebf.jpg" class="lightbox" title="F2CC46A4-8012-4154-92AC-4C0FD2A4AD26.jpeg"><img src="../../uploads/default/optimized/2X/7/71e22ae06f3bfab742345360db2302aa34327ebf_1_510x500.jpg" width="510" height="500"><div class="meta">
<span class="filename">F2CC46A4-8012-4154-92AC-4C0FD2A4AD26.jpeg</span><span class="informations">636x623 360 KB</span><span class="expand"></span>
</div></a></div></p>

<p>No issues with the pots at all.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Issue with GPIO Analog In/Out Pins'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Gavin.html'><b itemprop='author'>Gavin</b></a>
           
           <time datetime='2017-10-04T01:48:23Z' itemprop='datePublished'>
             2017-10-04 01:48:23 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Those connections are parallel connections, when you said series, my first thought was the connections. But all seems fine there.<br>I think you need to focus on the PA4 and PA5 pins. I know various expression pedals have different TRS connections, one of my pedals actually lets you choose between 2 configurations.<br>If you are getting display dial movement on both PA4 and PA5, it is because when plugged into the pedal, somehow voltage is getting to the PA5 pin.<br>Somehow also I think your comment "with almost the full range from 0-64" is also important, because you should be getting full range.<br>What I recommend, get your multimeter, plug in your pedal to PA4, and from here check the connection of the 3.3v power line to you PA5 connection, Ground to PA5 connection, the PA4 to PA5 connection. Somewhere one of these should connect through when it shouldn't. Could be a bad solder, malfunctioning TRS jack, faulty expression pedal.<br>The other thing you could do is, connect your TRS to a pot, because expression pedals are usually just turning a pot, so this will tell you if it is a problem with the expression pedal.<br><img src="../../images/emoji/twitter/grinningae52.png?v=5" title=":grinning:" class="emoji" alt=":grinning:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Issue with GPIO Analog In/Out Pins'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/spacelordmother.html'><b itemprop='author'>spacelordmother</b></a>
           
           <time datetime='2017-10-04T02:28:54Z' itemprop='datePublished'>
             2017-10-04 02:28:54 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Duh - you're right.  Parallel!  Thank you, good info and I will look into it!</p>

<p>Do you think the expression in is related to the issue I have sending the analog out signal?  That's where the main problem is.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Issue with GPIO Analog In/Out Pins'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Gavin.html'><b itemprop='author'>Gavin</b></a>
           
           <time datetime='2017-10-04T08:03:19Z' itemprop='datePublished'>
             2017-10-04 08:03:19 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You would have to test it to see, PA4 and PA5 work with a standard pot wired on, then its either the expression pedal or a fault in the TRS jack.<br>If its the Expression pedal, may not be broken, may just by wired on the jack wreong for that pedal.<br><img src="../../images/emoji/twitter/grinningae52.png?v=5" title=":grinning:" class="emoji" alt=":grinning:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Issue with GPIO Analog In/Out Pins'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jfcharles.html'><b itemprop='author'>jfcharles</b></a>
           
           <time datetime='2017-10-04T16:52:04Z' itemprop='datePublished'>
             2017-10-04 16:52:04 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="1" data-topic="3818"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/spacelordmother/40/2687_1.png" class="avatar">spacelordmother:</div>
<blockquote><p>PA5 works to send control signals to the pedal, which reacts as expected, except I have to phyically disconnect the wires from the board to PA4.  If PA4 is also wired up, it kills the pedal when plugged in.</p></blockquote></aside>

<p>Do you use PA5 to receive info from the pedal (PA5 with an object gpio/in/analog), or do you send info from your axoloti to the pedal (it's what I read from your post).<br>A pin from the GPIO can only work in one given mode: either it's an analog input, or a digital output (or a digital in...)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Issue with GPIO Analog In/Out Pins'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/spacelordmother.html'><b itemprop='author'>spacelordmother</b></a>
           
           <time datetime='2017-10-04T19:45:22Z' itemprop='datePublished'>
             2017-10-04 19:45:22 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The issue you quoted occurs when sending out with the connections as noted.  I have also tested in with an expression pedal in to see if I get expected behavior.  Only doing one at a time, not trying to do them both in a single patch.  <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Issue with GPIO Analog In/Out Pins'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/issue-with-gpio-analog-in-out-pins/3818 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:53:46 GMT -->
</html>
