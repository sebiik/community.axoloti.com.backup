<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/rotary-encoders/2681?source_topic_id=3874 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:48:24 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Rotary Encoders - User Guide - Axoloti Community</title>
    <meta name="description" content="What is a Rotary Encoder, Also known as a “Shaft” encoder, there are many versions that operate under this name. The type I am referring to here is a mechanical device that generates two switching pulses 90 deg out of ph&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="2681.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Rotary Encoders&#39;" href="2681.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/2X/c/c84b518bb22b41f9ecfff5d00ea082b0261a12cb.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/2X/c/c84b518bb22b41f9ecfff5d00ea082b0261a12cb.png" />
<meta property="og:url" content="http://community.axoloti.com/t/rotary-encoders/2681?source_topic_id=3874" />
<meta name="twitter:url" content="http://community.axoloti.com/t/rotary-encoders/2681?source_topic_id=3874" />
<meta property="og:title" content="Rotary Encoders" />
<meta name="twitter:title" content="Rotary Encoders" />
<meta property="og:description" content="What is a Rotary Encoder, Also known as a “Shaft” encoder, there are many versions that operate under this name. The type I am referring to here is a mechanical device that generates two switching pulses 90 deg out of phase from each other. The number of pulses per revolution varies depending on brand and make etc. Two common examples are,   The following example is the bare bones encoder. These come in 2 types, a 3 pin and 5 pin. Below shows 5 pins, the extra 2 pins shown on the other side of t..." />
<meta name="twitter:description" content="What is a Rotary Encoder, Also known as a “Shaft” encoder, there are many versions that operate under this name. The type I am referring to here is a mechanical device that generates two switching pulses 90 deg out of phase from each other. The number of pulses per revolution varies depending on brand and make etc. Two common examples are,   The following example is the bare bones encoder. These come in 2 types, a 3 pin and 5 pin. Below shows 5 pins, the extra 2 pins shown on the other side of t..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="7 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="23 ❤" />

      <link rel="next" href="26814658.html?page=2">

  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="2681.html">Rotary Encoders</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/user-guide.html" itemprop="url">
        <span itemprop="title">User Guide</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Gavin.html'><b itemprop='author'>Gavin</b></a>
           
           <time datetime='2016-12-23T07:29:11Z' itemprop='datePublished'>
             2016-12-23 07:29:11 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><strong>What is a Rotary Encoder,</strong><br>Also known as a “Shaft” encoder, there are many versions that operate under this name.<br>The type I am referring to here is a mechanical device that generates two switching pulses 90 deg out of phase from each other.<br>The number of pulses per revolution varies depending on brand and make etc.<br>Two common examples are,</p>

<p>The following example is the bare bones encoder. These come in 2 types, a 3 pin and 5 pin.<br>Below shows 5 pins, the extra 2 pins shown on the other side of the device, serves as a momentary switch which is activated by depressing the shaft.<br>If using this type, it is recommended to apply a simple circuit for preferred operating function.<br>(circuit shown below A, B and C for rotary function, the other 2 for switching, just omit the switching section for a 3 pin encoder)</p>

<p> <img src="../../uploads/default/original/2X/c/c84b518bb22b41f9ecfff5d00ea082b0261a12cb.png" width="265" height="241"></p>

<p><img src="../../uploads/default/original/2X/a/a12d952c2153928d8ae46598399c943076c192dd.png" width="439" height="274"></p>

<p>The following type is a 5 pin encoder already soldered onto a circuit for preferred operating function.<br>As you will see, it even shows what to plug in.</p>

<p><img src="../../uploads/default/original/2X/b/b20fe67dd57b3eb2ccc62f3f0f34734077a6aa06.png" width="288" height="205"></p>

<p>Both versions are plentiful on website online, and may even be available in your local electronics store.<br>Especially note if you require it to have the momentary switch option.</p>

<p>One difference you may notice between the two versions is the shaft design.<br>The bare bones version shows a slotted shaft with a threaded base for mounting into hardware, the soldered circuit version shows a “D” shape shaft with no threaded base, but has two mounting holes in the circuit board.<br>Be mindful of this when purchasing your items to ensure it meets your mounting requirements.</p>

<p><strong>How do they work.</strong><br>The below diagram shows the workings by depending on the direction the shaft is turned, when signal “A” received a rising edge,<br>It reads wether signal “B” is either HIGH or LOW.<br>In the diagram below, when signal “B” is HIGH, it is turning clockwise, when signal “B” is LOW, it is turning anti-clockwise,</p>

<p> <img src="../../uploads/default/original/2X/2/2ced43b53de31d039c9b0e7ea1ad25a305d0d4cb.png" width="397" height="276"></p>

<p><strong>Connecting to the Axoloti</strong><br>This connecting a rotary encoder to the Axoloti will require two digital GPIO Input pins to read the rotating value,<br>And one additional digital GPIO pin to read the momentary switch if you choose to connect one.<br>Based on the encoder and circuit images above, connections are described as follows..<br>CLK – “Clock” used to trigger the rising edge.<br>DT –  “Data” used to determine the direction delivering a HIGH or LOW signal during CLK rising edge.<br>SW – “Momentary Switch” depending on your encoder you may or may not have one.<br>+    – “Voltage Supply” With Axoloti this is 3.3v from a supply pin.<br>GND – “Ground”</p>

<p>CLK, DT and SW will each require their own digital GPIO pin, with “+” and “GND” connected as standard to 3.3v and GND pins.<br>Be mindful of using any analogue pins that you may require for any analogue readings.</p>

<p>When selecting the pin number in the GPIO digital Input object, be sure to select as “PULLDOWN”</p>

<p><strong>The Patch, Object and Code</strong><br>This section could go into various directions and create multiple debates about certain setups.<br>There are many de-bounce concepts, acceleration methods meaning the faster you turn the encoder, the higher the steps, and also many interrupt methods to support these ideas.</p>

<p>I will focus only on what appears to be the most common basic code setup which is how the object “Rotary Encoder Basic” is coded.<br><a class="attachment" href="../../uploads/default/original/2X/b/Rotary%20Encoder%20Basic.axo">Rotary Encoder Basic.axo</a> (1.1 KB)</p>

<p>Giving you the option to make whatever changes meet your needs.</p>

<p>Add the GPIO digital Input objects for the pins connected to “CLK” and “DT”<br>Object contains two inputs “trig” for the rising edge trigger, “dir” for determining the direction it is turning.<br>In the Patch, connect object connected to “CLK” to encoder object input “trig” and “DT” to “dir” respectively.</p>

<p>Contains only one output which is the current changing value weather decreasing or increasing.<br>The output can be connected to an Factory/disp/“i” object to display the value.</p>

<p>You can either modify the object used in the above explanation, or use the following code to help develop your own object.</p>

<p><em>Inlets:</em><br>Inlet_trig – (bool32.rising)<br>Inlet_dir – (bool32.rising)</p>

<p><em>Outlets:</em><br>Outlet_o – (int32)</p>

<p><em>Local Data:</em><br>int encoderPos;<br>int encoderLast;<br>int inval;</p>

<p><em>Int Code:</em><br>encoderPos = 0;<br>encoderLast = 0;<br>inval = 0; </p>

<p><em>K-rate code:</em><br>inval = inlet_trig;<br>if ((encoderLast == 0) &amp;&amp; (inval &gt; 0)) {<br>	if (inlet_dir == 0) {<br>	    	  encoderPos--;<br>	} else {<br>	    	  encoderPos++;<br>	}<br>} <br>encoderLast = inval;<br>outlet_o=encoderPos; </p>

<p><strong>Summary</strong><br>Now that you have the basic setup, you can modify to whatever meets your needs.<br>You will see over time various versions appear in my contributions once it is up and running.</p>

<p>Some things you may want to consider,<br>-        Minimums and Maximums.<br>-        How to apply presets.<br>-        Increment / Decrement size.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:16'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
            <a href="../endless-encoder/3874/2.html">Endless encoder</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/ricard.html'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2016-12-29T07:12:46Z' itemprop='datePublished'>
             2016-12-29 07:12:46 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks for a great introduction!</p>

<p>While porting the Axoloti to the Audiothingies P6 I wrote an object which handles this type of encoder. It has the additional feature that you can configure whether you want one output step per rising pulse on one channel, per falling pulse on one channel, or per rising or falling pulse on both channels from the encoder, effectively yielding different output speeds.</p>

<p>Another feature is that it synchronizes its internal state with the encoder, so that you don't get any ghost movements as soon as you start a patch due to the encoder not being in the state expected by the object.</p>

<p>The output is in the form of pulses: one output gives a pulse when the encoder is rotated to the right, and one to the left, and a third one for either direction. If you want to increment or decrement a value, you need to connect the outputs to a counter. The 'step' output can then be connected to the 'clock' input of the counter, and one of the 'up' or 'down' outputs to the 'direction' input of the counter.</p>

<p>No acceleration has been implemented, personally I like having a high resolution from the encoder, rather than acceleration, which always gets unpredicatble at some point.</p>

<p>(I've been meaning to upload this and other objects for the P6 to the contrib section but haven't gotten around to it yet...).</p>

<p><a class="attachment" href="../../uploads/default/original/2X/d/qdecode.axo">qdecode.axo</a> (1.7 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:2'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/stepan.html'><b itemprop='author'>stepan.dvoracek</b></a>
           
           <time datetime='2017-02-13T19:10:40Z' itemprop='datePublished'>
             2017-02-13 19:10:40 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi, I'm using this patch <a class="attachment" href="../../uploads/default/original/2X/2/encoder%20inputs.axp">encoder inputs.axp</a> (4.0 KB) with hardware debouncing (I want to use just the timer/pulselength object in the future), and it works quite nice, but here is, what happens if I get to the largest value - 64. When I turn the encoder down right after getting 64, it goes immediately to 63, but if i slowly turn it clockwise, the more I do it, the more I than have to turn it anticlockwise before it lowers the value. If I turn it really quickly, the disp/dial sometimes turns red, refusing to go back to normal state. I guess it's a software issue, because it does what is expected at the minimum value. Do you have any suggestions?</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/f656716442794f064bec964b8258ea771cd40360" href="../../uploads/default/original/2X/f/f656716442794f064bec964b8258ea771cd40360.jpg" class="lightbox" title="rotenc.jpg"><img src="../../uploads/default/optimized/2X/f/f656716442794f064bec964b8258ea771cd40360_1_690x331.jpg" width="690" height="331"><div class="meta">
<span class="filename">rotenc.jpg</span><span class="informations">921x442 134 KB</span><span class="expand"></span>
</div></a></div><br><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/5a330c7725cf5892fc4baa906c963cecf87fd0bc" href="../../uploads/default/original/2X/5/5a330c7725cf5892fc4baa906c963cecf87fd0bc.png" class="lightbox" title="Výstřižek.PNG"><img src="../../uploads/default/optimized/2X/5/5a330c7725cf5892fc4baa906c963cecf87fd0bc_1_527x500.png" width="527" height="500"><div class="meta">
<span class="filename">Výstřižek.PNG</span><span class="informations">701x664 31.2 KB</span><span class="expand"></span>
</div></a></div></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Gavin.html'><b itemprop='author'>Gavin</b></a>
           
           <time datetime='2017-02-13T21:35:55Z' itemprop='datePublished'>
             2017-02-13 21:35:55 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The range you want to adjust is between negative - 64 to positive + 64, when you are using a unipolar display dial you should 0.5 increment / decrement. If you swap to a bipolar display dial it will be singular steps, but you will notice that a zero value shows on the bipolar dial as 32. Either way you achieve a total of 128 steps. It all depends on the display you want to use. The easiest solution to your patch above is add in a minus 64 object just before your unipolar display dial. You should get 0 to 64 with 0.5 step increments shown. But don't fret, this is just how it is shown on the dial, you are still using 0 to 128 in your counter. I kept mine this way because I have built it all into internal midi controls so it keeps it all consistent not matter which parameter I connect it to.<br>Or the other even simpler thing you could do instead, is use an integer display object instead.</p>

<p>About the de-bounce, did you test the difference with or without and notice a difference ? I couldn't so I got rid of it. <br><img src="../../images/emoji/emoji_one/grinning30f4.png?v=3" title=":grinning:" class="emoji" alt=":grinning:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Gavin.html'><b itemprop='author'>Gavin</b></a>
           
           <time datetime='2017-02-13T21:37:21Z' itemprop='datePublished'>
             2017-02-13 21:37:21 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="4" data-topic="2681"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v2/letter/g/439d5e/40.html" class="avatar">Gavin:</div>
<blockquote><p>zero value shows on the bipolar dial as 32</p></blockquote></aside>

<p>Wrong way around.. zero value shows on the unipolar dial as 32 ... <img src="../../images/emoji/emoji_one/flushed30f4.png?v=3" title=":flushed:" class="emoji" alt=":flushed:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/stepan.html'><b itemprop='author'>stepan.dvoracek</b></a>
           
           <time datetime='2017-05-27T11:00:17Z' itemprop='datePublished'>
             2017-05-27 11:00:17 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I tried interfacing this 24 pulse non detent encoder: <a href="https://goo.gl/0X5sSu" rel="nofollow noopener">https://goo.gl/0X5sSu</a> in a way that it increments each time any of the pins changes a state resulting in a 4 times finer resolution! <br>The trouble is that I still need to detect the sense of rotation. The easiest way I find is to compare current state of pin A with the previous state of pin B and if it gives logic AND output 1 or 0 it means CW or CCW sense of direction. Right now I have to use a switch for that. I checked different objects but none of them seems to do the trick. Is there any way to patch it or do I need a custom script for this?</p>

<p><img src="../../uploads/default/original/2X/0/0100fee6b35589ad5af528c2624065624a216882.jpg" width="125" height="185"></p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/4fc081ba64f5a50ce92d37216dfdd25ee758e920" href="../../uploads/default/original/2X/4/4fc081ba64f5a50ce92d37216dfdd25ee758e920.png" class="lightbox" title="Výstřižek.PNG"><img src="../../uploads/default/optimized/2X/4/4fc081ba64f5a50ce92d37216dfdd25ee758e920_1_690x282.png" width="690" height="282"><div class="meta">
<span class="filename">Výstřižek.PNG</span><span class="informations">702x287 11.2 KB</span><span class="expand"></span>
</div></a></div></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Gavin.html'><b itemprop='author'>Gavin</b></a>
           
           <time datetime='2017-05-27T23:38:27Z' itemprop='datePublished'>
             2017-05-27 23:38:27 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I know for 2 x resultion, or you need to do is invert the signal from the pins and have a second set of objects, this way the falling edge will be come the rising edge and it will work fine.<br>But the challenge with 4 x, is you need the state of both pins to define the direction, not entirely sure, but if you were able to store the state of the last read and do a compare on both normal and inverted signals, you might be able to get there. For now thats all I could think of.<br><img src="../../images/emoji/emoji_one/grinning30f4.png?v=3" title=":grinning:" class="emoji" alt=":grinning:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/stepan.html'><b itemprop='author'>stepan.dvoracek</b></a>
           
           <time datetime='2017-05-28T19:36:17Z' itemprop='datePublished'>
             2017-05-28 19:36:17 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ok, this is my best solution so far. It's not perfect but I'm slowly getting there <img src="../../images/emoji/emoji_one/grinning30f4.png?v=3" title=":grinning:" class="emoji" alt=":grinning:">. When I change the sense of rotation it can change it's value up to three times towards the previous one depending on the internal position of the encoder, because I'm not updating the shift register quickly enough.</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/7052137a1e9d2caa5a37d1fba7a61100f32abd84" href="../../uploads/default/original/2X/7/7052137a1e9d2caa5a37d1fba7a61100f32abd84.png" class="lightbox" title="Výstřižek.PNG"><img src="../../uploads/default/optimized/2X/7/7052137a1e9d2caa5a37d1fba7a61100f32abd84_1_690x294.png" width="690" height="294"><div class="meta">
<span class="filename">Výstřižek.PNG</span><span class="informations">783x334 22.9 KB</span><span class="expand"></span>
</div></a></div></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/ricard.html'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2018-03-04T21:40:46Z' itemprop='datePublished'>
             2018-03-04 21:40:46 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I finally got around to uploading my quadrature decoder object to the axoloti-contrib repository, under objects/ricard/logic/qdecode.axo (it is the same as attached to my post above though).</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/spacelordmother.html'><b itemprop='author'>spacelordmother</b></a>
           
           <time datetime='2018-06-24T21:12:19Z' itemprop='datePublished'>
             2018-06-24 21:12:19 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../u/gavin-2.html">@Gavin</a> -- A question about your encoder objects, if I may.</p>

<p>Below is a small section of a larger patch -- this allows 1 encoder to control 4 separate parameters.  Hookmod keeps the receiving object from jumping when switching between parameters.   </p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/1cfae7b36262e72a394061dda0ef6451b70c541e" href="../../uploads/default/original/2X/1/1cfae7b36262e72a394061dda0ef6451b70c541e.png" class="lightbox" title="image.png"><img src="../../uploads/default/optimized/2X/1/1cfae7b36262e72a394061dda0ef6451b70c541e_1_690x227.png" width="690" height="227"><div class="meta">
<span class="filename">image.png</span><span class="informations">898x296 34.8 KB</span><span class="expand"></span>
</div></a></div></p>

<p>This all works great, however -- it's working more like an analog potetiometer than an encoder.  Seems like there should be an input on the encoder object to snap the encoder value to an outside integer.  In this case, when I turn the encoder to a value, let's say 32, and then switch away to control another parameter, when I switch back to the parameter set to 32 the encoder value should snap there rather than having to turn the encoder up or down to hit the value before hook releases.  That is the point of an encoder, no?  </p>

<p>Does that make sense, or maybe I am missing something?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Gavin.html'><b itemprop='author'>Gavin</b></a>
           
           <time datetime='2018-06-24T22:26:45Z' itemprop='datePublished'>
             2018-06-24 22:26:45 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think you patch is somewhat back to front, but a good attempt anyway.<br>If you want to control 4 parameters, the easiest way to do it, is to have 4 "Rot_Enc Value" objects, and it is then the link between digital ins to the trg &amp; dir that goes through a demux. Get rid of the hookmods, and logic change. If you are not sure what I mean, I can look into it later for you..<img src="../../images/emoji/twitter/grinae52.png?v=5" title=":grin:" class="emoji" alt=":grin:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/spacelordmother.html'><b itemprop='author'>spacelordmother</b></a>
           
           <time datetime='2018-06-24T22:44:06Z' itemprop='datePublished'>
             2018-06-24 22:44:06 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks!  You know, I had started down this path and for some reason I abandoned it in favor of the result above.  Could you explain the demux?  I was playing around with your objects, and this also seems to work for achieving control over all the parameters:</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/26c1f27afcadf169e157d54b05e75ac99b2a3680" href="../../uploads/default/original/2X/2/26c1f27afcadf169e157d54b05e75ac99b2a3680.png" class="lightbox" title="image.png"><img src="../../uploads/default/optimized/2X/2/26c1f27afcadf169e157d54b05e75ac99b2a3680_1_690x330.png" width="690" height="330"><div class="meta">
<span class="filename">image.png</span><span class="informations">728x349 34.2 KB</span><span class="expand"></span>
</div></a></div></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Gavin.html'><b itemprop='author'>Gavin</b></a>
           
           <time datetime='2018-06-25T01:23:04Z' itemprop='datePublished'>
             2018-06-25 01:23:04 UTC
           </time>
        </span>
        <span itemprop='position'>#13</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I only refer to the demux, because it was in your previous patch, and I was not entirely sure of what you were after, but what you have done above is exactly how I designed it to be used. And on a dyslexic side of things, I don't always remember every little detail of what I did when I created the object.<br>But I am glad you have a use for it.<br><img src="../../images/emoji/twitter/grinae52.png?v=5" title=":grin:" class="emoji" alt=":grin:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/spacelordmother.html'><b itemprop='author'>spacelordmother</b></a>
           
           <time datetime='2018-06-25T11:04:10Z' itemprop='datePublished'>
             2018-06-25 11:04:10 UTC
           </time>
        </span>
        <span itemprop='position'>#14</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It all works great now.  I knew I had to be missing something.  Great objects, thanks!!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/spacelordmother.html'><b itemprop='author'>spacelordmother</b></a>
           
           <time datetime='2018-06-26T13:47:25Z' itemprop='datePublished'>
             2018-06-26 13:47:25 UTC
           </time>
        </span>
        <span itemprop='position'>#15</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../u/gavin-2.html">@Gavin</a> Another question -  is there a way to set a default value for each encoder?  Would be handy for situations where you don’t want it to load at 0.  </p>

<p>Is this perhaps a part of the “preset” box on the value object? (This just occurred to me and I’m not near Axo to test...)</p>

<p>EDIT -- Yes, it appears that's what it is!  Putting a number in the preset box outputs that number -1 on patch load.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/spacelordmother.html'><b itemprop='author'>spacelordmother</b></a>
           
           <time datetime='2018-06-26T17:16:02Z' itemprop='datePublished'>
             2018-06-26 17:16:02 UTC
           </time>
        </span>
        <span itemprop='position'>#16</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../u/gavin-2.html">@Gavin</a></p>

<p>Strange.  Testing w/ multiple encoder objects gets me 3 different outcomes:</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/f48c79aeaaed919ca1bbf1ccd685d8016141978d" href="../../uploads/default/original/2X/f/f48c79aeaaed919ca1bbf1ccd685d8016141978d.png" class="lightbox" title="image.png"><img src="../../uploads/default/optimized/2X/f/f48c79aeaaed919ca1bbf1ccd685d8016141978d_1_401x499.png" width="401" height="499"><div class="meta">
<span class="filename">image.png</span><span class="informations">466x580 26.1 KB</span><span class="expand"></span>
</div></a></div> </p>

<p>Any logic?  Thanks again...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Gavin.html'><b itemprop='author'>Gavin</b></a>
           
           <time datetime='2018-06-26T22:30:50Z' itemprop='datePublished'>
             2018-06-26 22:30:50 UTC
           </time>
        </span>
        <span itemprop='position'>#17</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>If I remember correctly, as I am no where near my PC to open up the code, the preset value is always added to the output value, so it is never added to obtain a full integer, it is more of an offset, so on startup, the offset / preset value is added to zero. Now that I think about it, maybe there should be a reset input, to push the output back to preset. Would this help ??</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/spacelordmother.html'><b itemprop='author'>spacelordmother</b></a>
           
           <time datetime='2018-06-27T00:30:06Z' itemprop='datePublished'>
             2018-06-27 00:30:06 UTC
           </time>
        </span>
        <span itemprop='position'>#18</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Genuine question: why the preset/add vs just setting the default in the box?  </p>

<p>Seems like a reset inlet would be very handy!  </p>

<p>Regarding my last post -- it's some sort of processing order issue.  Having them stacked gets me different values.  Having them all in a row gets me 1 less (0 + preset value) every time.  </p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/fb087a660f03e54eb417048945da939a0535f532" href="../../uploads/default/original/2X/f/fb087a660f03e54eb417048945da939a0535f532.png" class="lightbox" title="image.png"><img src="../../uploads/default/optimized/2X/f/fb087a660f03e54eb417048945da939a0535f532_1_690x193.png" width="690" height="193"><div class="meta">
<span class="filename">image.png</span><span class="informations">886x248 19.7 KB</span><span class="expand"></span>
</div></a></div></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Gavin.html'><b itemprop='author'>Gavin</b></a>
           
           <time datetime='2018-06-27T02:26:45Z' itemprop='datePublished'>
             2018-06-27 02:26:45 UTC
           </time>
        </span>
        <span itemprop='position'>#19</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The reason for adding the preset value to 0 is because of 2 parts..<br>1 - I already had an object without a preset, so when adding one, I wanted to keep the additional code for feature to an absolute minimum.<br>2 - To initiate a preset value as a starting integer, a single cycle is required to make it the preset value. So to avoid this extra work, I decided it was easier to just add it as an offset.</p>

<p>Processing order is definitely an issue, and recommend the digital inputs are above the rot_enc objects positioned left to right.</p>

<p>The general order of things is left to right, top to bottom.<br>So as per your image,  The first digital input is first, then the three rot-enc obj  split by the int display, then the 2nd digital input, then the third, and it repeats in the same order.</p>

<p>So you want it to read all the digital inputs first, then the rot-enc's to read the inputs and as all three digital inputs would have been processed all the rot-enc inputs will be valid signals.</p>

<p>When you apply the value setting, a counter etc to select which one you are adjusting, you also want the value processed before the rot-enc's are processed, so the selection is clearly identifiable when the rot-enc object is processed.</p>

<p>When I build my patches, I focus on having the objects in groups of the tasks they are doing, and I make every effort to keep the object within each group left to right, and each group below the next. This is not always clear cut and very often exceptions, but for me it helps.</p>

<p>So the digital inputs is one group left to right,<br>Then the value selector left to right,<br>Then the rot-enc's underneath left to right.</p>

<p>Its just trial and error, lots of practice etc..<br>Hope above helps..</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/spacelordmother.html'><b itemprop='author'>spacelordmother</b></a>
           
           <time datetime='2018-06-27T16:02:09Z' itemprop='datePublished'>
             2018-06-27 16:02:09 UTC
           </time>
        </span>
        <span itemprop='position'>#20</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This is all GREAT information, thank you!  </p>

<p>More like this?</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/fa94f95a31e16851453e18e864f4cf495f886d28" href="../../uploads/default/original/2X/f/fa94f95a31e16851453e18e864f4cf495f886d28.png" class="lightbox" title="image.png"><img src="../../uploads/default/optimized/2X/f/fa94f95a31e16851453e18e864f4cf495f886d28_1_690x257.png" width="690" height="257"><div class="meta">
<span class="filename">image.png</span><span class="informations">847x316 25.8 KB</span><span class="expand"></span>
</div></a></div></p>

<p>This also brings up another question, hope you're not sick of me yet!  I would like to patch one of the objects to control the semi-tune of an oscillator, so +/- 11 steps.  In the middle object you see I have set the range from -11 to +11.  Works great in theory, but I can't get it to turn down below 0.  If I set the present to -12 I get -11 at patch load, but once I turn up past zero it won't go back down into the negative.  </p>

<p>It works as desired on the right, but would prefer to have less objects if there's something I am missing.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Rotary Encoders'>
      <hr>
  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement'>
      <span itemprop='url'><b><a rel="next" itemprop="name" href="26814658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/rotary-encoders/2681?source_topic_id=3874 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:48:24 GMT -->
</html>
