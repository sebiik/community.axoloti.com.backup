<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/increasing-the-3khz-control-rate-frequency/6427/32 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:05:49 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Increasing the 3khz control rate frequency - Hardware - Axoloti Community</title>
    <meta name="description" content="Hey people, I want to use the axoloti to control the following 40Channel DAC board. https://www.analog.com/en/design-center/evaluation-hardware-and-software/evaluation-boards-kits/eval-ad5370.html#eb-overview 
 
 

As i &amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="../64274658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Increasing the 3khz control rate frequency&#39;" href="../6427.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/user_avatar/community.axoloti.com/sebo/200/4466_1.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/user_avatar/community.axoloti.com/sebo/200/4466_1.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/increasing-the-3khz-control-rate-frequency/6427/32" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/increasing-the-3khz-control-rate-frequency/6427/32" />
<meta property="og:title" content="Increasing the 3khz control rate frequency" />
<meta name="twitter:title" content="Increasing the 3khz control rate frequency" />
<meta property="og:description" content="I think you mean if I&#39;m using the DACs or the PWM outs to output CV. I&#39;m using both (and also I&#39;m using the ADCs to input CV). I&#39;m using the 2 DACs plus 2 PWM outs, and I regret not having used more PWM outs, as they work very well. Here, I let you a link to a post with what I did:" />
<meta name="twitter:description" content="I think you mean if I&#39;m using the DACs or the PWM outs to output CV. I&#39;m using both (and also I&#39;m using the ADCs to input CV). I&#39;m using the 2 DACs plus 2 PWM outs, and I regret not having used more PWM outs, as they work very well. Here, I let you a link to a post with what I did:" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html"><img src="../../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="../6427.html">Increasing the 3khz control rate frequency</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../../c/hardware.html" itemprop="url">
        <span itemprop="title">Hardware</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Flub.html'><b itemprop='author'>Flub</b></a>
           
           <time datetime='2020-02-22T14:29:57Z' itemprop='datePublished'>
             2020-02-22 14:29:57 UTC
           </time>
        </span>
        <span itemprop='position'>#13</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Alright, thank you for that! So I could somehow think about using a 16 x 16bit buffer/shift register which is clocked out with the samplerate and loaded on each k-rate.<br>Perhaps K-rate is also enough. I just recognized that it is a bigger problem that my midi controller "akai midimix" cannot send NRPN cc messages. I mean that i can only get 0-127 steps from the faders which is not perfect. But it might be also okay when i use a smooth object in between the midi values and the "DAC object" input.</p>

<p>Anyways, if 3000Hz is not enough, is it possible to setup an extra timer + interrupt routine which is running faster?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/weasel79.html'><b itemprop='author'>weasel79</b></a>
           
           <time datetime='2020-02-22T16:49:52Z' itemprop='datePublished'>
             2020-02-22 16:49:52 UTC
           </time>
        </span>
        <span itemprop='position'>#14</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Wow thanks <a class="mention" href="../../../u/ricard.html">@ricard</a> for the thorough explanation i finally understood a lot of issues i was running into recently. You should copy this into a user guide thread...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/tele_player.html'><b itemprop='author'>tele_player</b></a>
           
           <time datetime='2020-02-22T23:34:11Z' itemprop='datePublished'>
             2020-02-22 23:34:11 UTC
           </time>
        </span>
        <span itemprop='position'>#15</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../../u/flub-2.html">@Flub</a> - what is the maximum frequency you want to send using these DACs?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Flub.html'><b itemprop='author'>Flub</b></a>
           
           <time datetime='2020-02-23T16:18:16Z' itemprop='datePublished'>
             2020-02-23 16:18:16 UTC
           </time>
        </span>
        <span itemprop='position'>#16</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I am not sure yet. I want to make possible as much as possible so actually 48khz would be awesome to have. But I would just be fine with 3000 for a beginning.</p>

<p>I ve got a quick question about dynamically reading the inlet values.</p>

<pre><code>disp_d1 = inlet_i1 &gt;&gt; 11; 
//setDAC(1, X, (inlet_i2 &gt;&gt; 11));
for (uint8_t i = 0; i &lt; 40; i++) {
   setDAC(i, X, inlet_i??? &gt;&gt; 11));	
}
pulseLDAC();</code></pre>

<p>I think you see what the problem is. Do you know how it is done to dynamically compose those constant names ?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2020-02-23T16:57:31Z' itemprop='datePublished'>
             2020-02-23 16:57:31 UTC
           </time>
        </span>
        <span itemprop='position'>#17</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You could just put the inlets into an array, like this:</p>

<p>int a[3]={inlet_i1,inlet_i2,inlet_i3};</p>

<p>And then use a variable to select which slot of the array you want to select:</p>

<p>outlet_l = a[param_sel];</p>

<p>Another way is to take advantage of srate inlets. If you are using many inlets, this is going to be the easiest way I think. If you are routing tons of cables, using this method can make bi patches a little bit easier to comprehed and work with.</p>

<p>If you make srate inlets, the red ones, but put the code into krate fan, you can actually route 16 krate signals through a srate inlet. Krate is 3000 srate is 48000, so 48000/3000=16.....</p>

<p>Something like this image below. Here I have ONE single srate inlet and then I use inlet[0], inlet[1], inlet[2], etc. to display each value from each of the parts of the inlets.</p>

<p><img src="../../../uploads/default/original/2X/8/826e693d0486cab0f31dc7874afb0f2d4bcd9223.png" width="641" height="417"></p>

<p>You can simply use:</p>

<p>inlet_i[set number here]</p>

<p>to select one of the 16 inlet_i[x]</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Flub.html'><b itemprop='author'>Flub</b></a>
           
           <time datetime='2020-02-23T17:16:03Z' itemprop='datePublished'>
             2020-02-23 17:16:03 UTC
           </time>
        </span>
        <span itemprop='position'>#18</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Cool thank you! I just wanted to test it out, but i could not connect more than one blue line to the red input. How is that possible?<br>Anyways i think I will take that array approach so i can also check if the value changed before sending it to the DAC to save performance. When I send all of them it takes 60% of the cpu.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2020-02-23T17:20:07Z' itemprop='datePublished'>
             2020-02-23 17:20:07 UTC
           </time>
        </span>
        <span itemprop='position'>#19</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>See here how you get the values in. If you don't need many inlets, this is probably not the best solution. But if you do it's a lot easier.</p>

<p><img src="../../../uploads/default/original/2X/5/56c817911d56d9ed4319c8a2aaf0ebb59d4e3a06.png" width="690" height="436"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Flub.html'><b itemprop='author'>Flub</b></a>
           
           <time datetime='2020-02-23T17:23:05Z' itemprop='datePublished'>
             2020-02-23 17:23:05 UTC
           </time>
        </span>
        <span itemprop='position'>#20</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ah now I get it. Thats a nice trick and good to know : ) <br>I think I am gonna do it with a table and a kind of helper object where you can select the table index you want to control. so I can put the inlets for the DAC outputs speperated anywhere in the patch.</p>

<p>Another question:<br>I now implement the code in a patch/object. Is it somehow more perfomant to export it as a real object somehow? I dont know how to do it, but I am curious if it is worth trying out.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2020-02-23T17:43:49Z' itemprop='datePublished'>
             2020-02-23 17:43:49 UTC
           </time>
        </span>
        <span itemprop='position'>#21</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="20" data-topic="6427"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/f/4af34b/40.png" class="avatar">Flub:</div>
<blockquote><p>I now implement the code in a patch/object. Is it somehow more perfomant to export it as a real object somehow?</p></blockquote></aside>

<p>If you want to make an object instead of a subpatch I think there is something to gain. All the inlets uses ram. So ilets sat you have 10 objects inside a subpatch and they are all connected via in/outlets and you code the 10 objects in one single object, you don't have all those inlets/outlets anymore and you can save the memory used in the subpatch.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Flub.html'><b itemprop='author'>Flub</b></a>
           
           <time datetime='2020-02-23T18:15:44Z' itemprop='datePublished'>
             2020-02-23 18:15:44 UTC
           </time>
        </span>
        <span itemprop='position'>#22</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Here is a the working AD5370 Patch:<a class="attachment" href="../../../uploads/default/original/2X/b/eval_board-control_dev_18_40_squares_test.axp">eval_board-control_dev_18_40_squares_test.axp</a> (53.5 KB)</p>

<p>I did not use a subpatch i think. But i used this "patch/object" object to put my code for the DAC somewhere. I dont know if that will benefit from being an object like the ones which i can select from the objects list when i double click.<br>__ EDIT __ <br>I just found out that the file menu of the object editor offers the option "copy to library" I did it and it did not change the performance.</p>

<p>So actually the main question is actually. Is there any way to output data faster than 3khz .</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2020-02-23T18:23:33Z' itemprop='datePublished'>
             2020-02-23 18:23:33 UTC
           </time>
        </span>
        <span itemprop='position'>#23</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>If you build the lfo into the object, you have saved 80 inlet/outlets. I think that's worth considering.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2020-02-23T18:25:35Z' itemprop='datePublished'>
             2020-02-23 18:25:35 UTC
           </time>
        </span>
        <span itemprop='position'>#24</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>And yeah if you make it into a an object and save it to the library, its easier, cause you dont have to copy all the object over and over again every time you made a change in one of them. You just save the object and all of them will be changed right away.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Flub.html'><b itemprop='author'>Flub</b></a>
           
           <time datetime='2020-02-23T18:27:13Z' itemprop='datePublished'>
             2020-02-23 18:27:13 UTC
           </time>
        </span>
        <span itemprop='position'>#25</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../../u/jaffasplaffa.html">@jaffasplaffa</a> They are just there to test the performance of different amounts of DAC Channels to be updated in a k-cycle. <br>The Data is only sent when it changed. <br>Cool, thats what I did not know. Then there is actually no reason to use the patch/object for me anymore. I thought it is not editable anymore then.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/tele_player.html'><b itemprop='author'>tele_player</b></a>
           
           <time datetime='2020-02-24T04:36:00Z' itemprop='datePublished'>
             2020-02-24 04:36:00 UTC
           </time>
        </span>
        <span itemprop='position'>#26</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>The limit you're hitting isn't caused by the 3khz K-rate. You're being limited by the actual speed of the SPI link. Observe the DSP load %, running with FPCLK/4, FPCLK/8, FPCLK/16. And the square LFOs are probably reducing the number of SPI writes.<br>Note also - the SPI writes are synchronous, nothing else gets done while bits are in motion on the SPI.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/ricard.html'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2020-02-24T05:07:29Z' itemprop='datePublished'>
             2020-02-24 05:07:29 UTC
           </time>
        </span>
        <span itemprop='position'>#27</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="25" data-topic="6427" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/f/4af34b/40.png" class="avatar">Flub:</div>
<blockquote><p>Then there is actually no reason to use the patch/object for me anymore. I thought it is not editable anymore then.</p></blockquote></aside>

<p>As you've noted there shouldn't be a difference in performance, it all ends up in one big function when the patch is compiled anyway.</p>

<p>I find patcher objects handy when developing objects as it means both the object and the surrounding patch are saved together and it's not necessary to keep the files for the patch and separate object that you are working on in sync.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Flub.html'><b itemprop='author'>Flub</b></a>
           
           <time datetime='2020-03-05T08:34:01Z' itemprop='datePublished'>
             2020-03-05 08:34:01 UTC
           </time>
        </span>
        <span itemprop='position'>#28</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This is the working patch now:<br><a class="attachment" href="../../../uploads/default/original/2X/3/basic_setting.axp">basic_setting.axp</a> (8.5 KB)<br>For anyone who wants to use that 40Ch 16 bit DAC Board too: It only worked reliably on Clockarte FPCLK/4 when i put 10 Ohm termination resistors on the axoloti boards CLK and MOSI.</p>

<p>It is just working fine except two problems. <br>The first problem is actually the reason why i started this thread. The control rate of 3khz is not ideal for smooth sweeps. A sine Lfo cannot be used in higher Frequencies as it is a strange staircase then.<br>The second problem is that the patcher or actually my hole OS freezes when constantly turn the dial around for 20 seconds in the patch "basic_setting.axp". My mouse is not visible anymore and nothing interacts. So I have to reboot.<br>Has anyone an idea what the reason for this is? I am using windows 10 at the moment and the axoloti patchers version is:<br>Build Version: 1.0.12-2-0-g60a2f99<br>Build Date: 08/04/2018 20:20:07 CEST<br>Java version: 1.8.0_161</p>

<p>I could not find a log file which is telling me what happened thats why I am kind of clueless...<br>- Flub</p>

<p>--- EDIT<br>The problem only occurs when i have multiple DAC output objects at the same time.</p>

<pre><code>attr_table.array[attr_channel] = inlet_i1 &gt;&gt; 11;</code></pre>

<p>I think somehow it is problematic to write to multiple keys of the array from many "patcher/object" objects at the same time... Is that possible?</p>

<p>in my DAC controller object i call this at k-rate:</p>

<pre><code>for (uint8_t i = 0; i &lt; 40; i++) {
	if (attr_table.array[i] != DACLevels[i]) {
		setDAC(i, X, attr_table.array[i]);
		DACLevels[i] = attr_table.array[i];
	}
}
pulseLDAC();`</code></pre>

<p>__EDIT: <br>I just realized it is not freezing anymore when i set FPCLK/8 instead of FPCLK/4. Can it be that there is somekind of problem with the SPI library?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Blindsmyth.html'><b itemprop='author'>Blindsmyth</b></a>
           
           <time datetime='2020-04-20T21:27:05Z' itemprop='datePublished'>
             2020-04-20 21:27:05 UTC
           </time>
        </span>
        <span itemprop='position'>#29</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey there, very interesting project! Could you get it to work properly in the end?</p>

<p>I was wondering: could this be used to achieve very lo fi extra audio out (with everything cut above 3k)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Sebo.html'><b itemprop='author'>Sebo</b></a>
           
           <time datetime='2020-04-21T14:57:10Z' itemprop='datePublished'>
             2020-04-21 14:57:10 UTC
           </time>
        </span>
        <span itemprop='position'>#30</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Short answer: NO.</p>

<p>There is another thread were Johannes explain how to do it but is very complicated, I think nobody tried...<br>I modified the code to get good CV control out of the PWM outs, but not audio (well I mange to get audio, but it sounded horrible).</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Blindsmyth.html'><b itemprop='author'>Blindsmyth</b></a>
           
           <time datetime='2020-04-21T16:37:45Z' itemprop='datePublished'>
             2020-04-21 16:37:45 UTC
           </time>
        </span>
        <span itemprop='position'>#31</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ok thanks. I would really love to have one more mono out to use as an fx send...</p>

<p>Are you using that adc in the end or do you use the pwm pins directly for cv control?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Sebo.html'><b itemprop='author'>Sebo</b></a>
           
           <time datetime='2020-04-22T08:07:29Z' itemprop='datePublished'>
             2020-04-22 08:07:29 UTC
           </time>
        </span>
        <span itemprop='position'>#32</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think you mean if I'm using the DACs or the PWM outs to output CV. I'm using both (and also I'm using the ADCs to input CV).<br>I'm using the 2 DACs plus 2 PWM outs, and I regret not having used more PWM outs, as they work very well.<br>Here, I let you a link to a post with what I did:<br><aside class="quote" data-post="1" data-topic="4229">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../../user_avatar/community.axoloti.com/sebo/40/4466_1.jpg" class="avatar">
    <a href="../../axoloti-as-a-5u-module/4229fe2d.html?source_topic_id=6427" rel="nofollow noopener">Axoloti as a 5U Module</a> <a class="badge-wrapper  bullet" href="../../../c/hardware.html"><span class="badge-category-bg" style="background-color: #AB9364;"></span><span style="color: #FFFFFF;" class="badge-category clear-badge" title="This category is intended for discussion about the Axoloti hardware and connecting to other hardware, including , connecting midi controllers and other hardware, related hardware projects.">Hardware</span></a>
  </div>
  <blockquote>
    Hi all: I did a module with Axoloti for my 5U modular. The module have: 

4 CV inputs (CV control + CV Atenautor) connected to PA0 to PA3. 1 Digital Input (with voltaje protection) connected to PB0. 2 CV outputs (0 to 10V) connected to PA4 and PA5 DAC outputs. 2 CV outputs (0 to 10V) connected to PA6 and PA7 using PWM at 10KHz. 6 Digital outputs connected to PC0 to PC5. 1 LED connected to PB1. 

 <a href="../../../uploads/default/original/2X/0/04e1df4620f3f5ae4b668320a8180de3d7a3cdd9.jpg" class="lightbox" title="Modular.jpg" rel="nofollow noopener">[image]</a> <a href="../../../uploads/default/original/2X/c/cb60fc04203aa6b759c9f7a8f098b09be959eaf5.png" class="lightbox" title="Sebo Axoloti Shield V4 - Schematic.png" rel="nofollow noopener">[image]</a>

Notes: I used MCP6002 (not MCP602), just didn't have a library for the MCP6002 in Eâ€¦
  </blockquote>
</aside>
</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Increasing the 3khz control rate frequency'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../../index.html'>Home</a>
        <a href="../../../categories.html">Categories</a>
        <a href="../../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../../tos.html">Terms of Service</a>
        <a href="../../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/increasing-the-3khz-control-rate-frequency/6427/32 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:05:49 GMT -->
</html>
