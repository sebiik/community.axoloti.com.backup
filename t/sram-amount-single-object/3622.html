<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/sram-amount-single-object/3622 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:20:13 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>SRAM amount single object - Software - Axoloti Community</title>
    <meta name="description" content="Is there a way to know how much SRAM a single object uses?">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="3622.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;SRAM amount single object&#39;" href="3622.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/sram-amount-single-object/3622" />
<meta name="twitter:url" content="http://community.axoloti.com/t/sram-amount-single-object/3622" />
<meta property="og:title" content="SRAM amount single object" />
<meta name="twitter:title" content="SRAM amount single object" />
<meta property="og:description" content="Is there a way to know how much SRAM a single object uses?" />
<meta name="twitter:description" content="Is there a way to know how much SRAM a single object uses?" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 â¤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="3622.html">SRAM amount single object</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/software.html" itemprop="url">
        <span itemprop="title">Software</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/akirasrebirth.html'><b itemprop='author'>akirasrebirth</b></a>
           
           <time datetime='2017-08-20T20:30:14Z' itemprop='datePublished'>
             2017-08-20 20:30:14 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Is there a way to know how much SRAM a single object uses?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='SRAM amount single object'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/TheSlowGrowth.html'><b itemprop='author'>TheSlowGrowth</b></a>
           
           <time datetime='2017-08-21T08:41:06Z' itemprop='datePublished'>
             2017-08-21 08:41:06 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Overflow your SRAM, write down the size. Add the object in question and recompile. Write down the new size. The difference is how much that object consumed.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='SRAM amount single object'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2017-08-21T09:37:21Z' itemprop='datePublished'>
             2017-08-21 09:37:21 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="1" data-topic="3622" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/akirasrebirth/40/2529_1.png" class="avatar">akirasrebirth:</div>
<blockquote><p>Is there a way to know how much SRAM a single object uses?</p></blockquote></aside>

<p>a 'tech' answer... if you know what the following means you can use it <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>

<p>unfortunately this is not trivial, as Axoloti inlines the code for performance - so when it comes to loading the binaries, all that is left is one large 'root' object (*)... i.e. your object does not exist as its own entity/size.</p>

<h2>option 1 - objdump</h2>

<p>we can inspect a patch .bss  size using objdump, so size with and without the object in question</p>

<p>i.e. </p>

<ul>
<li>remove object in question</li>
<li>compile Axoloti</li>
<li>use objdump to get size of root object</li>
</ul>

<p></p><pre><code class="lang-auto">$ objdump -x build/xpatch.o | grep  _ZL4root
00000104 l     O .bss   00000838 _ZL4root</code></pre>

<p>second number is the size (in hex, 0x00838 here) of the patch</p>

<ul><li>now add your object back, and run  objdump again , and note new size, and difference<br>e.g. here, I increased the size of the delay line by 1024 </li></ul>

<p></p><pre><code class="lang-auto">$ objdump -x build/xpatch.o | grep  _ZL4root
00000104 l     O .bss   00001038 _ZL4root</code></pre>

<p>so 0x1038- 0x838 = 0x800 = 2048 , (16 bit , so 2x1024 = 2048)</p>

<p>remember this is only the sram usage, sdram usage would be included in a different segment.</p>

<p>(*) theoretically, we can un-inline code segments but I don't think anyone else is doing this other than me ... if they do then you can look for that symbol.</p>

<h2>option 2: read the code </h2>

<p>just look at the code this will give you a pretty good idea... realistically, your only interested in large objects like buffers...</p>

<p>(note: Ive not reviewed the code in the upcoming release, this may or may not be changing)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='SRAM amount single object'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/akirasrebirth.html'><b itemprop='author'>akirasrebirth</b></a>
           
           <time datetime='2017-08-21T17:39:58Z' itemprop='datePublished'>
             2017-08-21 17:39:58 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thx guys <br><a class="mention" href="../../u/theslowgrowth-2.html">@TheSlowGrowth</a> this is what I do now ... looking for a simpler technique <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br><a class="mention" href="../../u/thetechnobear.html">@thetechnobear</a> ... no simpler way? <br>It would be nice to have the sdram size in the description of every object.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='SRAM amount single object'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2017-08-21T19:23:12Z' itemprop='datePublished'>
             2017-08-21 19:23:12 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="4" data-topic="3622"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/akirasrebirth/40/2529_1.png" class="avatar">akirasrebirth:</div>
<blockquote><p><a class="mention" href="../../u/thetechnobear.html">@thetechnobear</a> ... no simpler way?</p></blockquote></aside>

<p>no, otherwise,  i would have given it to you <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"> </p>

<p>sdram, is different again btw.</p>

<p>generally, objects only take up a bit of sram, its only things like delay/tables etc that use significant memory, and then you specify it... so you kind of know the overall footprint.... and generally the solution is to move to sdram variants, so you need to then find these objects anyway.</p>

<p>dont get me wrong, I know it would be nice, and perhaps when we 'go live' we could report the current patch sram usage, so at least as you can build it, you can see it going up.</p>

<p>... also I think there is a change in the new release which might help, but Ive not looked close enough to see exactly what its reporting to say it will solve your issue.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='SRAM amount single object'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/sram-amount-single-object/3622 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:20:15 GMT -->
</html>
