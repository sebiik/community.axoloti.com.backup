<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Polyphony limited even with nearly half CPU still available - Patching - Axoloti Community</title>
    <meta name="description" content="I&amp;#39;m building a big synth to be played (notes) via din MIDI, and manipulations (cc) made by Launchcontrol XL. I can map everything fine, and I have two instances of the same subpatch in the parent to enable me to switch b&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.7.0.beta7 - https://github.com/discourse/discourse version 603fa685f0086b40056d455ededa374918340b53">
<link rel="icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="https://sebiik.github.io/community.axoloti.com.backup/t/polyphony-limited-even-with-nearly-half-cpu-still-available/1959" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://sebiik.github.io/community.axoloti.com.backup/opensearch.xml" title="Axoloti Community Search">

        <link href="/stylesheets/desktop_405354db95663f2b68da4fada599aef571c9ac0e.css?__ws=community.axoloti.com" media="all" rel="stylesheet" />
      
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Polyphony limited even with nearly half CPU still available&#39;" href="https://sebiik.github.io/community.axoloti.com.backup/t/polyphony-limited-even-with-nearly-half-cpu-still-available/1959.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/100/6_1.png" />
<meta property="og:image" content="http://community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/100/6_1.png" />
<meta property="og:url" content="http://community.axoloti.com/t/polyphony-limited-even-with-nearly-half-cpu-still-available/1959/2" />
<meta name="twitter:url" content="http://community.axoloti.com/t/polyphony-limited-even-with-nearly-half-cpu-still-available/1959/2" />
<meta property="og:title" content="Polyphony limited even with nearly half CPU still available" />
<meta name="twitter:title" content="Polyphony limited even with nearly half CPU still available" />
<meta property="og:description" content="Try with 1.0.10 if your not already on it    It&#39;s also possible it could be a memory issue rather than CPU. Trying reducing number of presets and modulation sources in patch settings.    Hard to say without patch, and also I don&#39;t know how Beats object works/scales." />
<meta name="twitter:description" content="Try with 1.0.10 if your not already on it    It&#39;s also possible it could be a memory issue rather than CPU. Trying reducing number of presets and modulation sources in patch settings.    Hard to say without patch, and also I don&#39;t know how Beats object works/scales." />

  </head>
  <body class="crawler">
      
    <header>
      <a href="/"><img src="/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="/t/polyphony-limited-even-with-nearly-half-cpu-still-available/1959">Polyphony limited even with nearly half CPU still available</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="/c/patching" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>



<hr>


  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/brucewallace'><b itemprop='author'>brucewallace</b></a>
           
           <time datetime='2016-07-06T14:10:00Z' itemprop='datePublished'>
             2016-07-06 14:10:00 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm building a big synth to be played (notes) via din MIDI, and manipulations (cc) made by Launchcontrol XL. I can map everything fine, and I have two instances of the same subpatch in the parent to enable me to switch between mono/poly performance.</p>

<p>The problem I'm encountering is, even though the CPU reaches just 55% with 4 voices in one subpatch and 1 voice in the other, whenever I try to increase voices on the poly subpatch (I'd ideally like 6-note poly) the patcher disconnects because it takes too long to go live.</p>

<p>I've noticed the oscillators I'm using (2 of beat's 'Multiwave' in each voice) makes the CPU change by about 5% depending on what waveform I select. Could this fluctuation be causing the issue? I realise with the polyphony I want I'd be using 14 instances of the same (slightly unstable?) oscillator.</p>

<p>Thanks for reading - I really hope there's a fix</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-07-06T18:36:12Z' itemprop='datePublished'>
             2016-07-06 18:36:12 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Try with 1.0.10 if your not already on it </p>

<p>It's also possible it could be a memory issue rather than CPU. Trying reducing number of presets and modulation sources in patch settings. </p>

<p>Hard to say without patch, and also I don't know how<br>Beats object works/scales.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/brucewallace'><b itemprop='author'>brucewallace</b></a>
           
           <time datetime='2016-07-06T19:23:36Z' itemprop='datePublished'>
             2016-07-06 19:23:36 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks for the reply. I was considering tinkering with the preset settings/mod sources. What does it mean by modulation sources? I'm doing all of my control from the parent patch with all needed parameters on the parent, so does that mean I can set presets and mod sources in the subpatch to zero and it wouldn't matter when using presets on the parent patch?</p>

<p>I want to save 8 presets to be recalled by buttons on the Launchcontrol. This is the last thing I need to add so I haven't researched presets in a lot of depth yet.</p>

<p>Here is the patch (bigman) and subpatch (doubleMW). I can only apologise for how messy some of it is! Still not sure I'm doing everything the most efficient way.</p>

<p><a class="attachment" href="//community.axoloti.com/uploads/default/original/2X/4/4125921494f45402bc9cd48f8245596a10a90506.axp">bigman.axp</a> (26.4 KB)<br><a class="attachment" href="//community.axoloti.com/uploads/default/original/2X/6/6eefa565e3ff07e4db737dcbc52acc37c81cc8c4.axs">doubleMW.axs</a> (27.5 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/brucewallace'><b itemprop='author'>brucewallace</b></a>
           
           <time datetime='2016-07-06T19:24:12Z' itemprop='datePublished'>
             2016-07-06 19:24:12 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Oh, and I'm using 1.0.10</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-07-06T22:28:04Z' itemprop='datePublished'>
             2016-07-06 22:28:04 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ok, I took a look it something to do with the 'extreme' number of dials that are used in the sub patches.<br>it appears to be taking a long time to start the patch due to this... i.e. if I delete a bunch of them its starts working.</p>

<p>perhaps try using constants instead of dials where you are not exposing to the parent since they cannot be changed. this would be much more efficient for the patch, and use less cpu too.</p>

<p><a class="mention" href="/users/johannes">@johannes</a>, quite interesting, looks like the watchdog is assuming the patch is having issues.<br>I guess its probably not the most efficient, since there are so many dials which are essentially constants.<br>... not sure if the timeout perhaps could be a patch option on startup? or if its worth exploring what is taking so much time at startup.</p>

<p>to make it easier for you to test (open via url) I've embedded the voice patch.</p>

<p><a class="attachment" href="//community.axoloti.com/uploads/default/original/2X/9/9abfd24d2f26c5226970cef0de27e2d6ae27a091.axp">bigman_emb.axp</a> (91.3 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/brucewallace'><b itemprop='author'>brucewallace</b></a>
           
           <time datetime='2016-07-06T22:54:38Z' itemprop='datePublished'>
             2016-07-06 22:54:38 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You are so helpful, thank you for such quick testing/response. As you can see (I assume) most of the dials are cc assigned so they are actually being used, so constants are not an option for the most part. What this makes me wonder though, is - will creating inlets instead of knobs for the subpatch object be less (or more) axo-intensive?</p>

<p>I know very little about what makes the patch efficient or otherwise. Thanks again for your help</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-07-07T15:04:14Z' itemprop='datePublished'>
             2016-07-07 15:04:14 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="6" data-topic="1959"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/letter_avatar_proxy/v2/letter/b/da6949/40.png" class="avatar">brucewallace:</div>
<blockquote><p>You are so helpful, thank you for such quick testing/response. As you can see (I assume) most of the dials are cc assigned so they are actually being used, so constants are not an option for the most part. </p></blockquote></aside>

<p>actually there are still quite a few dials in your sub patch that are not assigned to CCs. <img src="/images/emoji/emoji_one/slight_smile.png?v=2" title=":slight_smile:" class="emoji" alt=":slight_smile:"> </p>

<p><aside class="quote"><blockquote><p>What this makes me wonder though, is - will creating inlets instead of knobs for the subpatch object be less (or more) axo-intensive?</p></blockquote></aside></p>

<p>anything you put it a polyphonic voice is duplicated, so only include in the voice patch anything that changes per voice, anything that is the same for all voices should be outside, and as you said fed through via inlet/outlets. <br>(also watch out for not only cpu load, but also memory/resource wastage)</p>

<p>also consider 'nothing is for free', so you can assume constants (attributes in axoloti, i.e. things you cannot alter when live)  are much more efficient due to the compiler being able to optimise code paths. <br>unfortunately UI components like dials/switches can never be optimised by the compiler since although you might have no intention of changing the value the compiler does not know this<br>(hmm given me an idea for johannes <img src="/images/emoji/emoji_one/slight_smile.png?v=2" title=":slight_smile:" class="emoji" alt=":slight_smile:"> )  </p>

<p>with audio processing and particular with axoloti efficiency is important, and if your are building anything 'complex' its worth considering, and trying to be efficient as you 'go along'<br>of course, practically we don't always do this, out of convenience  or due to limitations etc, but its worth at least worth doing this consciously.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/brucewallace'><b itemprop='author'>brucewallace</b></a>
           
           <time datetime='2016-07-07T15:52:12Z' itemprop='datePublished'>
             2016-07-07 15:52:12 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I see what you mean now - the knobs IN the subpatch which are just being used to scale or set values. I'll go tweak accordingly. Thanks again for the info!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/brucewallace'><b itemprop='author'>brucewallace</b></a>
           
           <time datetime='2016-07-14T08:15:01Z' itemprop='datePublished'>
             2016-07-14 08:15:01 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Changing knobs to constants worked, by the way. It can go 6 voice poly no problem now!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='/'>Home</a>
        <a href="/categories">Categories</a>
        <a href="/guidelines">FAQ/Guidelines</a>
        <a href="/tos">Terms of Service</a>
        <a href="/privacy">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="http://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
      
  </body>
  
</html>
