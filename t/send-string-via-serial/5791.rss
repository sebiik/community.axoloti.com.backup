<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Send String via Serial</title>
    <link>http://community.axoloti.com/t/send-string-via-serial/5791</link>
    <description>how would I send a string like
&quot;track1:2323;&quot; 
via Serial?

sdPut(&amp;SD2, &quot;track1:2323;&quot; ); 

gives me a error.</description>
    
    <lastBuildDate>Mon, 24 Jun 2019 14:29:55 +0000</lastBuildDate>
    <category>Patching</category>
    <atom:link href="http://community.axoloti.com/t/send-string-via-serial/5791.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@tele_player]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/tele_player">@tele_player</a> wrote:</p>
          <blockquote>
              <p>As lokki wrote, reducing the amount of data can be useful, but it’s not the complete  solution.</p>

<p>Reliable serial data between systems needs full understanding of what’s happening on both sender and receiver, buffer sizes, blocking or non-blocking drivers, checking return codes, etc. Even then, it’s sometimes necessary to use message framing and CRC checking to eliminate spurious messages.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/18">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/18</link>
        <pubDate>Mon, 24 Jun 2019 14:29:55 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-18</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@Captain_Burek Daniel Büring]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/captain_burek">@Captain_Burek</a> wrote:</p>
          <blockquote>
              <p><a class="mention" href="/u/admiralcrunch">@AdmiralCrunch</a>: i believe the string/indexed object is what you're looking for.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/17">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/17</link>
        <pubDate>Mon, 24 Jun 2019 13:27:27 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-17</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>glad it works!</p>

<p>but it kind of confirms my initial statement...</p>

<p>you are sending 6 bytes at a time, where you could probably get away with 2 or 3, thus eliminating the buffer overrun in the first place</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/16">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/16</link>
        <pubDate>Mon, 24 Jun 2019 12:07:02 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-16</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@AdmiralCrunch]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/admiralcrunch">@AdmiralCrunch</a> wrote:</p>
          <blockquote>
              <p>that did it somehow..</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/15">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/15</link>
        <pubDate>Mon, 24 Jun 2019 11:16:30 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-15</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@tele_player]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/tele_player">@tele_player</a> wrote:</p>
          <blockquote>
              <p>Does increasing the chThdSleepMilliseconds(3) have any effect? I suspect you're seeing buffer overrun.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/14">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/14</link>
        <pubDate>Thu, 20 Jun 2019 03:07:04 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-14</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@AdmiralCrunch]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/admiralcrunch">@AdmiralCrunch</a> wrote:</p>
          <blockquote>
              <p>I cant find this f to s converter.. do you know ne name?</p>

<p>I try sendig static values for now, but something still is a little "broken" ..  </p>

<p>On Axoliti I do:</p>

<pre><code>void setup(void) {
} 

void loop(void) {

  char data[] = "t1:222;";
  char data2[] = "t2:444;";	

  sdWrite(&amp;SD2, (uint8_t *) data, strlen(data));
  sdWrite(&amp;SD2, (uint8_t *) data2, strlen(data2));	

  while(!sdGetWouldBlock(&amp;SD2)) {
	out1 = sdGet(&amp;SD2)&lt;&lt;21;	
  }

  chThdSleepMilliseconds(3);
}</code></pre>

<p>.. and on Arduino I do simply:</p>

<pre><code>if(Serial.available()) {              
   cmd = Serial.readStringUntil(';');
   Serial.println(cmd);
}</code></pre>

<p>.. now look what I get:</p>

<blockquote>
<p>2t1:222<br>t2:444<br>t1:222<br>t2:444<br>t1:222<br>t2:444<br>t1:222<br>t2:444<br>t1:222<br>t2:444<br>:222<br>t2t1:222<br>44<br>t1:2:444<br>t1t2:444<br>22<br>t2:4:222<br>t2<br>t1:22244<br>t1:22:444<br>t2:444<br>t222t1:222<br>t24<br>t1:222<br>44<br>2:444<br>t1:2:4<br>t2:444<br>t2<br>t2:444<br>t:222<br>t21:222<br>t2:44<br>t1:44<br>t1:2444:444<br>tt2:444<br>t2:444</p>
<p>t2<br>t2:444t2:4442:444<br>t1444<br>t14<br>t1:2t1:222<br>t2:44t2:444<br>t<br>t1:222tt1:2:444<br>t1:222<br>t2:4422<br>t2:<br>t1:2:444<br>t1:222:444<br>t1:2222:2:444<br>t1:222<br>t2:2:444<br>t:444<br>t1:222<br>44<br>t1:222<br>t2:444<br>t1:1:222<br>t2:444<br>t</p>
</blockquote>

<p>what could cause this. I do communicate between multiple Arduinos/Teensys on other projects without problems. -.-</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/13">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/13</link>
        <pubDate>Wed, 19 Jun 2019 09:30:16 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-13</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>you will need to convert it to a string. there are f to s converters in the community library i think, so maybe look at those.</p>

<p>generally i would advice you though to send as little data as possible through serial and convert it to a string on the arduino. track1: 343 could just be 1 343 for example. you will have to figure a scheme out for yourself but pretty much everything will be better then sending the full ascii characters <img src="//community.axoloti.com/images/emoji/twitter/slight_smile.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/12">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/12</link>
        <pubDate>Tue, 18 Jun 2019 06:49:25 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-12</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@AdmiralCrunch]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/admiralcrunch">@AdmiralCrunch</a> wrote:</p>
          <blockquote>
              <p>No, it is a integer.</p>

<p>I get some values at both inlets of the script/script2-object. Now I need to send them to the Arduino like</p>

<pre><code>track1:343;
track2:432;</code></pre>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/11">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/11</link>
        <pubDate>Mon, 17 Jun 2019 23:14:52 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-11</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>is it a string inlet?</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/10">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/10</link>
        <pubDate>Mon, 17 Jun 2019 04:48:21 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-10</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@AdmiralCrunch]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/admiralcrunch">@AdmiralCrunch</a> wrote:</p>
          <blockquote>
              <p>I DID IT !! <img src="//community.axoloti.com/images/emoji/twitter/smiley.png?v=5" title=":smiley:" class="emoji" alt=":smiley:"></p>

<pre><code>    char data[] = "x/Hello World!;";
    sdWrite(&amp;SD2, (uint8_t *) data, strlen(data));</code></pre>

<p>but how would I get the value of my inlet1 (in1) into this char-array? ..</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/9">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/9</link>
        <pubDate>Sun, 16 Jun 2019 23:23:16 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-9</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@AdmiralCrunch]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/admiralcrunch">@AdmiralCrunch</a> wrote:</p>
          <blockquote>
              <p>Hi</p>

<p>I get the same error:</p>

<p><em>error: invalid conversion from 'const char*' to 'const uint8</em>t* {aka const unsigned char*}' [-fpermissive]_</p>

<p>while doing</p>

<p>sdWrite(&amp;SD2, "comeOn", 32);</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/8">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/8</link>
        <pubDate>Sun, 16 Jun 2019 22:28:03 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-8</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@cpwitz Peter Witzel]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/cpwitz">@cpwitz</a> wrote:</p>
          <blockquote>
              <p>Hi, try with</p>

<p>sdWrite(&amp;SD2, text, 32);</p>

<p>Number "32" is the length of bytes to be sent. It's mandatory. sdWrite doesn't care about a string's terminating 0-byte.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/7">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/7</link>
        <pubDate>Sun, 16 Jun 2019 21:50:31 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-7</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@tele_player]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/tele_player">@tele_player</a> wrote:</p>
          <blockquote>
              <p>Of course you can send a string. If there's nothing which specifically handles sending a string, create a loop which iterates through the string, sending one character at a time.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/6">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/6</link>
        <pubDate>Sun, 16 Jun 2019 21:19:31 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-6</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@AdmiralCrunch]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/admiralcrunch">@AdmiralCrunch</a> wrote:</p>
          <blockquote>
              <p>hmm.. is it possible to send strings here? <br>I can send strings through serial from a arduino, so..</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/5">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/5</link>
        <pubDate>Sun, 16 Jun 2019 20:58:35 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-5</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@AdmiralCrunch]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/admiralcrunch">@AdmiralCrunch</a> wrote:</p>
          <blockquote>
              <p>C:\PROGRA~2\Axoloti\app/chibios/os/kernel/include/chqueues.h:312:61: error: invalid conversion from 'const char*' to 'uint8_t {aka unsigned char}' [-fpermissive]<br> <span class="hashtag">#define</span> chOQPut(oqp, b) chOQPutTimeout(oqp, b, TIME_INFINITE)<br>                                                             ^<br>C:\PROGRA~2\Axoloti\app/chibios/os/hal/include/serial.h:183:23: note: in expansion of macro 'chOQPut'<br> <span class="hashtag">#define</span> sdPut(sdp, b) chOQPut(&amp;(sdp)-&gt;oqueue, b)<br>                       ^<br>C:\Users\ADMINA~1\DOCUME~1\axoloti/build/xpatch.cpp:95:2: note: in expansion of macro 'sdPut'<br>  sdPut(&amp;SD2, "fsdsdf"); <br>  ^<br>C:\PROGRA~2\Axoloti\app/chibios/os/kernel/include/chqueues.h:365:9: note: initializing argument 2 of 'msg_t chOQPutTimeout(OutputQueue*, uint8_t, systime_t)'<br>   msg_t chOQPutTimeout(OutputQueue *oqp, uint8_t b, systime_t time);<br>         ^<br>make: *** [C:\Users\ADMINA~1\DOCUME~1\axoloti/build/xpatch.bin] Error 1<br>shell task failed, exit value: 1<br>Compiling patch failed ( C:\Users\adminator\Documents\axoloti\axoloti-factory\objects\gpio\serial\serial.axh )</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/4">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/4</link>
        <pubDate>Sun, 16 Jun 2019 20:57:41 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-4</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@tele_player]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/tele_player">@tele_player</a> wrote:</p>
          <blockquote>
              <p>My guess is that sdPut expects a single byte as the second argument, not a pointer to a string.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/3">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/3</link>
        <pubDate>Sun, 16 Jun 2019 15:27:17 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-3</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@lokki]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/lokki">@lokki</a> wrote:</p>
          <blockquote>
              <p>what is the error you get?</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/2">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/2</link>
        <pubDate>Sun, 16 Jun 2019 05:39:56 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-2</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
      <item>
        <title>Send String via Serial</title>
        <dc:creator><![CDATA[@AdmiralCrunch]]></dc:creator>
        <description><![CDATA[
          <p><a href="http://community.axoloti.com/u/admiralcrunch">@AdmiralCrunch</a> wrote:</p>
          <blockquote>
              <p>how would I send a string like<br>"track1:2323;" <br>via Serial?</p>

<p>sdPut(&amp;SD2, "track1:2323;" ); </p>

<p>gives me a error.</p>
          </blockquote>
          <p><a href="http://community.axoloti.com/t/send-string-via-serial/5791/1">Read full topic</a></p>
        ]]></description>
        <link>http://community.axoloti.com/t/send-string-via-serial/5791/1</link>
        <pubDate>Sat, 15 Jun 2019 21:51:42 +0000</pubDate>
        <guid isPermaLink="false">community.axoloti.com-post-5791-1</guid>
        <source url="http://community.axoloti.com/t/send-string-via-serial/5791.rss">Send String via Serial</source>
      </item>
  </channel>
</rss>
