<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/cheap-hook-for-15-potentiometers/4456 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:03:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>‚ÄúCheap‚Äù Hook for 15 potentiometers - Patching - Axoloti Community</title>
    <meta name="description" content="Hi all, 

I have a pretty full patch that I‚Äôd like to control using 15 potentiometers, with a switch to go between an ‚ÄúA‚Äù state and a ‚ÄúB‚Äù state - therefore giving 30 controllable parameters. Using the Hook object is a gr&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="4456.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;‚ÄúCheap‚Äù Hook for 15 potentiometers&#39;" href="4456.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/cheap-hook-for-15-potentiometers/4456" />
<meta name="twitter:url" content="http://community.axoloti.com/t/cheap-hook-for-15-potentiometers/4456" />
<meta property="og:title" content="‚ÄúCheap‚Äù Hook for 15 potentiometers" />
<meta name="twitter:title" content="‚ÄúCheap‚Äù Hook for 15 potentiometers" />
<meta property="og:description" content="Hi all,   I have a pretty full patch that I‚Äôd like to control using 15 potentiometers, with a switch to go between an ‚ÄúA‚Äù state and a ‚ÄúB‚Äù state - therefore giving 30 controllable parameters. Using the Hook object is a great way of doing this for a few, but for 15 it starts to get pretty big and sucks a lot of SRAM. Is there an easier/cheaper way of ‚ÄúHooking‚Äù 15 different pot inputs?   While I‚Äôm at it, is there a way to implement a ‚Äúsoft‚Äù hook? Similar to the relative pickup mode in Ableton?" />
<meta name="twitter:description" content="Hi all,   I have a pretty full patch that I‚Äôd like to control using 15 potentiometers, with a switch to go between an ‚ÄúA‚Äù state and a ‚ÄúB‚Äù state - therefore giving 30 controllable parameters. Using the Hook object is a great way of doing this for a few, but for 15 it starts to get pretty big and sucks a lot of SRAM. Is there an easier/cheaper way of ‚ÄúHooking‚Äù 15 different pot inputs?   While I‚Äôm at it, is there a way to implement a ‚Äúsoft‚Äù hook? Similar to the relative pickup mode in Ableton?" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="3 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="7 ‚ù§" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="4456.html">‚ÄúCheap‚Äù Hook for 15 potentiometers</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/patching.html" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/mlbstrd.html'><b itemprop='author'>mlbstrd</b></a>
           
           <time datetime='2018-04-13T15:01:25Z' itemprop='datePublished'>
             2018-04-13 15:01:25 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi all,</p>

<p>I have a pretty full patch that I‚Äôd like to control using 15 potentiometers, with a switch to go between an ‚ÄúA‚Äù state and a ‚ÄúB‚Äù state - therefore giving 30 controllable parameters. Using the Hook object is a great way of doing this for a few, but for 15 it starts to get pretty big and sucks a lot of SRAM. Is there an easier/cheaper way of ‚ÄúHooking‚Äù 15 different pot inputs?</p>

<p>While I‚Äôm at it, is there a way to implement a ‚Äúsoft‚Äù hook? Similar to the relative pickup mode in Ableton?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='‚ÄúCheap‚Äù Hook for 15 potentiometers'>
      <hr>
            <a href="../what-should-a-standard-metal-enclosure-look-like/6923/6.html">What should a standard metal enclosure look like?</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2018-04-13T15:32:34Z' itemprop='datePublished'>
             2018-04-13 15:32:34 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>the first thing to do would be to remove the UI control, this is not needed when used in conjunction with pots, then you use a 'hook inlet' , to tell it the hook state has changed - you could also use a int8_t for the state variables, which will save a bunch more.</p>

<p>from there, gets more complex, you could create an object which has many hooks in one object, assuming a/b are global to them all. by doing this there are various optimisations you can make - e.g. combining the states into 2 bit variables, one hook/unhook inlet.</p>

<aside class="quote" data-post="1" data-topic="4456"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../letter_avatar_proxy/v2/letter/m/a9adbd/40.png" class="avatar">mlbstrd:</div>
<blockquote><p>While I‚Äôm at it, is there a way to implement a ‚Äúsoft‚Äù hook? Similar to the relative pickup mode in Ableton?</p></blockquote></aside>

<p>anything is possible, can you describe this better,  ive not played with this in Live.<br>are you talking about what the manual calls "Value Scaling" mode?</p>

<p>(i thought relative, was the mode used by encoders, were it sends changes rather than absolute values)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='‚ÄúCheap‚Äù Hook for 15 potentiometers'>
      <hr>
            <a href="../ambient-patches/7215/4.html">Ambient patches</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/mlbstrd.html'><b itemprop='author'>mlbstrd</b></a>
           
           <time datetime='2018-04-14T00:59:03Z' itemprop='datePublished'>
             2018-04-14 00:59:03 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ahhh right, so removing the UI stuff is best. What's the best way to do this without errors? If I just remove the Parameter from it's respective page, I get an error code. I've had this problem before when trying to replace a param with an inlet, or simply adding an inlet. I read the "Hacking an object 101" thread but it seems to only work that simply in some cases. This is the error I received after removing the knob in the hook object:</p>

<p>Start compiling patch<br>Compiling patch... with /Applications/Axoloti.app/Contents/Java/firmware<br>BDIR = /Users/mitchadmin/Documents/axoloti/build<br>FIRMWARE = .<br>RM<br>APP<br>! /Users/mitchadmin/Documents/axoloti/build/xpatch.h.gch<br>/Users/mitchadmin/Documents/axoloti/build/xpatch.cpp: In member function 'void rootc::instancehook__1::dsp(int32_t, bool, int32_t&amp;, bool&amp;)':<br>/Users/mitchadmin/Documents/axoloti/build/xpatch.cpp:123:15: error: 'param_value' was not declared in this scope<br>  outlet_out = param_value;<br>               ^<br>/Users/mitchadmin/Documents/axoloti/build/xpatch.cpp:142:21: error: 'param_value' was not declared in this scope<br>  if (param_cache != param_value) <br>                     ^<br>/Users/mitchadmin/Documents/axoloti/build/xpatch.cpp:145:37: error: 'PARAM_INDEX_hook__1_value' was not declared in this scope<br>   PExParameterChange(&amp;parent-&gt;PExch[PARAM_INDEX_hook__1_value],inlet_in,0xFFFD);<br>                                     ^<br>make: *** [/Users/mitchadmin/Documents/axoloti/build/xpatch.bin] Error 1<br>shell task failed, exit value: 2<br>Compiling patch failed ( untitled ) </p>

<aside class="quote" data-post="2" data-topic="4456"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/thetechnobear/40/6_1.html" class="avatar">thetechnobear:</div>
<blockquote><p>Value Scaling</p></blockquote></aside>

<p>Yep - this is actually what I referring too, I got confused with something else. Any way of implementing this?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='‚ÄúCheap‚Äù Hook for 15 potentiometers'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2018-04-14T09:16:42Z' itemprop='datePublished'>
             2018-04-14 09:16:42 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>yeah, you'll need to do more than just remove the parameter , you'll need to adjust the code too. essentially all you need to do is replace the param_value with a local uint32t, which is just storing the hooked value. the PExParameterChange then just becomes a simple assignment.<br>(basically the parameter display is being used to also hold the hooked value)</p>

<p>value scaling, id need to have a look at exactly how it works as i don't use it.<br>but i think the general idea is rather than absolute locking, when its unhooked, you basically start moving the hooked value close to the incoming value.<br>(I'm not sure if this is just as you move the knob, or if there is also a time smoothing used too... i.e. does the hooked value, slowly move to the new value if your not turning it still - this is what id need to play with in Live to see how it feels/works)</p>

<p>its not really any more difficult to implement, if anything its possibly simpler since you don't need to maintain a complex hook state, you simply need to need to make the internal value move slowly to the real value.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='‚ÄúCheap‚Äù Hook for 15 potentiometers'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/mlbstrd.html'><b itemprop='author'>mlbstrd</b></a>
           
           <time datetime='2018-09-23T08:45:25Z' itemprop='datePublished'>
             2018-09-23 08:45:25 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey <a class="mention" href="../../u/thetechnobear.html">@thetechnobear</a> - I'm just returning back to this after a good few months away.</p>

<p>I still can't wrap my head around what I need to do, and where, to remove the UI stuff from the Hook object. It's just beyond me.</p>

<p>Any chance you could make one for me? It'd be nice to be able to compare a modded one to the original, so I can visualise the coding differences. Might make hacking other objects a little bit easier.</p>

<p>All good if you're too busy though!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='‚ÄúCheap‚Äù Hook for 15 potentiometers'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Captain_Burek.html'><b itemprop='author'>Captain_Burek</b></a>
           
           <time datetime='2018-09-23T10:24:14Z' itemprop='datePublished'>
             2018-09-23 10:24:14 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Try the patch below. I found that the cheapest way is to map the pots to midi cc, even if that means less resolution. But you can also get the unrounded values from the outlets.</p>

<p><a class="attachment" href="../../uploads/default/original/2X/6/15%20control.axp">15 control.axp</a> (10.5 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='‚ÄúCheap‚Äù Hook for 15 potentiometers'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/mlbstrd.html'><b itemprop='author'>mlbstrd</b></a>
           
           <time datetime='2018-09-23T13:43:53Z' itemprop='datePublished'>
             2018-09-23 13:43:53 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey <a class="mention" href="../../u/captain_burek-2.html">@Captain_Burek</a>, I'm probably showing my supreme coding/DSP ignorance here - but I have literally no idea how to rig up that patch you've provided! I'm a novice when it comes to tables in particular, aside from knowing that they store/read data - I can't see how the patch would function as a 15-way "hook" though? Where would I hook up the GPIO inputs, for example? Or the switch to go between two lots of stored data?</p>

<p>Apologies for the rudimentary questions, this stuff really doesn't sink into my brain for some reason...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='‚ÄúCheap‚Äù Hook for 15 potentiometers'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Captain_Burek.html'><b itemprop='author'>Captain_Burek</b></a>
           
           <time datetime='2018-09-23T14:00:29Z' itemprop='datePublished'>
             2018-09-23 14:00:29 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sorry. The GPIO inputs are already in the object. If you hook up pots to the analog inputs on the axo board, the patch that i posted will display them.</p>

<p>To switch, add 15/30/45 etc to the offset inlet of the reader object. Just make sure that the table is at least as big as the total number of values you want to store.</p>

<p>You can get the values of your 15/30/45 parameters on the `value' outlet, but in that case you have to use a giant muxer to distribute the value output to your 15/30/... outlets, according to the 'ccNo'outlet.</p>

<p>The easier way is via Midi cc, which the object sends internally. In the 'map' attribute you just give it a list of 15/30/45... cc numbers between 1 and 128 to which the gpio analog inputs 1-15 (and if you use offsets, 16-30, 31-45 etc) should be sent. You can then use MIDI CC on any controller object, or use a MIDI/in/cc object, as i did in the patch, to get the value of any cc.</p>

<p>Does that help, and will it do what you want to?</p>

<p>Here's a (hopefully) more self-explanatory version of the patch.</p>

<p><a class="attachment" href="../../uploads/default/original/2X/a/15%20control.axp">15 control.axp</a> (15.8 KB)</p>

<p>ps: corrected a bug in the patch</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='‚ÄúCheap‚Äù Hook for 15 potentiometers'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Jens_Groh-2.html'><b itemprop='author'>Jens_Groh</b></a>
           
           <time datetime='2019-02-16T11:41:11Z' itemprop='datePublished'>
             2019-02-16 11:41:11 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I found that I don't like the dead movements behavior of the "hook" function much more than values that jump. <br>So I created my own solution. I had to sacrifice one-to-one tracking behavior though. <br>It is a sub patch (plus help file), so you can look and learn (and modify). I called it "softhook". <br>It may be what you were looking for. </p>

<p><a class="attachment" href="../../uploads/default/original/2X/9/softhook.axh">softhook.axh</a> (3.4 KB)<br><a class="attachment" href="../../uploads/default/original/2X/0/softhook.axs">softhook.axs</a> (5.0 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:2'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='‚ÄúCheap‚Äù Hook for 15 potentiometers'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Jens_Groh-2.html'><b itemprop='author'>Jens_Groh</b></a>
           
           <time datetime='2019-02-17T07:51:12Z' itemprop='datePublished'>
             2019-02-17 07:51:12 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>And a bipolar version.</p>

<p><a class="attachment" href="../../uploads/default/original/2X/a/softhook.axh">softhook.axh</a> (5.7 KB)<br><a class="attachment" href="../../uploads/default/original/2X/0/softhookbip.axs">softhookbip.axs</a> (5.6 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:3'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='‚ÄúCheap‚Äù Hook for 15 potentiometers'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Jens_Groh-2.html'><b itemprop='author'>Jens_Groh</b></a>
           
           <time datetime='2021-02-21T19:55:57Z' itemprop='datePublished'>
             2021-02-21 19:55:57 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Someone just asked me to explain how "softhook" works. So:</p>

<p>It is not possible to understand "softhook" without being aware of the Axoloti execution order, which I am exploiting at two places, see below. Used the right way, it allows to access a value of the previous control-rate cycle. <br>1. The "to f" object to_1 is executed before the "inlet f". Thus, at its output we have the previous-cycle inlet value. I am using this to detect the input value changes. The value-change signal will be much too short to be seen on a disp/dial object, though: It's 1 cycle = 1/3 ms long, after which it will be zero again.<br>2. The feedback loop of "mux" mux_1 creates a value storage (or memory). Without input change, its value cycles in the loop all the time. At input changes, positive or negative, the cycled value is being increased or decreased, respectively. The amount of increase or decrease ist determined by suitably scaling the input change (that's the "soft" in softhook). <br>(The second "to f" object does not have any effect, btw, just makes it look a bit more clear.)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:2'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='‚ÄúCheap‚Äù Hook for 15 potentiometers'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/cheap-hook-for-15-potentiometers/4456 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:03:47 GMT -->
</html>
