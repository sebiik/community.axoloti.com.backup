<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/fresh-installation-on-ubuntu-18-04-3-compilation-of-patches-fails-int-rand-was-declared-extern-and-later-static/6145 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:37:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39; - Software - Axoloti Community</title>
    <meta name="description" content="Hello there! 

I installed the latest release (axoloti-linux-1.0.12-2.deb) of the Axoloti software via dpkg on Ubuntu 18.04.3 LTS. The Software starts fine, asked me to upgrade the firmware on the Axoloti (Version 1.0 fi&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="6145.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;&#39;" href="6145.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/fresh-installation-on-ubuntu-18-04-3-compilation-of-patches-fails-int-rand-was-declared-extern-and-later-static/6145" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/fresh-installation-on-ubuntu-18-04-3-compilation-of-patches-fails-int-rand-was-declared-extern-and-later-static/6145" />
<meta property="og:title" content="Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;" />
<meta name="twitter:title" content="Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;" />
<meta property="og:description" content="Hello there!   I installed the latest release (axoloti-linux-1.0.12-2.deb) of the Axoloti software via dpkg on Ubuntu 18.04.3 LTS. The Software starts fine, asked me to upgrade the firmware on the Axoloti (Version 1.0 first batch) which also worked fine.    The software can connect to the Axoloti, but when I try to run any of the supplied demo patches I always get the same error about the rand() function being redeclared, one time &#39;extern&#39; and one time &#39;static&#39;.   An hints and help would be appr..." />
<meta name="twitter:description" content="Hello there!   I installed the latest release (axoloti-linux-1.0.12-2.deb) of the Axoloti software via dpkg on Ubuntu 18.04.3 LTS. The Software starts fine, asked me to upgrade the firmware on the Axoloti (Version 1.0 first batch) which also worked fine.    The software can connect to the Axoloti, but when I try to run any of the supplied demo patches I always get the same error about the rand() function being redeclared, one time &#39;extern&#39; and one time &#39;static&#39;.   An hints and help would be appr..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="4 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="3 ❤" />

      <link rel="next" href="61454658.html?page=2">

  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="6145.html">Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/software.html" itemprop="url">
        <span itemprop="title">Software</span>
      </a>
    </div>
</div>

    <div class='tags-list' itemscope itemtype='http://schema.org/ItemList'>
        <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
          <meta itemprop='url' content='../../tags/linux.html'>
          <a href='../../tags/linux.html' itemprop='item'>
            <span itemprop='name'>linux</span>
          </a>
        </div>
    </div>




<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jsilence.html'><b itemprop='author'>jsilence</b></a>
           
           <time datetime='2019-11-02T12:29:36Z' itemprop='datePublished'>
             2019-11-02 12:29:36 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello there!</p>

<p>I installed the latest release (axoloti-linux-1.0.12-2.deb) of the Axoloti software via dpkg on Ubuntu 18.04.3 LTS. The Software starts fine, asked me to upgrade the firmware on the Axoloti (Version 1.0 first batch) which also worked fine. </p>

<p>The software can connect to the Axoloti, but when I try to run any of the supplied demo patches I always get the same error about the rand() function being redeclared, one time 'extern' and one time 'static'.</p>

<p>An hints and help would be appreciated. Thanks in advance!</p>

<p>-rolf</p>

<pre><code></code></pre>

<p>Generate code complete<br>Start compiling patch<br>Compiling patch... with /opt/Axoloti/app/firmware<br>BDIR = /home/romor001/axoloti/build<br>FIRMWARE = .<br>Build precompiled header<br>arm-none-eabi-g++ -nostdlib -fno-exceptions -fno-rtti -mcpu=cortex-m4 -O3 -fomit-frame-pointer -falign-functions=16 -mfloat-abi=hard -mfpu=fpv4-sp-d16 -Wunused-parameter -DCORTEX_USE_FPU=TRUE -DTHUMB_PRESENT -mno-thumb-interwork -DTHUMB_NO_INTERWORKING -mthumb -DTHUMB -std=c++11 -DARM_MATH_CM4 -D__FPU_PRESENT -fno-math-errno -fno-threadsafe-statics -fno-use-cxa-atexit -Wno-unused-parameter -I/opt/Axoloti/app/CMSIS/Include -I/opt/Axoloti/app/CMSIS/DSP_Lib/Include -I/opt/Axoloti/app/chibios/os/ports/common/ARMCMx/CMSIS/include -I/opt/Axoloti/app/chibios/os/ports/common/ARMCMx -I/opt/Axoloti/app/chibios/os/ports/GCC/ARMCMx -I/opt/Axoloti/app/chibios/os/ports/GCC/ARMCMx/STM32F4xx -I/opt/Axoloti/app/chibios/os/kernel/include -I/opt/Axoloti/app/chibios/os/hal/include -I/opt/Axoloti/app/chibios/os/hal/platforms/STM32F4xx -I/opt/Axoloti/app/chibios/os/hal/platforms/STM32 -I/opt/Axoloti/app/chibios/os/hal/platforms/STM32/GPIOv2 -I/opt/Axoloti/app/chibios/os/hal/platforms/STM32/I2Cv1 -I/opt/Axoloti/app/chibios/os/hal/platforms/STM32/OTGv1 -I/opt/Axoloti/app/chibios/os/hal/platforms/STM32/RTCv2 -I/opt/Axoloti/app/chibios/os/hal/platforms/STM32/SPIv1 -I/opt/Axoloti/app/chibios/os/hal/platforms/STM32/TIMv1 -I/opt/Axoloti/app/chibios/os/hal/platforms/STM32/USARTv1 -I/opt/Axoloti/app/chibios/boards/ST_STM32F4_DISCOVERY -I/opt/Axoloti/app/chibios/ext/fatfs/src -I. -I/opt/Axoloti/app/chibios -I./mutable_instruments -Winvalid-pch -MD -MP -c ./xpatch.h  -o /home/romor001/axoloti/build/xpatch.h.gch<br>In file included from ./axoloti.h:24:0,<br>                 from ./xpatch.h:3:<br>./axoloti_math.h:180:0: warning: "RAND_MAX" redefined<br> <span class="hashtag">#define</span> RAND_MAX INT32_MAX</p>

<p>In file included from /usr/arm-none-eabi/include/c++/7.3.1/bits/std_abs.h:38:0,<br>                 from /usr/arm-none-eabi/include/c++/7.3.1/cmath:47,<br>                 from /usr/arm-none-eabi/include/c++/7.3.1/math.h:36,<br>                 from /usr/arm-none-eabi/include/fastmath.h:7,<br>                 from ./axoloti.h:21,<br>                 from ./xpatch.h:3:<br>/usr/arm-none-eabi/include/stdlib.h:63:0: note: this is the location of the previous definition<br> <span class="hashtag">#define</span> RAND_MAX <em>_RAND</em>MAX</p>

<p>In file included from ./axoloti.h:24:0,<br>                 from ./xpatch.h:3:<br>./axoloti_math.h: In function 'int rand()':<br>./axoloti_math.h:181:57: error: 'int rand()' was declared 'extern' and later 'static' [-fpermissive]<br> <strong>attribute</strong> ( ( always_inline ) ) <em>_STATIC</em>INLINE int rand(void) {<br>                                                         ^~~~<br>In file included from /usr/arm-none-eabi/include/c++/7.3.1/bits/std_abs.h:38:0,<br>                 from /usr/arm-none-eabi/include/c++/7.3.1/cmath:47,<br>                 from /usr/arm-none-eabi/include/c++/7.3.1/math.h:36,<br>                 from /usr/arm-none-eabi/include/fastmath.h:7,<br>                 from ./axoloti.h:21,<br>                 from ./xpatch.h:3:<br>/usr/arm-none-eabi/include/stdlib.h:140:5: note: previous declaration of 'int rand()'<br> int rand (void);<br>     ^~~~<br>Makefile.patch:53: recipe for target '/home/romor001/axoloti/build/xpatch.h.gch' failed<br>make: *** [/home/romor001/axoloti/build/xpatch.h.gch] Error 1<br>shell task failed, exit value: 2<br>Compiling patch failed ( /home/romor001/axoloti/axoloti-factory/patches/demos/synth/dreamy.axp )</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jsilence.html'><b itemprop='author'>jsilence</b></a>
           
           <time datetime='2019-11-02T12:49:30Z' itemprop='datePublished'>
             2019-11-02 12:49:30 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I commented out the rand() function in axoloti_math.h and now compilation of the patches works. <br>Still it would be nice to understand what the root cause of this is.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2019-11-02T12:53:23Z' itemprop='datePublished'>
             2019-11-02 12:53:23 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>hmm, I guess caused by a compiler update, which is now 'incompatible' with previous version. (not uncommon) </p>

<p>not sure if its a problem to use the stdlib rand(), my fear would be a slight performance issue, as the one in axoloti_math is  inline, and stdlib is not.</p>

<p>however, resolution is possibly not easy... <br>- you could try to comment out the include of stdlib.h, but I fear it will be used for something else.<br>- try using -fpermissive, which might allow for redefinition. <br>- rename rand() in axoloti_math.h, but that would require changes to all objects that use it?!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-11-02T14:51:23Z' itemprop='datePublished'>
             2019-11-02 14:51:23 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It seems like the <code>.deb</code> takes the approach of relying on the system <code>arm-none-eabi</code> which gets pulled in as a dependency rather than relying on the known to be working version that Axoloti's build process can pull in manually. You can see the patch compilation process going out to system directories, e.g. <code>/usr/arm-none-eabi/include</code> etc.</p>

<p>Compare the contents of <code>axo_runtime_linux_1.0.12.tgz</code> to what's included in the <code>.deb</code>. The former includes the whole <code>arm-none-eabi</code> toolchain while the latter does not.</p>

<p>Before the <code>.deb</code> is fixed you might try hacking your runtime directory to look like the <code>.tgz</code> to avoid the breakage coming from the system toolchain.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jsilence.html'><b itemprop='author'>jsilence</b></a>
           
           <time datetime='2019-11-03T09:29:15Z' itemprop='datePublished'>
             2019-11-03 09:29:15 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Would it be a solution to define a dependency to a working version of arm-none-eabi in the .deb package?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-11-03T13:31:12Z' itemprop='datePublished'>
             2019-11-03 13:31:12 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I might be wrong here but off the top of my head I think the idea with <code>deb</code> and <code>dpkg</code> is to only allow dependencies on specific release versions of the package. In other words, we get whatever the lastest version is in the repo and can't pin it to some other version.</p>

<p>Longer term solutions: include the working version right in the <code>deb</code> and make sure we don't declare a dependency on the system version.</p>

<p>The real way forward is to properly avoid the conflict on the <code>rand</code> function. I've never seen this problem before on any of the versions of the <code>arm</code> toolchain I've used. Need to do a bit on analysis to see exactly what's happening in the specific version you have. I can look it up in the Ubuntu repos, but can you try to grab the toolchain version you have from the command line?</p>

<p>Really we should do both.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jsilence.html'><b itemprop='author'>jsilence</b></a>
           
           <time datetime='2019-11-03T14:48:28Z' itemprop='datePublished'>
             2019-11-03 14:48:28 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="6" data-topic="6145"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/urklang/40/2326_1.png" class="avatar">urklang:</div>
<blockquote><p>but can you try to grab the toolchain version you have from the command line?</p></blockquote></aside>

<p>Not quite sure what you mean by this. I'll do it, but need -v.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2019-11-03T15:21:30Z' itemprop='datePublished'>
             2019-11-03 15:21:30 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="6" data-topic="6145"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/urklang/40/2326_1.png" class="avatar">urklang:</div>
<blockquote><p>In other words, we get whatever the lastest version is in the repo and can't pin it to some other version.</p></blockquote></aside>

<p>Not true, you can specify relationship eg &lt; , &gt;, = for depends. </p>

<p>Of course you are then dependent on the repo having specified version still available. This is usually ok, or you can did an alternative source.</p>

<p>Really it’s just we should have been explicit on the version esp with compilers which have a tendency to introduce breaking changes</p>

<p>Iirc, if you uninstalled axoloti and the compiler , <br>and the. manually install (via apt) an older version of the compiler , then axoloti all will be ok </p>

<p>But I’d need to go back to my Ubuntu install to see what the working version is. </p>

<p>All that said the way forward is to fix in axoloti for new compilers - it may be this is already done in dev since I know johannes has updated the compiler a few times in dev.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-11-03T15:34:20Z' itemprop='datePublished'>
             2019-11-03 15:34:20 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../u/jsilence.html">@jsilence</a> Exactly. I'm just curious what the exact version you have is.</p>

<p><a class="mention" href="../../u/thetechnobear.html">@thetechnobear</a> Cool. Maybe we can override the version in the deb if the one we need stays available in the repo. I do like the idea of trying to isolate ourselves from those changes if possible though.</p>

<p>Edit: here's the full detail on what you can do with dependency declaration: <a href="https://www.debian.org/doc/debian-policy/ch-relationships.html" rel="nofollow noopener">https://www.debian.org/doc/debian-policy/ch-relationships.html</a><br>My only issue with pinning to a system toolchain version is that it might conflict with people who care about having the latest one available for other work; that's going to be a minority though.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jsilence.html'><b itemprop='author'>jsilence</b></a>
           
           <time datetime='2019-11-03T15:48:33Z' itemprop='datePublished'>
             2019-11-03 15:48:33 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="9" data-topic="6145"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/urklang/40/2326_1.png" class="avatar">urklang:</div>
<blockquote><p><a class="mention" href="../../u/jsilence.html">@jsilence</a> Exactly. I'm just curious what the exact version you have is.</p></blockquote></aside>

<p>Ok, I now understand that I'm supposed to extract the version of the toolchain. What I meant with "-v" was that I need more verbose instructions. Sorry for the misunderstanding. </p>

<p>How do I get the version of the toolchain on the command line?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-11-03T15:51:45Z' itemprop='datePublished'>
             2019-11-03 15:51:45 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>On my way out at the moment. Check the man page or usage. Probably <code>--version</code> or similar.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2019-11-03T15:53:58Z' itemprop='datePublished'>
             2019-11-03 15:53:58 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>That’s depends on toolchain , many allow you to have multiple versions installed, and often have a kind of ‘select’ tool that’s changes the default version to be used.<br>Not sure about this one though!</p>

<p>Really I threw the  deb package together as we didn’t  have hardly any interest in it. <br>and as you will see on forum,  the Linux community is split over many distributions - it’s worst case scenario - small number of users taking disproportionate amount of effort. <br>So we kind of assumed Linux users would be tech savvy to build themselves. But that’s not always been true.  </p>

<p>anyway since then I’ve started distributing other stuff I do on different Linux platforms so got a better handle on the tools available, so could improve what’s there for next release</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-11-03T15:56:59Z' itemprop='datePublished'>
             2019-11-03 15:56:59 UTC
           </time>
        </span>
        <span itemprop='position'>#13</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>One idea would be to do something like <code>appImage</code> or <code>flatpak</code> as a single Linux release rather than trying to target each distro's package manager.</p>

<p>Ha, I tend to agree that the Linux userbase who strictly needs a package and can't compile is probably small. But it would be cool to have a really frictionless Linux build if we can avoid wasting time on all the distro specifics.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2019-11-03T16:06:12Z' itemprop='datePublished'>
             2019-11-03 16:06:12 UTC
           </time>
        </span>
        <span itemprop='position'>#14</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>actually, a 'lightbulb' moment as a workaround....</p>

<p>according to build.sh ,  the gcc-arm-none-eabi we need, is <br>gcc-arm-none-eabi-4_9-2015q2-20150609-linux.tar.bz2</p>

<p>perhaps the easy way forward is to follow the 'build it yourself' method described in the linux install guide (?) <br>and then just point the runtime directly at the directory you build.</p>

<p>no need to mess about with apt at this point.</p>

<p>really this is quite simple, should just be a matter of</p>

<p></p><pre><code class="lang-auto">mkdir projects
cd projects
git clone https://github.com/axoloti/axoloti 
cd axoloti/platform_linux
./build.sh</code></pre>

<p>assuming links are still all good, this will download everything needed</p>

<p>then in axoloti which you have previously installed, changed axoloti runtime in preferences to<br>~/projects/axoloti</p>

<p>of course, this assumes the build script its up to date... which may not be true <img src="../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jsilence.html'><b itemprop='author'>jsilence</b></a>
           
           <time datetime='2019-11-03T16:11:01Z' itemprop='datePublished'>
             2019-11-03 16:11:01 UTC
           </time>
        </span>
        <span itemprop='position'>#15</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sorry for being dumb, but I am very very new to the Axoloti ecosystem. I have no idea on how to invoke "The Toolchain(tm)" on the command line. I'll happily provide version information of "a thing", if you tell me what "a thing" actually is.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2019-11-03T16:25:12Z' itemprop='datePublished'>
             2019-11-03 16:25:12 UTC
           </time>
        </span>
        <span itemprop='position'>#16</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>a stupid question <a class="mention" href="../../u/jsilence.html">@jsilence</a></p>

<p>did you install the axoloti_runtime from  :<br><aside class="onebox whitelistedgeneric">
  <header class="source">
    <a href="https://github.com/axoloti/axoloti/releases" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars2.githubusercontent.com/u/13088270?s=400&amp;v=4" width="" height="" class="thumbnail">

<h3><a href="https://github.com/axoloti/axoloti/releases" target="_blank" rel="nofollow noopener">axoloti/axoloti</a></h3>

<p>Sketching embedded digital audio. Contribute to axoloti/axoloti development by creating an account on GitHub.</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>

<p>as explained in the install guide for linux? (did you follow this guide?) <br><aside class="quote" data-post="1" data-topic="56">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">
    <a href="../installing-on-linux/56718c.html?source_topic_id=6145" rel="nofollow noopener">Installing on Linux</a> <a class="badge-wrapper  bullet" href="../../c/user-guide.html"><span class="badge-category-bg" style="background-color: #3AB54A;"></span><span style="color: #FFFFFF;" class="badge-category clear-badge" title="This category contains posts to help users use Axoloti, a dynamic user guide.">User Guide</span></a>
  </div>
  <blockquote>
    Normal Installation

To reduce size we split the application into two parts, the main axoloti application, and a runtime which contains other required files. You must download and install both initially.  (Usually updates will only require the main application to be downloaded and installed.) 



download both application bundle and axoloti_runtime
go to <a href="http://github.com/axoloti/axoloti/releases" rel="nofollow noopener">http://github.com/axoloti/axoloti/releases</a> , you will see the 'latest release'
download axo_runtime_linux_(version).tgz
download axoloti_linux_…
  </blockquote>
</aside>
</p>

<p>this includes the toolchain for linux, so should just work?! (as far as I remember, been a long time since i installed it!)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-11-03T16:43:07Z' itemprop='datePublished'>
             2019-11-03 16:43:07 UTC
           </time>
        </span>
        <span itemprop='position'>#17</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sorry for the lack of specifics, <a class="mention" href="../../u/jsilence.html">@jsilence</a>.  Try running <code>arm-none-eabi-gcc --version</code>.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/urklang.html'><b itemprop='author'>urklang</b></a>
           
           <time datetime='2019-11-03T16:50:51Z' itemprop='datePublished'>
             2019-11-03 16:50:51 UTC
           </time>
        </span>
        <span itemprop='position'>#18</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>By the way, I can confirm that the manual Linux build by itself definitely works. That's what I usually use. I've been able to run against more recent system arm toolchains on Arch as well. That's why I'm curious about the exact breakage with <code>rand</code> on your system. I want to grab the package for the exact version you have and try to see what's happening.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jsilence.html'><b itemprop='author'>jsilence</b></a>
           
           <time datetime='2019-11-03T17:24:18Z' itemprop='datePublished'>
             2019-11-03 17:24:18 UTC
           </time>
        </span>
        <span itemprop='position'>#19</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <pre><code>~/ &gt; which arm-none-eabi-gcc
/usr/bin/arm-none-eabi-gcc
~/ &gt; arm-none-eabi-gcc --version
arm-none-eabi-gcc (GNU Tools for Arm Embedded Processors 7-2018-q3-update) 7.3.1 20180622 (release) [ARM/embedded-7-branch revision 261907]
Copyright (C) 2017 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</code></pre>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/jsilence.html'><b itemprop='author'>jsilence</b></a>
           
           <time datetime='2019-11-03T17:24:44Z' itemprop='datePublished'>
             2019-11-03 17:24:44 UTC
           </time>
        </span>
        <span itemprop='position'>#20</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Rereading the <a href="../installing-on-linux/56.html">instructions for Linux</a> I realize I only installed the .deb Package.  </p>

<p>I followed the complete instructions now, but now it is not finding the board any more ("No available USB device found with matching PID/VID"). </p>

<p>I'll tinker with it and figure it out. Applied the udev Rules while the board was disconnected. Maybe something hanging there.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Fresh installation on Ubuntu 18.04.3 - Compilation of patches fails - &#39;int rand()&#39; was declared &#39;extern&#39; and later &#39;static&#39;'>
      <hr>
  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement'>
      <span itemprop='url'><b><a rel="next" itemprop="name" href="61454658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/fresh-installation-on-ubuntu-18-04-3-compilation-of-patches-fails-int-rand-was-declared-extern-and-later-static/6145 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:37:38 GMT -->
</html>
