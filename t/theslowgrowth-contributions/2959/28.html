<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/theslowgrowth-contributions/2959/28 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:03:46 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>TheSlowGrowth contributions - Community Library - Axoloti Community</title>
    <meta name="description" content="Forum profile : @TheSlowGrowth Contributor prefix: TSG 

TSG/dist/


diodeSat - a classic diode saturation, modelled after a circuit found in many guitar stompboxed and &amp;quot;tape saturation&amp;quot; effects

TSG/ctrl/


potDemux 3 -&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="../29594658.html?page=2" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;TheSlowGrowth contributions&#39;" href="../2959.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/letter_avatar_proxy/v2/letter/t/90db22/200.png" />
<meta property="og:image" content="http://community.axoloti.com/letter_avatar_proxy/v2/letter/t/90db22/200.png" />
<meta property="og:url" content="http://community.axoloti.com/t/theslowgrowth-contributions/2959/28" />
<meta name="twitter:url" content="http://community.axoloti.com/t/theslowgrowth-contributions/2959/28" />
<meta property="og:title" content="TheSlowGrowth contributions" />
<meta name="twitter:title" content="TheSlowGrowth contributions" />
<meta property="og:description" content="TSG/dist/diodeSat  A simple diode saturation circuit with a lot of gain. This circuit appears in many classic guitar overdrive boxes (e.g. MXR Distortion) and is also used to mimic the saturation characteristics of tape.  See here for details.   TSG/ctrl/potDemux 3  Can be used to control three parameters with a single potentiometer. It can easily be modified to have more outputs (layers), if required. The object has some features that the other solutions don&#39;t have:    Noise cancellation. Due t..." />
<meta name="twitter:description" content="TSG/dist/diodeSat  A simple diode saturation circuit with a lot of gain. This circuit appears in many classic guitar overdrive boxes (e.g. MXR Distortion) and is also used to mimic the saturation characteristics of tape.  See here for details.   TSG/ctrl/potDemux 3  Can be used to control three parameters with a single potentiometer. It can easily be modified to have more outputs (layers), if required. The object has some features that the other solutions don&#39;t have:    Noise cancellation. Due t..." />

      <link rel="next" href="../29594658.html?page=2">

  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html"><img src="../../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="../2959.html">TheSlowGrowth contributions</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../../c/community-library.html" itemprop="url">
        <span itemprop="title">Community Library</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/SmashedTransistors.html'><b itemprop='author'>SmashedTransistors</b></a>
           
           <time datetime='2017-04-19T01:04:40Z' itemprop='datePublished'>
             2017-04-19 01:04:40 UTC
           </time>
        </span>
        <span itemprop='position'>#23</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>It is possible to do it with the existing objects but in this case it is not easy to take care of the implicit 16 sample delay in the feedback loop...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/SmashedTransistors.html'><b itemprop='author'>SmashedTransistors</b></a>
           
           <time datetime='2017-04-19T18:28:10Z' itemprop='datePublished'>
             2017-04-19 18:28:10 UTC
           </time>
        </span>
        <span itemprop='position'>#24</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi, <a class="mention" href="../../../users/theslowgrowth.html">@TheSlowGrowth</a> </p>

<p>Some time ago, i coded a small "helper" object that helps to make Schroeder feedback/feedforward noodles with limited headache. (i used it for "chorusing" delays)</p>

<p>It's in community/tiar/fx/APNoodle</p>

<p>It has two inlets and two outlets:<br></p>

<p></p><pre><code class="lang-auto">       inlets                        outlets
from delay (v) ------------- + ----&gt; (y) output
                    |        ^
                    |        |
                   *+g      *-g
                    |        |
                    V        |
     input (x) ---- + -------------&gt; (u) to delay</code></pre>

<p>which can be seen as:<br></p>

<p></p><pre><code class="lang-auto">        /-----------&lt; * g &lt;----------\  Feedback
        |                            |
        V                            |
(x)---- + -----&gt;(u)             (v)----- + --&gt;(y)
            |                            ^
            |                            |
            \----------&gt; * -g &gt;----------/  Feedforward</code></pre>

<p>u and v have to be connected to an external delay line:<br></p>

<p></p><pre><code class="lang-auto">        /--------------- *+g --------------\
        |                                  |
        V          implicit                |
(x)---- + ---&gt;(u) -&gt; Z-16 -&gt; delay -&gt; (v)----- + --&gt;(y)
           |         delay                     ^
           |                                   |
           \--------------- *-g ---------------/</code></pre>

<p>In the editor it looks like:<br><img src="../../../uploads/default/original/2X/4/442f629ae09248b256ce97ce0af5aa495214eca7.png" width="537" height="117"></p>

<p>Note that there is an implicit 16 sample delay in the feedback. That's mainly why i failed to implement proper all passes with objects.</p>

<p>Maybe you can use APNoodle to experiment with nested all passes before hardcoding and optimizing <img src="../../../images/emoji/emoji_one/smiley30f4.png?v=3" title=":smiley:" class="emoji" alt=":smiley:"></p>

<p></p><pre><code class="lang-auto">        /-------------------- *+g --------------------\
        |                                             |
        V          implicit           nested          |
(x)---- + ---&gt;(u) -&gt; Z-16 -&gt; delay -&gt; allpass -&gt; (v)----- + --&gt;(y)
           |                                              ^
           |                                              |
           \--------------------- *-g --------------------/</code></pre>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:3'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/TheSlowGrowth.html'><b itemprop='author'>TheSlowGrowth</b></a>
           
           <time datetime='2017-04-19T19:09:41Z' itemprop='datePublished'>
             2017-04-19 19:09:41 UTC
           </time>
        </span>
        <span itemprop='position'>#25</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ah great, I'll use that for my experiments! The implicit 16 sample delay won't hurt. At this point in the signal chain, there needs to be an additional delay anyway. And delay times in my reverb experiments were between 30ms and 180ms so +0,33ms doesn't change the picture much.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/aclaiman.html'><b itemprop='author'>aclaiman</b></a>
           
           <time datetime='2017-04-20T14:29:35Z' itemprop='datePublished'>
             2017-04-20 14:29:35 UTC
           </time>
        </span>
        <span itemprop='position'>#26</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi!<br>I really need a map with inlets to modify a and b from outside the object.<br>Is it posible to do?</p>

<p>Thanks!!!</p>

<p>Andrés</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/TheSlowGrowth.html'><b itemprop='author'>TheSlowGrowth</b></a>
           
           <time datetime='2017-09-15T20:18:03Z' itemprop='datePublished'>
             2017-09-15 20:18:03 UTC
           </time>
        </span>
        <span itemprop='position'>#27</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <h1>TSG/patch/numVoices</h1>

<p>A simple object that outputs nothing but the number of voices in the subpatch. I was surprised to find that this isn't there yet.</p>

<h1>TSG/patch/polySpread</h1>

<p>This object outputs a value between -64 and +64, depending on the voice number. The range is evenly spread across the voices.<br>For 3 voices the output would be:</p>

<pre><code>Voice:   1     2    3   
Output:  -64   0    +64</code></pre>

<p>For 5 voices it would be</p>

<pre><code>Voice:   1     2    3    4    5
Output:  -64  -32   0   +32  +64</code></pre>

<p>This is really useful to create a spread for stacking voices in unison or simply for creating some differences between voices in a polysynth. You can use the <code>math/*c</code> object to adjust the amount of spreading.<br>When the random distribution is selected, the possible values will distributed randomly across the voices when the patch loads. This helps a lot when you want to use spreading in different places around a patch (Without it, voice 1 will receive the lowest possible value everywhere, which is stupid).</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/TheSlowGrowth.html'><b itemprop='author'>TheSlowGrowth</b></a>
           
           <time datetime='2017-12-14T15:38:05Z' itemprop='datePublished'>
             2017-12-14 15:38:05 UTC
           </time>
        </span>
        <span itemprop='position'>#28</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <h1>TSG/dist/diodeSat</h1>

<p>A simple diode saturation circuit with a lot of gain. This circuit appears in many classic guitar overdrive boxes (e.g. MXR Distortion) and is also used to <a href="https://www.diyrecordingequipment.com/products/15ips-colour" rel="nofollow noopener">mimic the saturation characteristics of tape</a>. <br><a href="../../modelling-analog-circuits-in-software/4013.html">See here for details.</a></p>

<h1>TSG/ctrl/potDemux 3</h1>

<p>Can be used to control three parameters with a single potentiometer. It can easily be modified to have more outputs (layers), if required.<br>The object has some features that the other solutions don't have:</p>

<ol>
<li>Noise cancellation. Due to noise in the measurement, there can be value changes even if the potentiometer is not physically touched or turned. That's why I wrote the object so that after some time of inactivity, the pot has to be turned by a certain amount before new changes will be registered. This "deadband" is configurable. (This is a very common method used in many devices)</li>
<li>You can load initial values (patch changes for example) with a trigger pulse</li>
<li>The potentiometer response is configurable: After changing the layer, the corresponding output will be updated<br><strong>A)</strong> to the current poti value, immediately when the poti is touched (overwrite mode)<br><strong>B)</strong> to the current poti value, after the poti has passed the current value of the output (pickup mode)<br><strong>C)</strong> so that the remaining travel of the potentiometer spans all the remaining travel of the value (scale mode). Please note that scale mode assumes your input value will be between 0 and 64.</li>
</ol>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:4'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/damonp.html'><b itemprop='author'>damonp</b></a>
           
           <time datetime='2018-03-30T18:40:18Z' itemprop='datePublished'>
             2018-03-30 18:40:18 UTC
           </time>
        </span>
        <span itemprop='position'>#29</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I love this delay!<br>Thank you!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-04-01T06:41:25Z' itemprop='datePublished'>
             2018-04-01 06:41:25 UTC
           </time>
        </span>
        <span itemprop='position'>#30</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="24" data-topic="2959"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/community.axoloti.com/smashedtransistors/40/3147_1.html" class="avatar">SmashedTransistors:</div>
<blockquote><p>Note that there is an implicit 16 sample delay in the feedback. That's mainly why i failed to implement proper all passes with objects.</p></blockquote></aside>

<p>Hey <a class="mention" href="../../../u/smashedtransistors-2.html">@SmashedTransistors</a></p>

<p>Is this for your parch only, the 16 samples delay or is this for all Axoloti patches?</p>

<p>Have been trying to mke a Karplus strong, but I am also hitting a limit when I try to make the delay time really short, it seems like it won't go all the way to 1 sample delay. </p>

<p>In Pure Data, you have to set a new block size for 1 sample, instead of the standard 64 samples to be abel to make 1 sample deay.  kind of just figured it was about the same issue as in PD but never really got around to try to fix it.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-04-01T18:20:21Z' itemprop='datePublished'>
             2018-04-01 18:20:21 UTC
           </time>
        </span>
        <span itemprop='position'>#31</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey <a class="mention" href="../../../u/theslowgrowth-2.html">@TheSlowGrowth</a> </p>

<p>Just wanted to add a few comments/suggestion to the diode saturation. </p>

<p>Which is <strong>very</strong> excellent btw <img src="../../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"> </p>

<p>The question is about the lookup table. By looking at it, it seems like it is using SRAM?</p>

<p>May I suggest creating a version that uses SDRAM instead?</p>

<p>I did look into it myself, but wasn't really sure where to start. It would be really nice to free up some SRAM, cause it seems like it uses a bunch, like 962 "samples" of SRAM.</p>

<p>Anyway, just thought I'd suggest it. Happy Easter and this is NOT an aprils fools joke <img src="../../../images/emoji/twitter/winkae52.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/SmashedTransistors.html'><b itemprop='author'>SmashedTransistors</b></a>
           
           <time datetime='2018-04-02T09:00:37Z' itemprop='datePublished'>
             2018-04-02 09:00:37 UTC
           </time>
        </span>
        <span itemprop='position'>#32</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think that's the same thing for all objects. <br>If you need feedback without this delay, you have to code it into the object.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-04-02T09:15:20Z' itemprop='datePublished'>
             2018-04-02 09:15:20 UTC
           </time>
        </span>
        <span itemprop='position'>#33</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="32" data-topic="2959" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../user_avatar/community.axoloti.com/smashedtransistors/40/3147_1.html" class="avatar">SmashedTransistors:</div>
<blockquote><p>I think that's the same thing for all objects. <br>If you need feedback without this delay, you have to code it into the object.</p></blockquote></aside>

<p>Okay cool, then it makes sense why I had the issue with karplus strong. I was patching it first and then wanted to code it later on. I think I'll just try to code it then. Thanks <img src="../../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Captain_Burek.html'><b itemprop='author'>Captain_Burek</b></a>
           
           <time datetime='2018-04-07T23:10:26Z' itemprop='datePublished'>
             2018-04-07 23:10:26 UTC
           </time>
        </span>
        <span itemprop='position'>#34</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi there TSG,<br>love your delay, but i have a problem with external syncing. Below a certain bpm (~180 or so), the output of your timer (timeri_1) goes &gt;1024 (as it should), which after the &gt;&gt;6 shift goes to a negative number, i.e. -16 instead of 16. The result is of course that slow echos become random. I don't know enough about bitshifting to remedy that, but obviously the k-rate for the read time should go to 16 and up, at that point. Any idea how to fix that, by chance?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/valmir.html'><b itemprop='author'>valmir</b></a>
           
           <time datetime='2018-04-08T09:53:52Z' itemprop='datePublished'>
             2018-04-08 09:53:52 UTC
           </time>
        </span>
        <span itemprop='position'>#35</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="../../../u/theslowgrowth-2.html">@TheSlowGrowth</a> surely knows better, but maybe just adding an math/abs could be an easy fix?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Captain_Burek.html'><b itemprop='author'>Captain_Burek</b></a>
           
           <time datetime='2018-04-08T15:22:08Z' itemprop='datePublished'>
             2018-04-08 15:22:08 UTC
           </time>
        </span>
        <span itemprop='position'>#36</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>My thinking exactly, but no dice. The number goes up again from -16 to 0...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/TheSlowGrowth.html'><b itemprop='author'>TheSlowGrowth</b></a>
           
           <time datetime='2018-04-08T19:56:04Z' itemprop='datePublished'>
             2018-04-08 19:56:04 UTC
           </time>
        </span>
        <span itemprop='position'>#37</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="34" data-topic="2959"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/c/90db22/40.png" class="avatar">Captain_Burek:</div>
<blockquote><p>Below a certain bpm (~180 or so)</p></blockquote></aside>

<p>How long is the delay time you want to get (in seconds, roughly)? Because the delay buffer itself is only 1.36s and can't go longer than that atm. Yould it be that you're exceeding this?</p>

<aside class="quote" data-post="31" data-topic="2959"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/j/7ea924/40.png" class="avatar">jaffasplaffa:</div>
<blockquote>
<p>By looking at it, it seems like it is using SRAM?</p>
<p>May I suggest creating a version that uses SDRAM instead?</p>
</blockquote></aside>

<p>The lookup table is defined in the resources.h file that comes with the object. It is stored as <code>const int32_t</code> and will sit in the flash memory (because its const). It shouldn't take up any RAM at all.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-04-08T19:57:40Z' itemprop='datePublished'>
             2018-04-08 19:57:40 UTC
           </time>
        </span>
        <span itemprop='position'>#38</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="37" data-topic="2959"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/t/90db22/40.png" class="avatar">TheSlowGrowth:</div>
<blockquote><p>The lookup table is defined in the resources.h file that comes with the object. It is stored as const int32_t and will sit in the flash memory (because its const). It shouldn't take up any RAM at all.</p></blockquote></aside>

<p>Cool, thank you for the clarification. I wasn't 100% sure how it was handled memory vise, but that makes sense <img src="../../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Captain_Burek.html'><b itemprop='author'>Captain_Burek</b></a>
           
           <time datetime='2018-04-09T08:41:19Z' itemprop='datePublished'>
             2018-04-09 08:41:19 UTC
           </time>
        </span>
        <span itemprop='position'>#39</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>No, it's much shorter than that, as I said, about .3secs (i can get much longer delays using the manual time ctrl).<br>The problem really is with the conversion from integer to f-rate by bitshift, as described in my first post. The MWE below is a `take-out miniature' from your echo object: the i-value goess from 15.58 to -16 when the input goes from 1023 to 1024. I'm sure there's an easy fix for this, so the i-value continues to go to 16 and up, i am just not the one to find it....</p>

<p><a class="attachment" href="../../../uploads/default/original/2X/e/i%20to%20f.axp">i to f.axp</a> (3.1 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/jaffasplaffa.html'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-04-09T09:12:24Z' itemprop='datePublished'>
             2018-04-09 09:12:24 UTC
           </time>
        </span>
        <span itemprop='position'>#40</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think the issue might be that the integer value exceed the krate range it is send to and therefor it goes into minus. You cannot send values higher than 1023 from integer to krate, it won't work, so you have to add an extra step of bitshifting.I am kind of assuming the value you are sending is higher than 1023, since you have this issue.</p>

<p>Been working on another module where this was an issue and I came up with this solution:<br><a class="attachment" href="../../../uploads/default/original/2X/f/Integer%20to%20Krate%20conversion.axp">Integer to Krate conversion.axp</a> (4.5 KB)</p>

<p>You have to to the shifting in 2 steps. First bitshift the &gt;&gt;6 when the value is still integers. And then second do a &lt;&lt;21 bitshift to get it into krate range. Now I get the right result, at least up to 4096.</p>

<p>Anyway, try it out, let me know if it works.</p>

<p>UPDATE 1: ohh not sure that works, cause it rounds the number to whole numbers...... Illtake a look in the patch where I have it working.</p>

<p>UPDATE 2:<br>Try this one. See patch for explanation.<br><a class="attachment" href="../../../uploads/default/original/2X/0/Integer%20to%20Krate%20conversion%20Updated.axp">Integer to Krate conversion Updated.axp</a> (14.9 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/Captain_Burek.html'><b itemprop='author'>Captain_Burek</b></a>
           
           <time datetime='2018-04-09T20:51:42Z' itemprop='datePublished'>
             2018-04-09 20:51:42 UTC
           </time>
        </span>
        <span itemprop='position'>#41</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>How about this one? It seems to work, and handles 0-4096. There are probably cheaper ways to do this, so more help is appreciated, but this did the trick for me with the delay.</p>

<p><a class="attachment" href="../../../uploads/default/original/2X/f/Integer%20to%20Krate%20conversion-2.axp">Integer to Krate conversion.axp</a> (3.9 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/TheSlowGrowth.html'><b itemprop='author'>TheSlowGrowth</b></a>
           
           <time datetime='2018-05-31T22:41:42Z' itemprop='datePublished'>
             2018-05-31 22:41:42 UTC
           </time>
        </span>
        <span itemprop='position'>#42</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I did some modifications to  <code>TSG/delay/read m interp</code>: It now interpolates the input signals, so that removes any stepping from the modulation and drastically reduces noise at the expense of a tad higher CPU load.</p>

<p>I also added a phase output to the <code>TSG/fx/tapedelay</code>. It ramps from 0..64 in sync with the delay and you can use it to blink LEDs. Take a look at the help patch. Basically you only have to compare it to a fixed value (e.g. with <code>math/&gt;c</code>) to get a boolean signal that is in sync with the delay.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:2'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='TheSlowGrowth contributions'>
      <hr>
  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement'>
      <span itemprop='url'><b><a rel="next" itemprop="name" href="../29594658.html?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../../index.html'>Home</a>
        <a href="../../../categories.html">Categories</a>
        <a href="../../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../../tos.html">Terms of Service</a>
        <a href="../../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/theslowgrowth-contributions/2959/28 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:03:46 GMT -->
</html>
