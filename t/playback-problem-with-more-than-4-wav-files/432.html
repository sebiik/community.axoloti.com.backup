<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/playback-problem-with-more-than-4-wav-files/432 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:33:46 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Playback problem with more than 4 .wav files - Helpdesk - Axoloti Community</title>
    <meta name="description" content="I&amp;#39;m doing some tests with .wav files, here&amp;#39;s a brief report with some issues in it: 


using up to 8 stereo  .wav format 48khz/16bit files, 5 character uppercase name, 30 seconds duration
using the stereo mixer abstracti&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="432.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Playback problem with more than 4 .wav files&#39;" href="432.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/optimized/1X/77c6eed231bada401603588c7686eb30015f1d21_1_690x300.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/optimized/1X/77c6eed231bada401603588c7686eb30015f1d21_1_690x300.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/playback-problem-with-more-than-4-wav-files/432" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/playback-problem-with-more-than-4-wav-files/432" />
<meta property="og:title" content="Playback problem with more than 4 .wav files" />
<meta name="twitter:title" content="Playback problem with more than 4 .wav files" />
<meta property="og:description" content="I&#39;m doing some tests with .wav files, here&#39;s a brief report with some issues in it:    using up to 8 stereo  .wav format 48khz/16bit files, 5 character uppercase name, 30 seconds duration using the stereo mixer abstraction SD card formatted with Axoloti   the sound start clipping immediately like if the CPU is over when it&#39;s just at 16% If I start to delete players I can find the patch working with up to 4 files with the specs written above,   Any idea?    [image]" />
<meta name="twitter:description" content="I&#39;m doing some tests with .wav files, here&#39;s a brief report with some issues in it:    using up to 8 stereo  .wav format 48khz/16bit files, 5 character uppercase name, 30 seconds duration using the stereo mixer abstraction SD card formatted with Axoloti   the sound start clipping immediately like if the CPU is over when it&#39;s just at 16% If I start to delete players I can find the patch working with up to 4 files with the specs written above,   Any idea?    [image]" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="3 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ❤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="432.html">Playback problem with more than 4 .wav files</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/helpdesk.html" itemprop="url">
        <span itemprop="title">Helpdesk</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/AdrianWillaert.html'><b itemprop='author'>AdrianWillaert</b></a>
           
           <time datetime='2015-09-08T20:45:15Z' itemprop='datePublished'>
             2015-09-08 20:45:15 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm doing some tests with .wav files, here's a brief report with some issues in it:</p>

<ol>
<li>using up to 8 stereo  .wav format 48khz/16bit files, 5 character uppercase name, 30 seconds duration</li>
<li>using the stereo mixer abstraction</li>
<li>SD card formatted with Axoloti</li>
</ol>

<p>the sound start clipping immediately like if the CPU is over when it's just at 16%<br>If I start to delete players I can find the patch working with up to 4 files with the specs written above,</p>

<p>Any idea?</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/77c6eed231bada401603588c7686eb30015f1d21" href="../../uploads/default/original/1X/77c6eed231bada401603588c7686eb30015f1d21.png" class="lightbox" title="Schermata 2015-09-08 alle 22.40.51.png"><img src="../../uploads/default/optimized/1X/77c6eed231bada401603588c7686eb30015f1d21_1_690x300.png" width="690" height="300"><div class="meta">
<span class="filename">Schermata 2015-09-08 alle 22.40.51.png</span><span class="informations">1199x523 79.5 KB</span><span class="expand"></span>
</div></a></div></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Playback problem with more than 4 .wav files'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2015-09-08T21:12:27Z' itemprop='datePublished'>
             2015-09-08 21:12:27 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Could you post the results from the sdbenchmark object? Streaming playback performance depends on sdcard performance. There are huge differences between sdcards and unfortunatly the advertised speed rating is not representative.</p>

<p>The DSP load indicator does not take the sdcard reading/buffering process into account.</p>

<p>For short samples - where streaming is not needed - it is better to load them into tables in sdram rather than streaming them from sdcard. Admittedly this is underdocumented.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Playback problem with more than 4 .wav files'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/AdrianWillaert.html'><b itemprop='author'>AdrianWillaert</b></a>
           
           <time datetime='2015-09-08T21:39:45Z' itemprop='datePublished'>
             2015-09-08 21:39:45 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks Johannes, </p>

<p>this is my benchmark</p>

<p>Axoloti says: lseek1 OK...<br>Axoloti says: lseek2 OK...<br>Axoloti says: lseek3 OK...<br>Axoloti says: nstreams = 1, <br>Axoloti says: NBUFFERS = 128, <br>Axoloti says: BUFSIZE = 8192</p>

<p>Axoloti says: open : 399 ms</p>

<p>Axoloti says: write BW : 819 kB/s</p>

<p>Axoloti says: close : 7 ms</p>

<p>Axoloti says: open : 18 ms</p>

<p>Axoloti says: read BW : 4228 kB/s</p>

<p>Axoloti says: Open OK...<br>Axoloti says: lseek1 OK...<br>Axoloti says: lseek2 OK...<br>Axoloti says: lseek3 OK...<br>Axoloti says: Open OK...<br>Axoloti says: lseek1 OK...<br>Axoloti says: lseek2 OK...<br>Axoloti says: lseek3 OK...<br>Axoloti says: nstreams = 2, <br>Axoloti says: NBUFFERS = 128, <br>Axoloti says: BUFSIZE = 8192</p>

<p>Axoloti says: open : 933 ms</p>

<p>Axoloti says: write BW : 814 kB/s</p>

<p>Axoloti says: close : 11 ms</p>

<p>Axoloti says: open : 34 ms</p>

<p>Axoloti says: read BW : 3847 kB/s</p>

<p>Axoloti says: Open OK...<br>Axoloti says: lseek1 OK...<br>Axoloti says: lseek2 OK...<br>Axoloti says: lseek3 OK...<br>Axoloti says: nstreams = 1, <br>Axoloti says: NBUFFERS = 128, <br>Axoloti says: BUFSIZE = 4096</p>

<p>Axoloti says: open : 1294 ms</p>

<p>Axoloti says: write BW : 1368 kB/s</p>

<p>Axoloti says: close : 7 ms</p>

<p>Axoloti says: open : 19 ms</p>

<p>Axoloti says: read BW : 2912 kB/s</p>

<p>Axoloti says: Open OK...<br>Axoloti says: lseek1 OK...<br>Axoloti says: lseek2 OK...<br>Axoloti says: lseek3 OK...<br>Axoloti says: Open OK...<br>Axoloti says: lseek1 OK...<br>Axoloti says: lseek2 OK...<br>Axoloti says: lseek3 OK...<br>Axoloti says: nstreams = 2, <br>Axoloti says: NBUFFERS = 128, <br>Axoloti says: BUFSIZE = 4096</p>

<p>Axoloti says: open : 1086 ms</p>

<p>Axoloti says: write BW : 1100 kB/s</p>

<p>Axoloti says: close : 15 ms</p>

<p>Axoloti says: open : 34 ms</p>

<p>Axoloti says: read BW : 2461 kB/s</p>

<p>Axoloti says: Open OK...<br>Axoloti says: lseek1 OK...<br>Axoloti says: lseek2 OK...<br>Axoloti says: lseek3 OK...<br>Axoloti says: nstreams = 1, <br>Axoloti says: NBUFFERS = 128, <br>Axoloti says: BUFSIZE = 2048</p>

<p>Axoloti says: open : 568 ms</p>

<p>Axoloti says: write BW : 777 kB/s</p>

<p>Axoloti says: close : 7 ms</p>

<p>Axoloti says: open : 18 ms</p>

<p>Axoloti says: read BW : 1542 kB/s</p>

<p>Axoloti says: Open OK...<br>Axoloti says: lseek1 OK...<br>Axoloti says: lseek2 OK...<br>Axoloti says: lseek3 OK...<br>Axoloti says: Open OK...<br>Axoloti says: lseek1 OK...<br>Axoloti says: lseek2 OK...<br>Axoloti says: lseek3 OK...<br>Axoloti says: nstreams = 2, <br>Axoloti says: NBUFFERS = 128, <br>Axoloti says: BUFSIZE = 2048</p>

<p>Axoloti says: open : 1088 ms</p>

<p>Axoloti says: write BW : 536 kB/s</p>

<p>Axoloti says: close : 11 ms</p>

<p>Axoloti says: open : 34 ms</p>

<p>Axoloti says: read BW : 1291 kB/s</p>

<p>Axoloti says: Open OK...<br>Axoloti says: lseek1 OK...<br>Axoloti says: lseek2 OK...<br>Axoloti says: lseek3 OK...<br>Axoloti says: nstreams = 1, <br>Axoloti says: NBUFFERS = 128, <br>Axoloti says: BUFSIZE = 1024</p>

<p>Axoloti says: open : 566 ms</p>

<p>Axoloti says: write BW : 121 kB/s</p>

<p>Axoloti says: close : 7 ms</p>

<p>Axoloti says: open : 19 ms</p>

<p>Axoloti says: read BW : 784 kB/s</p>

<p>Axoloti says: Open OK...<br>Axoloti says: lseek1 OK...<br>Axoloti says: lseek2 OK...<br>Axoloti says: lseek3 OK...<br>Axoloti says: Open OK...<br>Axoloti says: lseek1 OK...<br>Axoloti says: lseek2 OK...<br>Axoloti says: lseek3 OK...<br>Axoloti says: nstreams = 2, <br>Axoloti says: NBUFFERS = 128, <br>Axoloti says: BUFSIZE = 1024</p>

<p>Axoloti says: open : 1095 ms</p>

<p>Axoloti says: write BW : 272 kB/s</p>

<p>Axoloti says: close : 11 ms</p>

<p>Axoloti says: open : 34 ms</p>

<p>Axoloti says: read BW : 653 kB/s</p>

<p>Axoloti says: SDCard benchmark finished.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Playback problem with more than 4 .wav files'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/AdrianWillaert.html'><b itemprop='author'>AdrianWillaert</b></a>
           
           <time datetime='2015-09-08T21:49:09Z' itemprop='datePublished'>
             2015-09-08 21:49:09 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Using tables could be a solution but at the same time it's not very quick to read stereo files...<br>I think that some wrapper similar to the "wave play fn stereo" to read from RAM would be very nice</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Playback problem with more than 4 .wav files'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2015-09-08T22:29:42Z' itemprop='datePublished'>
             2015-09-08 22:29:42 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="3" data-topic="432"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/adrianwillaert/40/468_1.gif" class="avatar">AdrianWillaert:</div>
<blockquote><p>read BW : 653 kB/s</p></blockquote></aside>

<p>One stereo stream at 48kHz/16bit needs 192kB/s</p>

<p>I am already surprised you get 4 simultaneous streams with your card. The measured bandwidth is average benchmark which hides the (more relevant) worst case buffer read time.</p>

<p>I have seen cards with much better performance. But even with a good card I think 8 streams is probably the maximum.</p>

<aside class="quote" data-post="4" data-topic="432"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/adrianwillaert/40/468_1.gif" class="avatar">AdrianWillaert:</div>
<blockquote><p>wrapper similar to the "wave play fn stereo" to read from RAM would be very nice</p></blockquote></aside>

<p>Yes. This is what makes it a bit complicated: ideally the size of the sample should be known when the patch is compiled, so that the a chunk of memory can be reserved of the right size. But the patcher does not know what is on the sdcard. Ideally, the wave file referenced in the patch should be in the same directory on the computer as the patch, and automatically uploaded to sdcard when it is missing there. </p>

<p>Also, stereo tables do not exist. I'm not sure adding stereo tables is a good idea. I don't think there are stereo tables in Pd or Max. If stereo tables are added, there is also reason to add 3-channel (LCR), 4-channel (quadrophonic), 6-channel (5.1 surround), 8-channel tables. If they're separate families of objects, that explodes the number of objects. <br>While adding "n-channel" tables will make common application scenarios more complicated than needed.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Playback problem with more than 4 .wav files'>
      <hr>
            <a href="../sdcard-performance-discussion/437/5.html">SDCard performance discussion</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2015-09-09T12:31:28Z' itemprop='datePublished'>
             2015-09-09 12:31:28 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>2 posts were merged into an existing topic: <a href="../sdcard-performance-discussion/437.html">SDCard performance discussion</a></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Playback problem with more than 4 .wav files'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2015-09-09T12:35:12Z' itemprop='datePublished'>
             2015-09-09 12:35:12 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="6" data-topic="432"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/thetechnobear/40/6_1.html" class="avatar">thetechnobear:</div>
<blockquote><p>what buffer size does the play fn stereo use?</p></blockquote></aside>

<p>1024 bytes is the default, for both stereo and mono.<br>Larger buffers would increase throughput, but also latency. <br>Streaming sdcard playback was developed before sdram was there. There are tricks that could be worked out, like caching the sdcard FAT table in sdram.<br>But I think it is best to focus efforts on an easy path to load waves in sdram tables. 8MB of random-access samples + a few streaming samples covers a lot of uses.</p>

<aside class="quote" data-post="6" data-topic="432"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../user_avatar/community.axoloti.com/thetechnobear/40/6_1.html" class="avatar">thetechnobear:</div>
<blockquote><p>whats the difference between stereo tables, and 2 mono tables?</p></blockquote></aside>

<p>Tables with interleaved stereo data would be quite a bit more efficient than dual mono tables.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Playback problem with more than 4 .wav files'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/AdrianWillaert.html'><b itemprop='author'>AdrianWillaert</b></a>
           
           <time datetime='2015-09-09T15:56:40Z' itemprop='datePublished'>
             2015-09-09 15:56:40 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>can't figure out if related but working on Windows 8 gives me more stability than working on Os10.10</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Playback problem with more than 4 .wav files'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/AdrianWillaert.html'><b itemprop='author'>AdrianWillaert</b></a>
           
           <time datetime='2015-09-11T18:07:33Z' itemprop='datePublished'>
             2015-09-11 18:07:33 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>my problem persists but can't figure out why.</p>

<p>I have two patches both with 4 stereo files at 48kHz/16bit 10 seconds duration each.<br>The first patch uses fn stereo objects, the second one uses stereo objects + MIDI controller dyanimc string for file selection.<br>While the first patch run without problems, the second one compile one time every 10...it's a bit frustrating because it works very randomly...also the file selection, when the patch compile is very fluid. Can't really figure out why. <br>It could depends on some default settings that sends unwanted values?</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/7c321f8685d629974c9bd4c83b6323386786d896" href="../../uploads/default/original/1X/7c321f8685d629974c9bd4c83b6323386786d896.png" class="lightbox" title="Cattura.PNG"><img src="../../uploads/default/optimized/1X/7c321f8685d629974c9bd4c83b6323386786d896_1_690x412.png" width="690" height="412"><div class="meta">
<span class="filename">Cattura.PNG</span><span class="informations">1604x960 162 KB</span><span class="expand"></span>
</div></a></div></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Playback problem with more than 4 .wav files'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/playback-problem-with-more-than-4-wav-files/432 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:33:46 GMT -->
</html>
