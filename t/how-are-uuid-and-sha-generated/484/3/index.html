<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>How are UUID and SHA generated - Software - Axoloti Community</title>
    <meta name="description" content="How are the uuid and sha generated? I&amp;#39;ve been searching in the code, but unable to find it.  

(I&amp;#39;m making a little shell script to set the correct values, which can easily be added to GEdit as a post-save command.) 

--&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#nil">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="http://community.axoloti.com/t/how-are-uuid-and-sha-generated/484" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="http://community.axoloti.com/opensearch.xml" title="Axoloti Community Search">

        <link href="/stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;How are UUID and SHA generated&#39;" href="http://community.axoloti.com/t/how-are-uuid-and-sha-generated/484.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/user_avatar/community.axoloti.com/andor/200/588_1.png" />
<meta property="og:image" content="http://community.axoloti.com/user_avatar/community.axoloti.com/andor/200/588_1.png" />
<meta property="og:url" content="http://community.axoloti.com/t/how-are-uuid-and-sha-generated/484/3" />
<meta name="twitter:url" content="http://community.axoloti.com/t/how-are-uuid-and-sha-generated/484/3" />
<meta property="og:title" content="How are UUID and SHA generated" />
<meta name="twitter:title" content="How are UUID and SHA generated" />
<meta property="og:description" content="Hi,   I have no experience in Java and little in coding in general, but, for the looks of the function, seems that it generates the UUID with a SHA function over the content of all the objects. Is that right?   As I infer from some other comments from @thetechnobear ,  although the UUID is generated with a deterministic function, the contents from the UUID value can be anything and changing them is not harmful for the object (except, I imagine, for referring them).   Said this:   Isn&#39;t it health..." />
<meta name="twitter:description" content="Hi,   I have no experience in Java and little in coding in general, but, for the looks of the function, seems that it generates the UUID with a SHA function over the content of all the objects. Is that right?   As I infer from some other comments from @thetechnobear ,  although the UUID is generated with a deterministic function, the contents from the UUID value can be anything and changing them is not harmful for the object (except, I imagine, for referring them).   Said this:   Isn&#39;t it health..." />

      <link rel="next" href="/t/how-are-uuid-and-sha-generated/484?page=2">

  </head>
  <body class="crawler">
    
    <header>
      <a href="/"><img src="/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="/t/how-are-uuid-and-sha-generated/484">How are UUID and SHA generated</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="/c/software" itemprop="url">
        <span itemprop="title">Software</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/alex'><b itemprop='author'>alex</b></a>
           
           <time datetime='2015-09-21T19:13:24Z' itemprop='datePublished'>
             2015-09-21 19:13:24 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>How are the <strong>uuid</strong> and <strong>sha</strong> generated?<br>I've been searching in the code, but unable to find it. </p>

<p>(I'm making a little shell script to set the correct values, which can easily be added to GEdit as a post-save command.)</p>

<p><strong>-- EDIT--</strong><br>nevermind. I think I found it in <a href="https://github.com/axoloti/axoloti/blob/master/src/main/java/axoloti/object/AxoObject.java">https://github.com/axoloti/axoloti/blob/master/src/main/java/axoloti/object/AxoObject.java</a> (456)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
            <a href="https://sebiik.github.io/community.axoloti.com.backup/t/start-patch-without-gui/498/7">Start patch without gui?</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/alex'><b itemprop='author'>alex</b></a>
           
           <time datetime='2015-09-27T18:13:54Z' itemprop='datePublished'>
             2015-09-27 18:13:54 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm getting different results when I try to re-create a uuid/sha <br>Could be because I know very little about Java (I'm coding this in Python).</p>

<p>Could someone explain the steps of how to get to the correct uuid for this simplified patch ? <br></p>

<p></p><pre><code class="lang-auto">&lt;objdefs&gt;
   &lt;obj.normal 
         id="1" 
         uuid="a189a2fcb9f59572da5d5fe2054f1b58ef53ed3b" 
         sha="4958207f126fe3f5840fa86aa68ce62787c2a0d2"&gt;      
      &lt;sDescription&gt;a&lt;/sDescription&gt;
      &lt;author&gt;b&lt;/author&gt;
      &lt;license&gt;c&lt;/license&gt;
      &lt;helpPatch/&gt;

      &lt;inlets&gt;
         &lt;int32 name="1" /&gt;
      &lt;/inlets&gt;
      &lt;outlets/&gt;
      &lt;displays/&gt;
      &lt;params/&gt;
      &lt;attribs/&gt;
   &lt;/obj.normal&gt;
&lt;/objdefs&gt;</code></pre>

<p>I know it only uses the value of <code>id</code> , <code>int32</code> and value of <code>name</code> , but in what way? this does not work (pseudocode) :</p>

<blockquote><p>m = sha1();<br>m.update(id)<br>m.update('int32')<br>m.update(name)<br>uuid = m.hexdigest()</p></blockquote>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/andor'><b itemprop='author'>andor</b></a>
           
           <time datetime='2015-10-06T13:12:27Z' itemprop='datePublished'>
             2015-10-06 13:12:27 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi,</p>

<p>I have no experience in Java and little in coding in general, but, for the looks of the function, seems that it generates the UUID with a SHA function over the content of all the objects. Is that right?</p>

<p>As I infer from some other comments from <a class="mention" href="/users/thetechnobear">@thetechnobear</a> ,  although the UUID is generated with a deterministic function, <a href="//community.axoloti.com/t/how-to-get-started-with-with-objects-programming/357/4">the contents from the UUID value can be <em>anything</em> and changing them is not harmful for the object</a> (except, I imagine, for referring them).</p>

<p>Said this:</p>

<p>Isn't it healthy then to standarize and reduce complexity using a <a href="http://docs.oracle.com/javase/7/docs/api/java/util/UUID.html" rel="nofollow">standard  RFC based UUID function</a>?</p>

<p><a class="mention" href="/users/alex">@alex</a> , Maybe you can just generate a new UUID with <a href="https://docs.python.org/2/library/uuid.html" rel="nofollow">uuid.uuid4()</a></p>

<p>I was thinking on building an Axoloti patch repository and I was thinking on a "proper" way to identifying/fingerprinting them.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2015-10-06T13:49:23Z' itemprop='datePublished'>
             2015-10-06 13:49:23 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="3" data-topic="484"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/andor/40/588_1.png" class="avatar">andor:</div>
<blockquote><p>I was thinking on building an Axoloti patch repository and I was thinking on a "proper" way to identifying/fingerprinting them.</p></blockquote></aside>

<p>this would be best discussed with <a class="mention" href="/users/johannes">@johannes</a> as there is a 'mid term' plan to build a repo here, and the uuid and sha are all part of this.</p>

<p>simply put, the uuid is suppose to uniquely identify an object... as its name could possibly change.<br>the sha is about describing the 'interface', such that we can determine its compatible. (there is also an upgradeSha, I think)</p>

<p>together the concept is that we can deal with 'automatically' upgrading objects between version yet also be able to keep historical versions too.</p>

<p>its quite an interesting, and slightly complex area </p>

<p>use case:<br>we find a bug in the sawtooth oscillator, so we fix it in a new version...</p>

<p>now what we want to happen is this:<br>a user upgrades, <br>and when he loads a patch he is told the object has been upgraded, would he like the new version.<br>they say yes...</p>

<p>now whilst the new behaviour is 'correct', it has affected the sound*... such that his performance patches sound different with the new version...  not great news if you have lots of patches, and don't want to go through them all adjusting them.</p>

<p>so... we need to be able be run existing patches 'unchanged', unless they have been upgraded.</p>

<p>(*) history is littered with conceptually incorrect filters/oscillators, that people like <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"> </p>

<p>anyway, thats the basic idea (as far as i understood it) so its a little more complex that just storing patches, which would tend to mean new versions would break existing patches.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/andor'><b itemprop='author'>andor</b></a>
           
           <time datetime='2015-10-06T17:26:55Z' itemprop='datePublished'>
             2015-10-06 17:26:55 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="4" data-topic="484"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>now whilst the new behaviour is 'correct', it has affected the sound*... such that his performance patches sound different with the new version...  not great news if you have lots of patches, and don't want to go through them all adjusting them.</p></blockquote></aside>

<p>So, besides fingerprinting with a UUID, a 'version' / 'commit' tag might be necessary? Immutable UUID during the life of an object might me necessary to describe or follow its development.</p>

<p>Should we open a new discussion about this with <a class="mention" href="/users/johannes">@johannes</a> ?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2015-10-06T18:04:43Z' itemprop='datePublished'>
             2015-10-06 18:04:43 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><a class="mention" href="/users/johannes">@johannes</a> monitors these threads, and this is as good a thread as any.</p>

<p>the uuid is immutable.</p>

<p>commit tag... thats specific to how its stored (e.g. version control system), the sha is independent, we just need to make the tools more generic to stamp the objects correctly. <br>currently all the 'factory' objects are generated from java, rather than be hand coded xml, hence they <br>have no issue regenerating the necessary sha.</p>

<p>iirc, the general idea is that on upgrade, objects that have changed would be moved to a 'archive' folder on the users machines, with a file name with a combination of uuid/sha (to allow different versions). so when a patch is opened if the 'current' sha is different from that associated with the patch (the patch records uuid and sha of objects used) then it can search the archive for the original object.</p>

<p>in this way, a patch can either be upgraded to the new version of an object, or load the original version from the archive.<br>(bare in mind, any particular object may be upgraded many times, and so 3 different patches could need to use 3 different versions)</p>

<p>it should be note, this is as I remember be discussing with <a class="mention" href="/users/johannes">@johannes</a>, so may be incomplete, and also was still subject to change/discussion when we do the 'upgrade' process. but the important things was to get the uuid/sha into patches before release, so that we have a mechanism for upgrades <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/andor'><b itemprop='author'>andor</b></a>
           
           <time datetime='2015-10-11T22:20:53Z' itemprop='datePublished'>
             2015-10-11 22:20:53 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="6" data-topic="484"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>it should be note, this is as I remember be discussing with <a class="mention" href="/users/johannes">@johannes</a>, so may be incomplete, and also was still subject to change/discussion when we do the 'upgrade' process. but the important things was to get the uuid/sha into patches before release, so that we have a mechanism for upgrades <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"></p></blockquote></aside>

<p><img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"> Yeah! I think the 'version' tag would be a nice thing to have so anybody can indentify the chronology of certain plugin intuitively.</p>

<p>The sysadmin in me asks for a declaration of requirements or a dependency list defined on the main patch, as the 'requirements.txt' file for pip on python projects. Something like:</p>

<pre><code>osc_sine = 1.3
osc_saw = latest
osc_supersaw = latest</code></pre>

<p>Then, if your Axoloti distribution doesn't have those objects (or doesn't mathc in version), Axoloti can download the exact version required from the central axoloti repository, which is just a regular static http server (same as pip or apt).</p>

<p>Even better: the axoloti community maybe isn't huge (as there are 'only' 600 and something boards around), but some people might want to mantain a repository under their control: maybe somebody wants to open a repository with his/her patches on a web, os somebody builds a crazy community site where everybody can upload patches at will. Then, it can be something like:</p>

<pre><code>[axoloti]
osc_sine = 1.3
osc_saw = latest
osc_supersaw = latest
[axo.andorfakewebpage.com]
megalead = 0.5
crazycoconut = 1.2</code></pre>

<p>Possible problem: If you edit the subpatch to modify something, modifications might be overwritten by the next update.</p>

<p>I'm just thinkg loud <img src="/images/emoji/emoji_one/smiley.png?v=0" title=":smiley:" class="emoji" alt=":smiley:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2015-10-11T22:44:15Z' itemprop='datePublished'>
             2015-10-11 22:44:15 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ok, I need to correct my comments about the ids.</p>

<p>uuid - is an sha of the interface (name,inlets,outlets etc)<br>sha - is an sha of the implementation <br>upgradeSha - is all the previous sha that the object i.e. how it has previously been known.</p>

<p>versioning, yeah I get the idea, but maintaining version numbers is error proned (people forget, especially on small objects). also its only the 'programmers word' that says 1.2.2is compatible with 1.2.1, and 1.3 has some differences.<br>and maintaining a package definition (pip file) are also a pain. i guess it could be hidden to some extent, i.e. a patch says uses latest, and then you could freeze parts.<br>but again, this would need to be tied to some kind of unique naming, as potentially, if your using sub patches (from elsewhere in the user library), they could use different versions.</p>

<p>I guess the issue is, we as programmers, are all too familiar, with the complications of versioning, and mismatches... and have lots of tools to manage this (some even work sometimes!) but frankly this is (imho) a small part of this project... where resources are pretty scarce, so it kind of 'worries' me when we start talking about complex schemes... but hey perhaps I'm a pessimist <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/andor'><b itemprop='author'>andor</b></a>
           
           <time datetime='2015-10-11T22:50:55Z' itemprop='datePublished'>
             2015-10-11 22:50:55 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Yep, probably maybe a package definition file isn't even necessary, Axoloti can just fetch the object list from the XML and, if not version given, fetch the latest.</p>

<p>But my mind is running around the idea of hosting alternative repositories. Mantaining a repository with external collaborations can be quite a PITA, and maybe only some of the objects are worthy (ahem <img src="/images/emoji/emoji_one/innocent.png?v=0" title=":innocent:" class="emoji" alt=":innocent:">) of stealing valuable time of the main developers hands <img src="/images/emoji/emoji_one/smiley.png?v=0" title=":smiley:" class="emoji" alt=":smiley:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2015-10-11T23:06:30Z' itemprop='datePublished'>
             2015-10-11 23:06:30 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="9" data-topic="484"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/andor/40/588_1.png" class="avatar">andor:</div>
<blockquote><p>Axoloti can just fetch the object list</p></blockquote></aside>

<p>yeah, I think the point is the patch stores the uuid and sha... so not only does it know the interface but also uniquely identifies an implementation.<br>so I think the intended process is (<a class="mention" href="/users/johannes">@johannes</a> will have to confirm, as its a bit of time since we discussed this) ...</p>

<p>when you start axoloti, you load all objects on your search path, each object not only has  the uuid and current sha BUT also the past sha(s) in upgradeSha.</p>

<p>SO... when you load  patch, the each object used is referenced thru the sha... if its the latest its immediately found, BUT if not, the upgradeSHA are searched. <br>at this point there are two options:<br>i) load the newer version of the object.<br>ii) go find the original object... which will be identified via the upgradeSha.</p>

<p>(it can also check the uuids of the two objects have not changed i.e. the interface)</p>

<p>I think the original idea was simply, when upgrading we would copy all the existing objects to an 'archive' folder, with a filename of the sha.</p>

<p>but a remote implementation would be better... otherwise a new user may not be able to load a patch from another user, because he uses objects from the past.</p>

<p>you can see this kind of avoids numeric versioning, more going for an interface and implementation tagging. of course the 'downside', at least as i see it, is there is no way to say an object is backwards compatible <br>e.g. adding a new 'optional' inlet, will change the uuid, in the exactly the same way as removing an outlet.... one would break a patch, the other would not.</p>

<p>I'll repeat, its been a whilst since I last talked with Johannes about this, so I may forgotten/confused a few details, and Johannes may have refined his ideas too.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/johannes'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2015-10-11T23:22:06Z' itemprop='datePublished'>
             2015-10-11 23:22:06 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So the idea behind uuid/sha hashes was to implement a central online database (well this could be just a regular filesystem, and it could be versioned with git, but only adding files, never changing or removing) that contains all implementations of all objects ever created, so all dependencies can be resolved to the implementation ("sha") at the time of patch creation, and eventually can also resolve (by "uuid" hash) to bugfixed objects.</p>

<p>The "upgradeSha" field was probably not a good idea, it was a quick and dirty hack to upgrade existing patches when updating the "sha" hashes of all objects during development.</p>

<p>I think, rather than having a backwards reference in an object, it is better to have "upgrade" object files, that match sha/uuid and make a forward reference to the newer replacement object, and also contains a human-readable explanation of what has changed, and what impact to expect from upgrading.</p>

<p>When creating a patch it is hard to tell if it 'd benefit from an updated object, or you may want to run exactly as when created. This is also not a general decision for all objects when loading a patch, but needs to decided object-by-object.</p>

<p>It is a challenging quest to balance between backwards bug-by-bug compatibility and pushing forward improvements, without creating a dense forest of objects. I really appreciate all your input here, also contributions to an implementation would be very welcome.</p>

<p>For the reference - there was some discussion about this topic here: <a href="https://github.com/axoloti/axoloti">https://github.com/axoloti/axoloti</a><br>/issues/129</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/andor'><b itemprop='author'>andor</b></a>
           
           <time datetime='2015-10-11T23:49:45Z' itemprop='datePublished'>
             2015-10-11 23:49:45 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="11" data-topic="484"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/johannes/40/8_1.png" class="avatar">johannes:</div>
<blockquote><p>I think, rather than having a backwards reference in an object, it is better to have "upgrade" object files, that match sha/uuid and make a forward reference to the newer replacement object,</p></blockquote></aside>

<p>Suddenly a flashback from Freenet "future links" came to me <img src="/images/emoji/emoji_one/smiley.png?v=0" title=":smiley:" class="emoji" alt=":smiley:"></p>

<aside class="quote" data-post="11" data-topic="484"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/johannes/40/8_1.png" class="avatar">johannes:</div>
<blockquote><p>It is a challenging quest to balance between backwards bug-by-bug compatibility and pushing forward improvements, without creating a dense forest of objects. I really appreciate all your input here, also contributions to an implementation would be very welcome.</p></blockquote></aside>

<p>I think, within a 'namespace' (let's say, osc/sine ), implementation should be stable, at least on minor versions: backwards compatible controls and in/outlets, and if additional ones are added, the object should work the same as before if those newer features have no input.</p>

<p>And if somebody wants to make significant functionality changes, he/she should fork then ( ~andor/osc/sine ).</p>

<aside class="quote" data-post="11" data-topic="484"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/johannes/40/8_1.png" class="avatar">johannes:</div>
<blockquote><p>For the reference - there was some discussion about this topic here: <a href="https://github.com/axoloti/axoloti/issues/129" rel="nofollow">https://github.com/axoloti/axoloti/issues/129</a></p></blockquote></aside>

<p>Long thread! It's bit late here, so I'll take a look tomorrow. I'll also check how apt and pip repositories manage internally version chronology and dependencies and try to think of a simple inplementation to do version fetching. Simple is better!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2015-10-12T00:07:15Z' itemprop='datePublished'>
             2015-10-12 00:07:15 UTC
           </time>
        </span>
        <span itemprop='position'>#13</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>aren't we in some ways 'reinventing' the wheel here... surely if you want versioning, we should just use a version control system (even if its hidden from the user)</p>

<p>(ok this is flawed, but its just an idea, to show what I mean)</p>

<p>what if all objects were stored in a local git repo, pulled from a central source. then a patch stores the object name and a commit id?</p>

<p>now when loading a patch we can see if the current commit id has changed, and we can also pull an old object using the commit id stored in patch.</p>

<p>ok, we have to hide git, so use Jgit (or similar) to create options for the users BUT there is huge scope over time... e.g. the object has changed, we let the user see the versions with the checkin descriptions, who did it, when etc... potentially even showing them the differences...</p>

<p>(note: if you have multiple repos, then you will need to store repo + commit id , as they are not unique across)</p>

<p>also this allows for a bit of 'advanced stuff' including running from a forked repo, which would can then issue pull requests for.</p>

<p>(git is an example as we are using currently, but any version control system does this kind of stuff, and many have open apis now)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/andor'><b itemprop='author'>andor</b></a>
           
           <time datetime='2015-10-12T23:36:41Z' itemprop='datePublished'>
             2015-10-12 23:36:41 UTC
           </time>
        </span>
        <span itemprop='position'>#14</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="13" data-topic="484"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>what if all objects were stored in a local git repo, pulled from a central source. then a patch stores the object name and a commit id?</p></blockquote></aside>

<p>I'm thinking about it because, If you pull the whole repo, you need to be travelling back and forth around commits to find the correct version for each one.</p>

<p>But instead of that, <em>sparse checkout</em> might get handy. <em>Sparse checkout</em> is like a partial checkout:  just for a portion of the tree of the repository. So you can do several sparse checkouts, one for each object in the project, and navigate back and forth separately on each object if needed.</p>

<p>This is funny because just 5 minutes ago I was thinking sparse checkout was a PITA and I would never use it.</p>

<p>Anyway, a git repository always might hold one problem: user edits one parameter on the original subpatch, and the repository won't allow updating unless you do a <em>git stash</em> or a <em>git reset</em>, and things might get funny.</p>

<p>Anyway, my option is either that, or packaging each commit for each object, statically, in a zip, in a plain webserver, so if you want certain version of an object, you just:</p>

<pre><code>wget http://axo.andorfictionalsite.com/objects/osc/sine/ah34561.zip</code></pre>

<p>And done.</p>

<p>For packages I'm always a fan of static webpages, so I'm still a bit more inclined to the second option <img src="/images/emoji/emoji_one/wink.png?v=0" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2015-10-13T10:29:41Z' itemprop='datePublished'>
             2015-10-13 10:29:41 UTC
           </time>
        </span>
        <span itemprop='position'>#15</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>not convinced...<br>you won't be travelling back and forth via commits... as most of the time, users will be dealing with latest versions, and not particularly  old versions.</p>

<p>sparse checkout, id add if/when needed... don't overcomplicate from the start... my experience is repos are not particularly large, and I've never had an issue, I cannot see the axo objects are particularly large as they are text objects so are compressed.</p>

<p>merge/stash, this needs to be considered (which is why is set my idea has flaws), essentially my idea was that users would NOT edit the repo directly, more there changes would be submitted by the app into the repo SO it could for changes, do syncs beforehand etc to prevent this.<br>(not as simple as that but solvable i think)</p>

<p>I know the tendency is to think this is 'overkill' we only need something simple, but Ive seen this so many times on projects... a team hack together a simple solution, which overtime gets more involved and complex... (I've seen it with files vs databases, version control and N other things) and it ends in a dogs breakfast and a maintenance nightmare.<br>and I can see it here already....</p>

<p>a file solution, will not provide any history, or authoring, or dates, comments, or checkpoints.... how long before someone suggests as well as the files we need metadata (so we can see comments, or the date of change, or the author), or wants to be able to access a file from 3rd January...  how long before someone says its too big, we need to store only differences, or compress it?<br>I don't think any of these are unreasonable requests... and are probably likely, once the library has been around for a while..... before long you have build a version control system.</p>

<p>its the same with packaging and interdependencies, first people want zip files, then they want dependancy management, package retrieval, archiving.</p>

<p>doing this, means before you know it yours spending weeks of development time on it, which we just don't have... and there are many more interesting things to get on with.</p>

<p>Im not saying we could not build a custom solution, we could , but frankly, as an open source developer Im not interested in build a VCS/Packaging system (if I were, Id contribute to a VCS/packaging project)... Im interested in building a music related product, this is what I think Axolotl excels at.. we all want a user library, but this is only 3% of the requirement, so I don't want to spend 80% dev time on it.... a few days, not a few weeks/months for me.</p>

<p>BUT this is <strong>only my opinion</strong>, if it interests you/johannes thats cool <img src="/images/emoji/emoji_one/smile.png?v=0" title=":smile:" class="emoji" alt=":smile:"> </p>

<p>one point on 'requirements', please remember many musicians will have axoloti UI on a machine in a studio that is NOT connected to the internet (also if they are 'away' they might not have an easy way to connect), so we should minimise the amount of online retrieval... which means having local caches.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/andor'><b itemprop='author'>andor</b></a>
           
           <time datetime='2015-10-13T17:02:02Z' itemprop='datePublished'>
             2015-10-13 17:02:02 UTC
           </time>
        </span>
        <span itemprop='position'>#16</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So...</p>

<p>What about this?</p>

<p>Including the objects git repo with the axoloti software distribution, so the user has objects versions at least as new as the release they are downloading, and then, when opening a project, copying needed object versions to the working directory of the project, either the same the user was using, or newer if the user wants to upgrade.</p>

<p>I wouldn't overwrite wathever objects the user already have there, I would use a separate directory for git pulled objects, something like this:</p>

<pre><code>mysynth
├── mysynth.axp
├── coolsine.axp
├── supersaw.axp
└── dependencies
    ├── sine.axp
    ├── sine.axh
    ├── mux.axp
    ├── mux.axh
    └── versions.axd</code></pre>

<p>But would be awesome if the xml definitions files have enough information for an external dependency system to work. I'm not thinking to write a full fledged dependency system, but reusing some simple package manager already existing and store packages in plain directories <img src="/images/emoji/emoji_one/smiley.png?v=0" title=":smiley:" class="emoji" alt=":smiley:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2015-10-13T17:22:16Z' itemprop='datePublished'>
             2015-10-13 17:22:16 UTC
           </time>
        </span>
        <span itemprop='position'>#17</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>obviously we need <a class="mention" href="/users/johannes">@johannes</a>'s input on this, but I know ihis very busy prepping for the makers fair in rome (as he won it <img src="/images/emoji/emoji_one/tada.png?v=0" title=":tada:" class="emoji" alt=":tada:"> )</p>

<p>hmm, copy files is always a pain, as it means you end up with different versions in different projects, becomes a mess really quickly.  I think the way to handle this would be to do what Ableton does, and have a 'collect' option, which basically copies all dependancies into the project.... and its a one off hit (afaik) </p>

<p>Im not quite sure I understand why you want the stuff packaged / dependancies etc.<br>The only purpose I can see for this is distributing entire patches to other users...<br>this has 2 use cases I see:</p>

<ul>
<li>demo/songs, and their sub-patches</li>
<li>components that required other components.</li>
</ul>

<p>the former, we haven't seen much of so far.... its possible to use he patch/patcher object to avoid having subpatches as separate files... ok, there are other dependancies e.g. wav files, but really do we have a strong use case for this?<br>the later, mostly sub-patches have used factory objects, which are distributed (at the moment) with the release, so this is a dependancy, but they don't have interdependancy to other sub-patches, although it is possibly they could, but again we are some way of that now.</p>

<p>as for multiple repos... well really the point is we want one central one, we don't really want people having to got to many sources... but i will grant, I think it may be at some point moving the factory objects to its own repo might be good, as these <strong>may</strong> get updated more frequently than a software release.</p>

<p>Id also get concerned that a packaging system is almost contradictory to a fine grained object library.... or at the very least a completely different concern.</p>

<p>as it is today, I think the more pressing problem is sharing objects/sub-patches.... but again thats just my opinion.</p>

<p>(there is an argument that some users will want complete solutions e.g. a reverb pedal , but for that one could argue that sharing the binary is a better idea.. then the only dependency you have is the firmware version on the axo board)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/andor'><b itemprop='author'>andor</b></a>
           
           <time datetime='2015-10-13T17:41:43Z' itemprop='datePublished'>
             2015-10-13 17:41:43 UTC
           </time>
        </span>
        <span itemprop='position'>#18</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don't have Ableton around, I should check that, but, I think we're now around a similar idea.</p>

<p>About yours: if you have a proyect, 'collect' all objects, which, lets say, are version 1.1, and a month later, you create a new project, collect all objects, which are now v1.2... Don't you have now different versions all around on your different proyects?</p>

<p>About my (parallel) idea:</p>

<p>When I say "dependencies" I mean, patch dependencies (my patch needs this, this and this object), not complex dependencies (my patch needs this object, and that object are dependent on this other 3 objects and so on).</p>

<p>My idea is creating a way for people to share objects or groups of objects easily, not depending on having access to your repository. Mantaining 10 or 20 different commiters on an object repository can be feasible, but, if people begins to share lots and lots of patches, you're going to expend more time giving repo access or aproving patches than developing axoloti.</p>

<p>So, I'm thinking on an easy way of putting online user created objects or patches collections.</p>

<p>If you are (have been) an Ubuntu user, think about very simple "PPAs" but for objects or patches.</p>

<p>I'm with you on the last "complete solutions" thing. Unless we want to become a similar-in-a-way-but-not-the-same-at-all-spirit thing like <a href="http://portalmod.com/promo" rel="nofollow">Mod DUO</a>.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/alex'><b itemprop='author'>alex</b></a>
           
           <time datetime='2015-10-13T21:18:15Z' itemprop='datePublished'>
             2015-10-13 21:18:15 UTC
           </time>
        </span>
        <span itemprop='position'>#19</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="17" data-topic="484"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>have a 'collect' option, which basically copies all dependancies into the project</p></blockquote></aside>

<p>I think I've mentioned this before:<br>it would be easy to 'zip' multiple files into one and give it a different extension (like .axc , for 'collection').  It would only have to include the modules that are not factory objects. Opening such a file would simply unpack it in /tmp/folder/ , and axoloti should also look for its modules there (temporary) . <br>This works for modules, however sub-patches could be a bit more complex.</p>

<p>(this is somewhat similar to OpenDocument Format , which is basically a zip containing a few xml files , and renamed to .odf)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/johannes'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2015-10-13T21:24:52Z' itemprop='datePublished'>
             2015-10-13 21:24:52 UTC
           </time>
        </span>
        <span itemprop='position'>#20</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Could we structure the pro's/cons of different approaches in a shared document or something?<br>It is important to choose the right direction. <br>I agree that developing an entire packaging/VCS is beyond the scope of this project, but I am not convinced that the needs are very similar. </p>

<p>I think the key need is de-duplication, and promote migration to improved revisions so old bugs can die.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='How are UUID and SHA generated'>
      <hr>
  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement'>
      <span itemprop='url'><b><a rel="next" itemprop="name" href="/t/how-are-uuid-and-sha-generated/484?page=2">next page →</a></b></span>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='/'>Home</a>
        <a href="/categories">Categories</a>
        <a href="/guidelines">FAQ/Guidelines</a>
        <a href="/tos">Terms of Service</a>
        <a href="/privacy">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  
</html>
