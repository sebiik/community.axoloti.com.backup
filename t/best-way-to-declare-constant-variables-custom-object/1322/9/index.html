<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Best Way To Declare Constant Variables Custom Object - Software - Axoloti Community</title>
    <meta name="description" content="What&amp;#39;s the best way/place to declare a constant variable in a custom Axo object? I want to make a custom object that requires several data arrays/lookup tables, so want to know the most resource-efficient way to do this. &amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.5.0.beta6 - https://github.com/discourse/discourse version fbffe287724f663d3fda72b8d37d6ae8a5552d11">
<link rel="icon" type="image/png" href="/images/default-favicon.ico">
<link rel="apple-touch-icon" type="image/png" href="/images/default-apple-touch-icon.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="https://sebiik.github.io/community.axoloti.com.backup/t/best-way-to-declare-constant-variables-custom-object/1322" />

      
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
  ga('send', 'pageview');

</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Best Way To Declare Constant Variables Custom Object&#39;" href="https://sebiik.github.io/community.axoloti.com.backup/t/best-way-to-declare-constant-variables-custom-object/1322.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta property="og:url" content="http://community.axoloti.com/t/best-way-to-declare-constant-variables-custom-object/1322/9" />
<meta name="twitter:url" content="http://community.axoloti.com/t/best-way-to-declare-constant-variables-custom-object/1322/9" />
<meta property="og:title" content="Best Way To Declare Constant Variables Custom Object" />
<meta name="twitter:title" content="Best Way To Declare Constant Variables Custom Object" />
<meta property="og:description" content="Oh good, so I don&#39;t have to get involved in manual garbage-collection. That&#39;s a relief..   a|x" />
<meta name="twitter:description" content="Oh good, so I don&#39;t have to get involved in manual garbage-collection. That&#39;s a relief..   a|x" />

    <style>
        img { max-width: 100%; width: auto; height: auto; }
    </style>
  </head>
  <body>
      
    <header>
      <a href="/"><img src="/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="/t/best-way-to-declare-constant-variables-custom-object/1322">Best Way To Declare Constant Variables Custom Object</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="/c/software" itemprop="url">
        <span itemprop="title">Software</span>
      </a>
    </div>
</div>

<hr>


  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-03-18T10:07:08Z' itemprop='datePublished'>
             2016-03-18 10:07:08 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>What's the best way/place to declare a constant variable in a custom Axo object?<br>I want to make a custom object that requires several data arrays/lookup tables, so want to know the most resource-efficient way to do this.</p>

<p>Cheers,</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/johannes'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-03-18T12:36:31Z' itemprop='datePublished'>
             2016-03-18 12:36:31 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Object "attributes" are known at compile time, and cause the string "attr_name" anywhere in the object code to be replaced with the attribute value.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-03-18T16:01:47Z' itemprop='datePublished'>
             2016-03-18 16:01:47 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Oh, OK, so I'd declare them in the attributes block of the object XML.</p>

<p>Would I just declare them as standard C variable type (int32_t etc.)?</p>

<p>To be clear, I'm talking about lookup tables and other constants in arrays, so I wouldn't want them to be exposed as object options in the Patcher.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-03-22T13:19:01Z' itemprop='datePublished'>
             2016-03-22 13:19:01 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I realise I meant 'static' where I said 'constant'.</p>

<p>Is there any mileage in declaring lookup tables etc. as static, and how/where would I do that, if so?</p>

<p>Let's assume I want to declare as array of 32 bit integers, as an example.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/johannes'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-03-22T14:46:17Z' itemprop='datePublished'>
             2016-03-22 14:46:17 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p><code>const int32_t p[4]={1,2,3,4};</code><br>in the "Local data" section</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-03-22T16:11:18Z' itemprop='datePublished'>
             2016-03-22 16:11:18 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I see. Are there advantages to doing this, over declaring a standard dynamic variable, in term of memory-management efficiency of compiled code?</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-03-22T18:15:36Z' itemprop='datePublished'>
             2016-03-22 18:15:36 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>we dont allocate memory dynamically  (e.g dont start using malloc etc).<br>the above 'theoretically' is allocated on the stack. (unless you declared it static, but then you would have issues with multiple instances of your object!)<br>the next steps, come into the realms of the compilers optimiser, since you declare it const, then it knows it doesn't have to have multiple instances for each object, since they are all the same, and cannot change... i.e. it will probably end up like a static BUT it may be able to do further optimisation, e.g. if you referred to and index explicitly, it could substitute the hard coded value (and if thats combined with other constants it can then further optimise that!) </p>

<p>I would point out this is all 'standard C', none of this is really specific to axoloti.</p>

<p>btw: if its a large array, then the other consideration is to potentially add the sdram attribute to it, as there is more space there. but this seems unlikely given your wanting to fill it with constant values.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:2'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-03-22T19:22:43Z' itemprop='datePublished'>
             2016-03-22 19:22:43 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thank you thetechnobear. I should do a bit of reading on C. I did start a short course in it a very long time ago, but wasn't able to complete it because my circumstances changed, and I could no longer make it to the sessions.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-03-22T20:34:09Z' itemprop='datePublished'>
             2016-03-22 20:34:09 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="7" data-topic="1322"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/thetechnobear/40/6_1.png" class="avatar">thetechnobear:</div>
<blockquote><p>e.g dont start using malloc etc</p></blockquote></aside>

<p>Oh good, so I don't have to get involved in manual garbage-collection. That's a relief..</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='/'>Home</a>
        <a href="/categories">Categories</a>
        <a href="/guidelines">FAQ/Guidelines</a>
        <a href="/tos">Terms of Service</a>
        <a href="/privacy">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="http://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
      
  </body>
</html>
