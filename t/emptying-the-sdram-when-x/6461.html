<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/emptying-the-sdram-when-x/6461 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 Jul 2023 17:59:06 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Emptying the sdram when X? - Patching - Axoloti Community</title>
    <meta name="description" content="So, I&amp;#39;m back at it working on my experimental delay, and I&amp;#39;ve gotten to the point where it functions very much like intended, except for when I bypass the pedal (reroute the signal to have no processing) the feedback of &amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="6461.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Emptying the sdram when X?&#39;" href="6461.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/emptying-the-sdram-when-x/6461" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/emptying-the-sdram-when-x/6461" />
<meta property="og:title" content="Emptying the sdram when X?" />
<meta name="twitter:title" content="Emptying the sdram when X?" />
<meta property="og:description" content="So, I&#39;m back at it working on my experimental delay, and I&#39;ve gotten to the point where it functions very much like intended, except for when I bypass the pedal (reroute the signal to have no processing) the feedback of the audio stored in sdram keeps playing when I turn the pedal back on (if I had the feedback up to make a sound-on-sound sort of effect or a delay loop or oscillation). Is there any way to make the button (aka bypass switch) clear whatever is stored in the sdram? Right now I&#39;m ju..." />
<meta name="twitter:description" content="So, I&#39;m back at it working on my experimental delay, and I&#39;ve gotten to the point where it functions very much like intended, except for when I bypass the pedal (reroute the signal to have no processing) the feedback of the audio stored in sdram keeps playing when I turn the pedal back on (if I had the feedback up to make a sound-on-sound sort of effect or a delay loop or oscillation). Is there any way to make the button (aka bypass switch) clear whatever is stored in the sdram? Right now I&#39;m ju..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="2 â¤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="6461.html">Emptying the sdram when X?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/patching.html" itemprop="url">
        <span itemprop="title">Patching</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Agoraphobe.html'><b itemprop='author'>Agoraphobe</b></a>
           
           <time datetime='2020-03-04T15:23:50Z' itemprop='datePublished'>
             2020-03-04 15:23:50 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>So, I'm back at it working on my experimental delay, and I've gotten to the point where it functions very much like intended, except for when I bypass the pedal (reroute the signal to have no processing) the feedback of the audio stored in sdram keeps playing when I turn the pedal back on (if I had the feedback up to make a sound-on-sound sort of effect or a delay loop or oscillation). Is there any way to make the button (aka bypass switch) clear whatever is stored in the sdram? Right now I'm just making the button also turn the feedback to zero, but if the delay time is long or the oscillations are very loud it takes a bit of time for it to clear, which is less than desireable. Any tips?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Emptying the sdram when X?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/weasel79.html'><b itemprop='author'>weasel79</b></a>
           
           <time datetime='2020-03-04T22:34:48Z' itemprop='datePublished'>
             2020-03-04 22:34:48 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>assuming you store the delay audio in a table, you could just make an object that wipes said table. couldn't find an existing one (really?? seems obvious), but worst case you can just write a quick loop that iterates through the length of the table and sets it to 0?</p>

<p>edit. i did this with my eyes closed, ie. no axoloti to compile but check the attached object.</p>

<blockquote><p>if (inlet_trig){<br>	for (int i=0; i&lt;attr_table.LENGTH; i++){<br>		attr_table.array[i]=0;<br>	}}</p></blockquote>

<p><a class="attachment" href="../../uploads/default/original/2X/2/clear.axo">clear.axo</a> (543 Bytes)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Emptying the sdram when X?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/MattilynMattroe.html'><b itemprop='author'>MattilynMattroe</b></a>
           
           <time datetime='2020-03-05T10:19:37Z' itemprop='datePublished'>
             2020-03-05 10:19:37 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Nice one weasel. You can also use rbrt's tcopy (or is it called tablecopy? Can't check right now.) <br>That lets you clear a table. Or a section of a table</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Emptying the sdram when X?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Agoraphobe.html'><b itemprop='author'>Agoraphobe</b></a>
           
           <time datetime='2020-03-05T10:55:10Z' itemprop='datePublished'>
             2020-03-05 10:55:10 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don't think I'm using a table. At least I'm pretty sure I'm not because I never figured out how tables work or how to put them into my patch in any way that works. I've seen plenty of users on here say how easy it is, but I've yet to read any instructions on the basics of how to use them.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Emptying the sdram when X?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SirSickSik.html'><b itemprop='author'>SirSickSik</b></a>
           
           <time datetime='2020-03-07T11:32:24Z' itemprop='datePublished'>
             2020-03-07 11:32:24 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>the delay module is also a type of table.<br>For the ram type, the size of the table is set like "int32_t array[LENGTH]" where the length is set with the size attribute.<br>for the SDram type, inside the recording module, you have the "int32_t *array;" in "local" content, which is used as a table, where the length of the table is set in the "init" content.</p>

<p>you could see it like this:<br>you could create multiple "int32_t" by doing like,<br>int32_t a1,a2,a3,a4,a5,a6...... etc. allowing you to store a 32-bit value into each of these.<br>But, you could also just use one name and turn it into an array like this: int32_t a[6];<br>Which, in a sense, is just six 32-bit values in a row, which can be selected by entering a number between 0 and 5 between the brackets..</p>

<p>The table and delay modules both make use of these tables, although in a somewhat different way due to how the table is used.<br>The table arrays are often used such that, for the table-write module, you can select an index at the input side and put an incoming value somewhere at some index of the table. Then the table-read module has an input to select an index of the table and output the stored value from that index position.</p>

<p>The delay module works alike, except it has one important difference: the write and read positions are "coupled" as the delaytime is a position in comparison to the write position (it follows the writeposition at a certain distance).<br>So to have a 1 second delay at a 48000hz samplerate, you need to offset the read position by 48000 steps in comparison to the writeposition to read out the table at the position that was written 1 second or 48000 samples ago, by subtracting 48000 from the current writeposition.<br>This would look like this:<br>writepos=(writepos+1)&amp;LENGTHMASK;<br>array[writepos]=inlet_input;<br>delayedsignal=array[(writepos-48000)&amp;LENGTHMASK];</p>

<p>so the table is a set of int32_t values (or whatever bitsize you're using), which is constantly being overwritten to save the last incoming audio. The maximum size of the recording is set by the table length, after which the buffer is overwriting the values that were stored before, but at a time longer then the table can hold (eg. if your table size is 48000, you can only record 1 second, so after a second, it will overwrite the value that was recorded a second ago).</p>

<p>So to clear a delay, all you need to do is to set all these values inside the table to zero, so when they're being read, they just return "0".<br>The fact that you can use an index number makes it really easy to do:</p>

<p>if(off &amp;&amp; ! (inlet_active))<br>{<br>off=1;<br>for(int i=0;i&lt;LENGTH;i++)<br>{<br>array[i]=0;<br>}<br>}<br>else if(inlet_active){off=0;}</p>

<p>this sets all the values from i=0 up to i=length-1 of the "array" table to zero.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Emptying the sdram when X?'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/emptying-the-sdram-when-x/6461 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 Jul 2023 17:59:08 GMT -->
</html>
