<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Multiple File Attributes - AxoObject coding - Axoloti Community</title>
    <meta name="description" content="Is it possible to have multiple attributes of the &amp;#39;file&amp;#39; type on the same object? 

I&amp;#39;m making a file-loader object, and sometimes the type of files I want to load come in two parts, so I need an optional second file att&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.6.0.beta7 - https://github.com/discourse/discourse version c671b129ab43c8e6462795034a39af9a81214b09">
<link rel="icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="https://sebiik.github.io/community.axoloti.com.backup/t/multiple-file-attributes/2030" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://sebiik.github.io/community.axoloti.com.backup/opensearch.xml">

      
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
  ga('send', 'pageview');

</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Multiple File Attributes&#39;" href="https://sebiik.github.io/community.axoloti.com.backup/t/multiple-file-attributes/2030.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta property="og:url" content="http://community.axoloti.com/t/multiple-file-attributes/2030" />
<meta name="twitter:url" content="http://community.axoloti.com/t/multiple-file-attributes/2030" />
<meta property="og:title" content="Multiple File Attributes" />
<meta name="twitter:title" content="Multiple File Attributes" />
<meta property="og:description" content="Is it possible to have multiple attributes of the &#39;file&#39; type on the same object?   I&#39;m making a file-loader object, and sometimes the type of files I want to load come in two parts, so I need an optional second file attribute.   I did try it just adding a second file attribute to the Factory &#39;alloc 16b scram load&#39; object, with no actual loading code in the Init section of the object XML, but it seems to cause the Axoloti Core to disconnect with the following error, if the second file path field..." />
<meta name="twitter:description" content="Is it possible to have multiple attributes of the &#39;file&#39; type on the same object?   I&#39;m making a file-loader object, and sometimes the type of files I want to load come in two parts, so I need an optional second file attribute.   I did try it just adding a second file attribute to the Factory &#39;alloc 16b scram load&#39; object, with no actual loading code in the Init section of the object XML, but it seems to cause the Axoloti Core to disconnect with the following error, if the second file path field..." />

    <style>
      header img {
        max-width: 90% !important;
        padding-bottom: 10px;
      }

      img { max-width: 100%; width: auto; height: auto; }

      #main-outlet > div {
        margin-bottom: 15px;
      }

      footer nav a {
        margin-right: 15px;
      }

      footer nav {
        line-height: 30px;
      }

      body {
        max-width: 98%;
        padding-left: 1%;
      }
      .topic-list > div > a {
        margin-right: 10px;
      }
      .topic-list > div .posts {
          margin-left: 10px;
      }
      .topic-list > div {
        margin-bottom: 15px;
      }

    </style>
  </head>
  <body>
      
    <header>
      <a href="/"><img src="/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 400px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="/t/multiple-file-attributes/2030">Multiple File Attributes</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="/c/axoobject-code" itemprop="url">
        <span itemprop="title">AxoObject coding</span>
      </a>
    </div>
</div>




<hr>


  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-07-23T21:15:48Z' itemprop='datePublished'>
             2016-07-23 21:15:48 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Is it possible to have multiple attributes of the 'file' type on the same object?</p>

<p>I'm making a file-loader object, and sometimes the type of files I want to load come in two parts, so I need an optional second file attribute.</p>

<p>I did try it just adding a second file attribute to the Factory 'alloc 16b scram load' object, with no actual loading code in the Init section of the object XML, but it seems to cause the Axoloti Core to disconnect with the following error, if the second file path field is left blank:</p>

<pre><code>file cd2352.vsm matches timestamp and size, skip uploading
Generate code complete
Start creating directory on sdcard : /multifile-load-test
creating dir: /multifile-load-test
Done creating directory
Changing working directory on sdcard : /multifile-load-test
Change working directory: /multifile-load-test
Done changing working directory
Start uploading file to sdcard : /multifile-load-test/working
IOException,java.io.FileNotFoundException: /Volumes/NO NAME/talkie/working (Is a directory)
java.io.FileNotFoundException: /Volumes/NO NAME/talkie/working (Is a directory)
	at java.io.FileInputStream.open0(Native Method)
	at java.io.FileInputStream.open(FileInputStream.java:195)
	at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)
	at qcmds.QCmdUploadFile.Do(QCmdUploadFile.java:78)
	at axoloti.USBBulkConnection$Transmitter.run(USBBulkConnection.java:855)
	at java.lang.Thread.run(Thread.java:745)

Disconnect request
Done uploading file</code></pre>

<p>I presume some behind-the-scenes filesystem checking is going on, and it's this that is failing, causing the disconnect.</p>

<p>If I put something (can be just a single character) into the second field, it uploads the first file without an error, and the Core isn't disconnected. I guess this is a bug, but hadn't been discovered before because nobody has attempted what I'm trying to do.</p>

<p>So, I guess my question is two-fold.</p>

<ol>
<li>Should it be possible to have multiple file uploads to SDRAM from a single object</li>
<li>Is the above error a bug, and if so, can it be fixed such that the second file field can be left blank, without this causing the Axoloti hardware to disconnect?</li>
</ol>

<p>I should probably file this as a bug-report, but I want to be sure I'm not doing something that is specifically unsupported/not supposed to be possible, before I go ahead with that.</p>

<p>Cheers,</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-07-24T00:25:54Z' itemprop='datePublished'>
             2016-07-24 00:25:54 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>actually the multiple files is a 'red herring', it does it on single files too...</p>

<p>its an issue with blank file attributes, where the patch has been saved.<br>I suspect, whats happening is the patches directory is being added to the filename, and then the filename length is being checked to zero or not. (hence why unsaved patches work) </p>

<p>a quick check of the code, indicates this is likely, but I will need to check tomorrow in the debugger to be 100%, then I will fix for next release.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-07-24T08:34:51Z' itemprop='datePublished'>
             2016-07-24 08:34:51 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Ah, sorry, I didn't test with just a single file attribute.</p>

<p>File that as a bug-report, then <img src="/images/emoji/emoji_one/slight_smile.png?v=2" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>

<p>So it should be fine to have two of them. Good news.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-07-24T11:47:46Z' itemprop='datePublished'>
             2016-07-24 11:47:46 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>yeah, seem to work the multiple attributes from the quick test i did.</p>

<p>for the time being, you can probably work around, using a 'text' attribute, or  a string input.<br>you wont get the file choosing or automatic uploading, but will let you continue, till a release is made.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/toneburst'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-07-24T14:56:26Z' itemprop='datePublished'>
             2016-07-24 14:56:26 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'll probably just put a big warning in the module description, if I release it before the fix is rolled out. Afterall, it doesn't crash the patcher, and the workaround should just be to put something in both fields. My code will check if the second file exists, and only load it if it does.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/Article'>
      <div class='creator'>
        <span>
          <a href='/users/thetechnobear'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2016-07-24T15:29:31Z' itemprop='datePublished'>
             2016-07-24 15:29:31 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>ok, Ive fixed this in dev, so empty filename is handled in same way regardless of patching being saved or not.<br>(might be mid term, we review this further, as per others posts on sample handling and resources)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <hr>
  </div>





    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='/'>Home</a>
        <a href="/categories">Categories</a>
        <a href="/guidelines">FAQ/Guidelines</a>
        <a href="/tos">Terms of Service</a>
        <a href="/privacy">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="http://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
      
  </body>
</html>
