<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/personal-hardware-convolution-filter-is-slow/3337 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:03:44 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Personal Hardware: Convolution Filter is slow - Developer - Axoloti Community</title>
    <meta name="description" content="Hey guys I&amp;#39;m not sure if it&amp;#39;s appropriate to ask this here, but it seemed like the best area.  

I&amp;#39;m working on a convolution filter on custom hardware running a STM32F405 and a CS4270 codec running on the I2S in full-du&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="3337.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Personal Hardware: Convolution Filter is slow&#39;" href="3337.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/personal-hardware-convolution-filter-is-slow/3337" />
<meta name="twitter:url" content="http://community.axoloti.com/t/personal-hardware-convolution-filter-is-slow/3337" />
<meta property="og:title" content="Personal Hardware: Convolution Filter is slow" />
<meta name="twitter:title" content="Personal Hardware: Convolution Filter is slow" />
<meta property="og:description" content="Hey guys I&#39;m not sure if it&#39;s appropriate to ask this here, but it seemed like the best area.    I&#39;m working on a convolution filter on custom hardware running a STM32F405 and a CS4270 codec running on the I2S in full-duplex. I&#39;ve done a couple of sample player projects on this platform that came out nicely.    For this project I haven&#39;t been able to get more than about 400 taps to run on the CMSIS DSP FIR implementation using q15. This didn&#39;t seem right from what i&#39;ve read on the internet so I ..." />
<meta name="twitter:description" content="Hey guys I&#39;m not sure if it&#39;s appropriate to ask this here, but it seemed like the best area.    I&#39;m working on a convolution filter on custom hardware running a STM32F405 and a CS4270 codec running on the I2S in full-duplex. I&#39;ve done a couple of sample player projects on this platform that came out nicely.    For this project I haven&#39;t been able to get more than about 400 taps to run on the CMSIS DSP FIR implementation using q15. This didn&#39;t seem right from what i&#39;ve read on the internet so I ..." />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="3337.html">Personal Hardware: Convolution Filter is slow</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/developer.html" itemprop="url">
        <span itemprop="title">Developer</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/tractuspk.html'><b itemprop='author'>tractuspk</b></a>
           
           <time datetime='2017-05-17T14:40:16Z' itemprop='datePublished'>
             2017-05-17 14:40:16 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hey guys I'm not sure if it's appropriate to ask this here, but it seemed like the best area. </p>

<p>I'm working on a convolution filter on custom hardware running a STM32F405 and a CS4270 codec running on the I2S in full-duplex. I've done a couple of sample player projects on this platform that came out nicely. </p>

<p>For this project I haven't been able to get more than about 400 taps to run on the CMSIS DSP FIR implementation using q15. This didn't seem right from what i've read on the internet so I decided to test the idea on the Axoloti as a benchmark. As you all know the Axoloti performs significantly better. I haven't tested using the Discovery board version. That implementation is more similar to the hardware I'm running, but I doubt hardware differences are big enough to see that type of performance difference. </p>

<p>The code in the Axoloti convolution object looks very similar to the CMSIS code. I'm running a bare-metal implementation using CubeMX and HAL. No RTOS. I even wrote a barebones interrupt handler for I2S DMA to avoid all the bloat in the HALmx version. Any ideas on where I'm losing my processing time? All interrupts beside the Systick and the I2S dma interrupts are turned off.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Personal Hardware: Convolution Filter is slow'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/personal-hardware-convolution-filter-is-slow/3337 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:03:44 GMT -->
</html>
