<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/custom-object-mixed-variable-types/1384/11 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:24:48 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Custom Object Mixed Variable Types - Software - Axoloti Community</title>
    <meta name="description" content="I&amp;#39;m trying to make an emulation of the Turing Machine Euro shift-register pattern-generator. 

The original uses 2 analogue shift-register ICs in series. I thought of using a 16bit number to store the bits that need to b&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="../1384.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Custom Object Mixed Variable Types&#39;" href="../1384.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/user_avatar/community.axoloti.com/jeromeb/200/6792_1.png" />
<meta property="og:image" content="http://community.axoloti.com/user_avatar/community.axoloti.com/jeromeb/200/6792_1.png" />
<meta property="og:url" content="http://community.axoloti.com/t/custom-object-mixed-variable-types/1384/11" />
<meta name="twitter:url" content="http://community.axoloti.com/t/custom-object-mixed-variable-types/1384/11" />
<meta property="og:title" content="Custom Object Mixed Variable Types" />
<meta name="twitter:title" content="Custom Object Mixed Variable Types" />
<meta property="og:description" content="Hi @InvisibleMan,    It&#39;s possible to create a sequence of periodic notes but it will not be a &quot;turing machine&quot; clone. I think it&#39;s possible to create a bigger circular buffer and use just the least significant bits. I will look at it.   Here a version with a euclidean sequencer : http://community.axoloti.com/t/jeromeb-contributions/1419/30?u=jeromeb I use the output (an integer of 8 bits) as an index of a table of pentatonic notes.   I have to push a few objects on the repository. Soon." />
<meta name="twitter:description" content="Hi @InvisibleMan,    It&#39;s possible to create a sequence of periodic notes but it will not be a &quot;turing machine&quot; clone. I think it&#39;s possible to create a bigger circular buffer and use just the least significant bits. I will look at it.   Here a version with a euclidean sequencer : http://community.axoloti.com/t/jeromeb-contributions/1419/30?u=jeromeb I use the output (an integer of 8 bits) as an index of a table of pentatonic notes.   I have to push a few objects on the repository. Soon." />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../../index.html"><img src="../../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="../1384.html">Custom Object Mixed Variable Types</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../../c/software.html" itemprop="url">
        <span itemprop="title">Software</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/toneburst.html'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-03-26T13:08:01Z' itemprop='datePublished'>
             2016-03-26 13:08:01 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm trying to make an emulation of the Turing Machine Euro shift-register pattern-generator.</p>

<p>The original uses 2 analogue shift-register ICs in series. I thought of using a 16bit number to store the bits that need to be shifted. I can rotate the bits, then use bit-shifting to extract two 8bit numbers.</p>

<p>What I'm wondering is, would it be better to use a 32bit int instead of the 16bit uint I was thinking of?</p>

<p>If 16bit is ok, what's the best way to convert the value to the signed 32bit format required for the output value?</p>

<p>Can I just assign the 16bit uint16_t value to the 32bit int32_t outlet?</p>

<p>Sorry for the stupid questions. Am still struggling with variable type-related issues.</p>

<p>Talking of which.. I'm also struggling to do a simple numerical comparison between the value of a 32bit unsigned param and the sampled 32bit signed value from a '+-' inlet.<br>I just want to branch based on whether one is greater than the other, but can't seem to get it to work properly using the '&lt;' operator.</p>

<p>Any tips on either issue much appreciated.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Custom Object Mixed Variable Types'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/JeromeB.html'><b itemprop='author'>JeromeB</b></a>
           
           <time datetime='2016-03-26T13:35:51Z' itemprop='datePublished'>
             2016-03-26 13:35:51 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi Toneburst,</p>

<p>I have a customized versiont of the Turing Machine shift register : <br>- 1 circular buffer of 8 bits<br>- possibility to set an initial value in the buffer<br>- possibility to read value at the beginning of each cycle<br>- random input : set to 0, buffer shift without bit inversion, set to 64 buffer shift with all bits inverted. Between 0 and 64, bits are inverted randomly.<br>- trigmask input : apply bitwise "and" operator on buffer with trigmask value : if not equal to zero, pulse on "O" output.<br>- trig input : shift register if rising edge.</p>

<p><a class="attachment" href="../../../uploads/default/original/2X/d/turing.axo">turing.axo</a> (2.0 KB)</p>

<p><a class="attachment" href="../../../uploads/default/original/2X/9/turing.axh">turing.axh</a> (14.6 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Custom Object Mixed Variable Types'>
      <hr>
            <a href="../../jeromeb-contributions/1419.html">JeromeB Contributions</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/toneburst.html'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-03-26T14:35:02Z' itemprop='datePublished'>
             2016-03-26 14:35:02 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Cool! I'll have a look at how you did it.<br>Still want to work on my own version though, as this is as much about learning how to work with custom object coding as anything else, for me.</p>

<p>Is your object on GitHub, or anywhere I can look at the code? I'm away from my laptop with only iOS devices for the next week, but would love to see what makes your object tick. Maybe you can post the source here, if it's not available elsewhere online, and it's not too long.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Custom Object Mixed Variable Types'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/JeromeB.html'><b itemprop='author'>JeromeB</b></a>
           
           <time datetime='2016-03-26T17:47:39Z' itemprop='datePublished'>
             2016-03-26 17:47:39 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>If you search to see the code, just open turing.axo file with a text editor or, better, use axoloti patcher, menu "edit object definition" then "k-rate code".<br>But I can copy here the k-rate code if you have not axoloti next week : </p>

<pre><code>outlet_o = 0;
if(inlet_trig &gt; 0 &amp;&amp; !ntrig){
    ntrig = 1;

    if((counter % 8) == 0){
        bufferinitvalue = buffer;
        counter = 0;
        if(inlet_initvalue != initvalue){
            buffer = (uint8_t)inlet_initvalue;
            initvalue = (uint8_t)inlet_initvalue;
        }
    }
    counter++;
 
    if((GenerateRandomNumber() % 255) &lt; (inlet_random &gt;&gt; 19)){
        newbit = ~buffer &amp; 0x1;
    } else {
        newbit = buffer &amp; 0x1;
    }
    buffer = (buffer &gt;&gt; 1) | (newbit &lt;&lt; 7);

    if((inlet_trigmask &amp; buffer) &gt; 0) outlet_o = 1;
}

if(!(inlet_trig &gt; 0)) ntrig = 0;

outlet_note = buffer &lt;&lt; 19;
outlet_initvalue = bufferinitvalue;</code></pre>

<p>And local data and init code : </p>

<pre><code>uint8_t ntrig;
uint8_t buffer;
uint8_t newbit;
uint8_t counter;
uint8_t initvalue;
uint8_t bufferinitvalue;

ntrig = 0;
buffer = 1;
counter = 0;
initvalue = 0;
bufferinitvalue = 0;</code></pre>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Custom Object Mixed Variable Types'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/toneburst.html'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-03-26T19:11:51Z' itemprop='datePublished'>
             2016-03-26 19:11:51 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks, that's cool.</p>

<p>I discovered I can open the .axo file you posted directly in Safari on my iPhone. Didn't get time to tell you, earlier.</p>

<p>I see you're using 8bit ints, and not doing anything special when it comes to assigning the final value to the output. I'd assumed you'd need to cast it to 32bit or something.</p>

<p>I'll let you know how I get on with my version when I get back from holiday. I want to add a few twists to the formula, and maybe knock up a couple of companion objects with similar functionality to the Turing Expander modules.</p>

<p>Possibilities, possibilities..</p>

<p>Thanks again,</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Custom Object Mixed Variable Types'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/JeromeB.html'><b itemprop='author'>JeromeB</b></a>
           
           <time datetime='2016-03-26T20:44:48Z' itemprop='datePublished'>
             2016-03-26 20:44:48 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="5" data-topic="1384"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="../../../letter_avatar_proxy/v2/letter/t/b9e5f3/40.html" class="avatar">toneburst:</div>
<blockquote><p>I see you're using 8bit ints, and not doing anything special when it comes to assigning the final value to the output. I'd assumed you'd need to cast it to 32bit or something.</p></blockquote></aside>

<p>Are you sure ? I think upcast is safe, mostly for unsigned integer, no ?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Custom Object Mixed Variable Types'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/toneburst.html'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-03-26T20:59:57Z' itemprop='datePublished'>
             2016-03-26 20:59:57 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'd assumed based on no knowledge <img src="../../../images/emoji/emoji_one/winka4f0.png?v=0" title=":wink:" class="emoji" alt=":wink:"></p>

<p>I've done quite a bit of coding, but only really with higher-level languages, where variable types don't have to be explicitly declared, so still shakey on this stuff.</p>

<p>It makes sense that converting from fewer to more bits works, though, since nothing is lost, whereas going the other way might be more problematic.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Custom Object Mixed Variable Types'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/JeromeB.html'><b itemprop='author'>JeromeB</b></a>
           
           <time datetime='2016-03-26T21:47:00Z' itemprop='datePublished'>
             2016-03-26 21:47:00 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I think standard ISOC89 or 99 specifies that is safe, but i am not sure... C have a poor type system.</p>

<p>Please, share your future turing machine version ! Don't hesitate if I can help you.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Custom Object Mixed Variable Types'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/toneburst.html'><b itemprop='author'>toneburst</b></a>
           
           <time datetime='2016-03-27T13:31:50Z' itemprop='datePublished'>
             2016-03-27 13:31:50 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thanks JeromeB. I'll let you know how I get on, when I return from my week away.</p>

<p>a|x</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Custom Object Mixed Variable Types'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/InvisibleMan.html'><b itemprop='author'>InvisibleMan</b></a>
           
           <time datetime='2018-08-17T10:50:23Z' itemprop='datePublished'>
             2018-08-17 10:50:23 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Love this object and use it in everything. </p>

<p>Haven’t figured out a method to change the number of steps in the sequence—ideas?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Custom Object Mixed Variable Types'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../../u/JeromeB.html'><b itemprop='author'>JeromeB</b></a>
           
           <time datetime='2018-08-18T20:37:15Z' itemprop='datePublished'>
             2018-08-18 20:37:15 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi <a class="mention" href="../../../u/invisibleman-2.html">@InvisibleMan</a>, </p>

<p>It's possible to create a sequence of periodic notes but it will not be a "turing machine" clone.<br>I think it's possible to create a bigger circular buffer and use just the least significant bits. I will look at it.</p>

<p>Here a version with a euclidean sequencer : <a href="../../jeromeb-contributions/1419/3054e5.html?u=jeromeb">http://community.axoloti.com/t/jeromeb-contributions/1419/30?u=jeromeb</a><br>I use the output (an integer of 8 bits) as an index of a table of pentatonic notes.</p>

<p>I have to push a few objects on the repository. Soon.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Custom Object Mixed Variable Types'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../../index.html'>Home</a>
        <a href="../../../categories.html">Categories</a>
        <a href="../../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../../tos.html">Terms of Service</a>
        <a href="../../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/custom-object-mixed-variable-types/1384/11 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:24:48 GMT -->
</html>
