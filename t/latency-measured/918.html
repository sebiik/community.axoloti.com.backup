<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/latency-measured/918 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 Jul 2023 18:46:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Latency measured - Hardware - Axoloti Community</title>
    <meta name="description" content="Hi all, 

I have measured the audio round-trip latency of AxolotiCore. That is, a loop from the patch through DAC and a cable and ADC back to the patch. 

It is approximately 1.99ms or 95.5 samples. (valid for software v&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="918.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Latency measured&#39;" href="918.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="http://community.axoloti.com/t/latency-measured/918" />
<meta name="twitter:url" content="http://community.axoloti.com/t/latency-measured/918" />
<meta property="og:title" content="Latency measured" />
<meta name="twitter:title" content="Latency measured" />
<meta property="og:description" content="Hi all,   I have measured the audio round-trip latency of AxolotiCore. That is, a loop from the patch through DAC and a cable and ADC back to the patch.   It is approximately 1.99ms or 95.5 samples. (valid for software version 1.0.6)   roundtrip_latency.axp (6.4 KB)" />
<meta name="twitter:description" content="Hi all,   I have measured the audio round-trip latency of AxolotiCore. That is, a loop from the patch through DAC and a cable and ADC back to the patch.   It is approximately 1.99ms or 95.5 samples. (valid for software version 1.0.6)   roundtrip_latency.axp (6.4 KB)" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="http://community.axoloti.com/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="918.html">Latency measured</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/hardware.html" itemprop="url">
        <span itemprop="title">Hardware</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Jens_Groh-2.html'><b itemprop='author'>Jens_Groh</b></a>
           
           <time datetime='2016-01-23T13:42:16Z' itemprop='datePublished'>
             2016-01-23 13:42:16 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi all,</p>

<p>I have measured the audio round-trip latency of AxolotiCore. That is, a loop from the patch through DAC and a cable and ADC back to the patch.</p>

<p>It is approximately <strong>1.99ms</strong> or <strong>95.5 samples</strong>. (valid for software version 1.0.6)</p>

<p><a class="attachment" href="../../uploads/default/original/2X/2/roundtrip_latency.axp">roundtrip_latency.axp</a> (6.4 KB)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Latency measured'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/johannes.html'><b itemprop='author'>johannes</b></a>
           
           <time datetime='2016-01-23T14:59:39Z' itemprop='datePublished'>
             2016-01-23 14:59:39 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>That corresponds well with my measurements <img src="http://community.axoloti.com/images/emoji/emoji_one/wink.png?v=0" title=":wink:" class="emoji" alt=":wink:"><br><a href="http://www.axoloti.com/more-info/latency/" class="onebox" target="_blank">http://www.axoloti.com/more-info/latency/</a> <br>(those were made on a prototype long time ago)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Latency measured'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Walla.html'><b itemprop='author'>Walla</b></a>
           
           <time datetime='2017-03-29T17:51:33Z' itemprop='datePublished'>
             2017-03-29 17:51:33 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi there, i know this is old! but how exactly did you come to these measurements from the patch ? I can see how it works, but interested on how you got actual numeric data</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Latency measured'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2017-03-29T18:39:25Z' itemprop='datePublished'>
             2017-03-29 18:39:25 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>its quite simple, and actually the patch can be simplified to make it easier... <br>(you don't really need the delay on the input,  you can fine tune the delay line directly, as you cannot go below 1 sample anyway)<br>anyway, the simple patch will help me explain the time.</p>

<p><a class="attachment" href="../../uploads/default/original/2X/c/rttest.axp">rttest.axp</a> (4.2 KB)</p>

<p>in my patch, I tuned the delay line to 24.25<br>this means its using (24.25/64) of the delay line  ~ 0.378 (37.8%) of 256 samples , which means 97 samples.... 48000 samples per second, so 97 samples = 97  / 48 = 2.0208  msec.</p>

<p>pretty close to Johanne's 2.04 ms <img src="http://community.axoloti.com/images/emoji/emoji_one/slight_smile.png?v=3" title=":slight_smile:" class="emoji" alt=":slight_smile:">, which would be 98 samples (or 24.50 on the dial)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Latency measured'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/Walla.html'><b itemprop='author'>Walla</b></a>
           
           <time datetime='2017-03-31T15:15:07Z' itemprop='datePublished'>
             2017-03-31 15:15:07 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Thank you technobear for the reply and including your working, when you lay it out like that it does look fairly simple actually so thanks again <img src="http://community.axoloti.com/images/emoji/emoji_one/slight_smile.png?v=3" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>Just to be clear, can you just check what i think is happening ?<br>So the input frequency of the saw osc is such that 1 cycle fits in the buffer  window? unsure as to why it gets divided by 4.<br>Been trying to think about why you do (delay out - input), is it because otherwise you would end up with 2 wavefronts ? Thought i understood it but plainly when thinking about it there are still a few gaps in my knowledge</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Latency measured'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/thetechnobear.html'><b itemprop='author'>thetechnobear</b></a>
           
           <time datetime='2017-03-31T17:16:39Z' itemprop='datePublished'>
             2017-03-31 17:16:39 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>so really the patch is more complex than it needs to be (imo), as it allows a bit of tuning, the essence of the patch is...</p>

<p>the way the patch works is, it sends the audio out and back in, and writes to a delay line,<br>then the incoming audio is subtracted from the delayed audio..  so theorectically if the delay time is the same as the physical delay, it will result in zero i.e. a flat line.</p>

<p>the first complication is, this only works if the gain level is identical, below I posted it a bit, and then used a *c to reduce it a bit. <br>(if the gain is wrong, you'll see a copy of the waveform or inverse, as the negation is not complete)</p>

<p>in practice, you'll notice the negation doesn't quite result in zero, there is still some signal left, id assumed this was noise but I'm nnow ot convinced of this.</p>

<p>the frequency of the oscillator theoretically shouldn't matter, but in practice it does, you can see we start getting an offset at higher frequency, my assumption is this is because the sensitivity of either the ADC or DAC changes with frequency</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/c7d158253d8ef9def8f48aa5f2e62dd8c32bf02f" href="http://community.axoloti.com/uploads/default/original/2X/c/c7d158253d8ef9def8f48aa5f2e62dd8c32bf02f.JPG" class="lightbox" title="Capture.JPG"><img src="http://community.axoloti.com/uploads/default/optimized/2X/c/c7d158253d8ef9def8f48aa5f2e62dd8c32bf02f_1_690x491.JPG" width="690" height="491"><div class="meta">
<span class="filename">Capture.JPG</span><span class="informations">1811x1291 125 KB</span><span class="expand"></span>
</div></a></div></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Latency measured'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/latency-measured/918 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 16 Jul 2023 18:46:45 GMT -->
</html>
