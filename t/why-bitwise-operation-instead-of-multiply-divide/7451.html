<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/why-bitwise-operation-instead-of-multiply-divide/7451 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:03:21 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Why bitwise operation instead of multiply/divide? - AxoObject coding - Axoloti Community</title>
    <meta name="description" content="This may sound like a stupid question. My background is in server scripting and some VST cpp, but I never came across as many bitwise operations as in axoloti objects. I can see that there &amp;quot;might&amp;quot; be a performance advant&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="7451.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Why bitwise operation instead of multiply/divide?&#39;" href="7451.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/why-bitwise-operation-instead-of-multiply-divide/7451" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/why-bitwise-operation-instead-of-multiply-divide/7451" />
<meta property="og:title" content="Why bitwise operation instead of multiply/divide?" />
<meta name="twitter:title" content="Why bitwise operation instead of multiply/divide?" />
<meta property="og:description" content="This may sound like a stupid question. My background is in server scripting and some VST cpp, but I never came across as many bitwise operations as in axoloti objects. I can see that there &quot;might&quot; be a performance advantage, but in most environments I would suspect the compiler optimizations to take care of something like that while the code stays better readable with star and slash operators instead of double angle brackets. Why so much bitwise operation in axoloti objects? Is it a simple quest..." />
<meta name="twitter:description" content="This may sound like a stupid question. My background is in server scripting and some VST cpp, but I never came across as many bitwise operations as in axoloti objects. I can see that there &quot;might&quot; be a performance advantage, but in most environments I would suspect the compiler optimizations to take care of something like that while the code stays better readable with star and slash operators instead of double angle brackets. Why so much bitwise operation in axoloti objects? Is it a simple quest..." />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="7451.html">Why bitwise operation instead of multiply/divide?</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/axoobject-code.html" itemprop="url">
        <span itemprop="title">AxoObject coding</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/tekknovator.html'><b itemprop='author'>tekknovator</b></a>
           
           <time datetime='2021-09-01T05:37:32Z' itemprop='datePublished'>
             2021-09-01 05:37:32 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This may sound like a stupid question. My background is in server scripting and some VST cpp, but I never came across as many bitwise operations as in axoloti objects. I can see that there "might" be a performance advantage, but in most environments I would suspect the compiler optimizations to take care of something like that while the code stays better readable with star and slash operators instead of double angle brackets.<br>Why so much bitwise operation in axoloti objects? Is it a simple question of style or is there more to it?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Why bitwise operation instead of multiply/divide?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/lokki.html'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2021-09-01T06:23:30Z' itemprop='datePublished'>
             2021-09-01 06:23:30 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>i think it is a mixture of performance and... yes readability.</p>

<p>since most of the code in axoloti firmware and objects uses fixed point math, there are a lot of conversions going on, once you get used to it those conversions are much easier to read with bit shifts then with actual divisions.</p>

<p>a good example would be the midi handling. in the patcher midi is represented as a blue "signal" (27bit i believe), but it comes in as a 7bit value into axoloti. you can look at the code and simply see that it is bit shifted by 20 places to the left when used in the patcher, which is very well understandable.</p>

<p>i remember quite a bit of discussion in the early days of axoloti about bitshifting and using fixed point math as opposed to "standard" multiplication and division and floating point. as i understood it, a couple of things (table read etc.) were much easier with fixed point, and the signal precision is also better, since it is easier to preserve the relevant bits in fixed point. and bitshifting still seems faster then mul/div. </p>

<p>this is at least how i remember things <img src="../../images/emoji/twitter/slight_smileae52.png?v=5" title=":slight_smile:" class="emoji" alt=":slight_smile:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:5'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Why bitwise operation instead of multiply/divide?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/tekknovator.html'><b itemprop='author'>tekknovator</b></a>
           
           <time datetime='2021-09-01T06:33:21Z' itemprop='datePublished'>
             2021-09-01 06:33:21 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>This motivates me to look at it in a different way. Thanks a million for the insights <a class="mention" href="../../u/lokki.html">@lokki</a>, much appreciated.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Why bitwise operation instead of multiply/divide?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SmashedTransistors.html'><b itemprop='author'>SmashedTransistors</b></a>
           
           <time datetime='2021-09-01T21:50:50Z' itemprop='datePublished'>
             2021-09-01 21:50:50 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Also note that the ARM processor can handle shift &amp; ALU operation in a single clock cycle.<br>Bit shifts are operated by a "barrel shifter" instead of the Multiplier unit. It's easier for the compiler to determine you want a shift (rather than a multiply or div) by using <code>&lt;&lt;</code> or <code>&gt;&gt;</code>.</p>

<p>Even if floats are available on the Axoloti, this makes fixed point very efficient in many cases.</p>

<p><img src="../../uploads/default/original/2X/c/ca40809a4795b7784e70cba2b4982b0b1a9ab370.png" width="528" height="325"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:3'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Why bitwise operation instead of multiply/divide?'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/tekknovator.html'><b itemprop='author'>tekknovator</b></a>
           
           <time datetime='2021-09-02T06:16:18Z' itemprop='datePublished'>
             2021-09-02 06:16:18 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>You guys are great. I have a feeling, that there is a lot of opportunity to learn on an axoloti journey. Thanks <a class="mention" href="../../u/smashedtransistors-2.html">@SmashedTransistors</a> for the details.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Why bitwise operation instead of multiply/divide?'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/why-bitwise-operation-instead-of-multiply-divide/7451 by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 19 Jul 2023 03:03:22 GMT -->
</html>
