<!DOCTYPE html>
<html lang="en" class="desktop-view not-mobile-device  anon">
  <head>
    <meta charset="utf-8">
    <title>Ricard contributions - Community Library - Axoloti Community</title>
    <meta name="description" content="I&amp;#39;ve uploaded some non-audio objects which I&amp;#39;ve devised while porting the Axoloti to run on the Audiothingies P6 . 

The P6 has 6 rotary encoders, which together with 9 push buttons (and 6 push buttons in the encoders) a&amp;hellip;">
    <meta name="discourse_theme_key" content="b5ce34aa-3ee1-4d3e-b190-0a2ab62c7408">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="https://sebiik.github.io/community.axoloti.com.backup/t/ricard-contributions/4311" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://sebiik.github.io/community.axoloti.com.backup","potentialAction":{"@type":"SearchAction","target":"https://sebiik.github.io/community.axoloti.com.backup/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="https://sebiik.github.io/community.axoloti.com.backup/opensearch.xml" title="Axoloti Community Search">

    

      <meta name="fragment" content="!">


    <script>
      window.EmberENV = window.EmberENV || {};
      window.EmberENV['FORCE_JQUERY'] = true;
    </script>

    <link rel='preload' href='/assets/locales/en-5bbc8626277bd471a9fcd063411070c515cad1a78c86a38ad27792a513f11bd4.js' as='script'/>
<script src='/assets/locales/en-5bbc8626277bd471a9fcd063411070c515cad1a78c86a38ad27792a513f11bd4.js'></script>
    <link rel='preload' href='/assets/ember_jquery-a8dcbd325e04410f036f2a791d66d8316c48c5387acdd914de99a5dd6afb3cd3.js' as='script'/>
<script src='/assets/ember_jquery-a8dcbd325e04410f036f2a791d66d8316c48c5387acdd914de99a5dd6afb3cd3.js'></script>
    <link rel='preload' href='/assets/preload-store-ec90ffab9d7a6d9e507dda7cf7343e9d50b8bce624f7f44486ac8fd6b9814309.js' as='script'/>
<script src='/assets/preload-store-ec90ffab9d7a6d9e507dda7cf7343e9d50b8bce624f7f44486ac8fd6b9814309.js'></script>
    <link rel='preload' href='/assets/vendor-199fce5a9e9895329b51b04605f1f5061951acb488baa6b2ea2fc2ae36def529.js' as='script'/>
<script src='/assets/vendor-199fce5a9e9895329b51b04605f1f5061951acb488baa6b2ea2fc2ae36def529.js'></script>
    <link rel='preload' href='/assets/pretty-text-bundle-e888dd08c05658b05da2124dd56955aa8fe94225d532fb8bfa3264a3eb2aa581.js' as='script'/>
<script src='/assets/pretty-text-bundle-e888dd08c05658b05da2124dd56955aa8fe94225d532fb8bfa3264a3eb2aa581.js'></script>
    <link rel='preload' href='/assets/application-13a284a273d9247cd8b3d19ae7d053297aeb5b3eabaa9a901c9fd236fb7dfe60.js' as='script'/>
<script src='/assets/application-13a284a273d9247cd8b3d19ae7d053297aeb5b3eabaa9a901c9fd236fb7dfe60.js'></script>
    <link rel='preload' href='/assets/plugin-3a5d56cbe920ebb10de8abd59e839cf2d48d598ca07a267327f96e3fec534065.js' as='script'/>
<script src='/assets/plugin-3a5d56cbe920ebb10de8abd59e839cf2d48d598ca07a267327f96e3fec534065.js'></script>
    <link rel='preload' href='/assets/plugin-third-party-346f0166b34a16f0ac66ea388d925068ee8f76267dc167ac7173785ea046f465.js' as='script'/>
<script src='/assets/plugin-third-party-346f0166b34a16f0ac66ea388d925068ee8f76267dc167ac7173785ea046f465.js'></script>


      

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

    <link rel="manifest" href="/manifest.json">


      <link href="/stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>


  <link href="/stylesheets/desktop_theme_1_6c5f8f7f5e6a154a9f0dfd7aedf04bae4b669f17.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop_theme"/>

    

<link rel="preload" href="/assets/fontawesome-webfont-2adefcbc041e7d18fcf2d417879dc5a09997aa64d675b7a3c4b6ce33da13f3fe.woff2?https://sebiik.github.io/community.axoloti.com.backup&2&v=4.7.0" as="font" type="font/woff2" crossorigin />
<style>
  @font-face {
    font-family: 'FontAwesome';
    src: url('/assets/fontawesome-webfont-2adefcbc041e7d18fcf2d417879dc5a09997aa64d675b7a3c4b6ce33da13f3fe.woff2?https://sebiik.github.io/community.axoloti.com.backup&2&v=4.7.0') format('woff2'),
         url('/assets/fontawesome-webfont-ba0c59deb5450f5cb41b3f93609ee2d0d995415877ddfa223e8a8a7533474f07.woff?https://sebiik.github.io/community.axoloti.com.backup&amp;2&v=4.7.0') format('woff');
  }
</style>


      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Ricard contributions&#39;" href="https://sebiik.github.io/community.axoloti.com.backup/t/ricard-contributions/4311.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://sebiik.github.io/community.axoloti.com.backup/user_avatar/community.axoloti.com/ricard/200/163_1.png" />
<meta property="og:image" content="https://sebiik.github.io/community.axoloti.com.backup/user_avatar/community.axoloti.com/ricard/200/163_1.png" />
<meta property="og:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/ricard-contributions/4311/3" />
<meta name="twitter:url" content="https://sebiik.github.io/community.axoloti.com.backup/t/ricard-contributions/4311/3" />
<meta property="og:title" content="Ricard contributions" />
<meta name="twitter:title" content="Ricard contributions" />
<meta property="og:description" content="Hi and thanks for your interest!   First, you need a patched version of the Axoloti firmware which adds support for the P6, mainly when it comes to differing clock crystal rates, UART assignment, and the different DAC used in the P6, but also removes support for things like the ADC since the STM32 analog inputs are not used in the P6.   The firmware is available in my Github repository, at github.com/polluxsynth/axoloti, on the p6 branch. Basically, you check out that branch (which is just a for..." />
<meta name="twitter:description" content="Hi and thanks for your interest!   First, you need a patched version of the Axoloti firmware which adds support for the P6, mainly when it comes to differing clock crystal rates, UART assignment, and the different DAC used in the P6, but also removes support for things like the ADC since the STM32 analog inputs are not used in the P6.   The firmware is available in my Github repository, at github.com/polluxsynth/axoloti, on the p6 branch. Basically, you check out that branch (which is just a for..." />

      <link rel="next" href="/t/ricard-contributions/4311?page=2">


    
  </head>

  <body class="">
    

    <div class='debug-eyeline'></div>

    <noscript data-path="/t/ricard-contributions/4311/3">
      <header class="d-header">
  <div class="wrap">
    <div class="contents">
      <div class="row">
        <div class="title span13">
          <a href="/">
              <img src="/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo">
          </a>
        </div>
            <div class='panel clearfix'>
              <a href="/login" class='btn btn-primary btn-small login-button'><i class="fa fa-user"></i> Log In</a>
            </div>
      </div>
    </div>
  </div>
</header>

      <div id="main-outlet" class="wrap">
        <!-- preload-content: -->
        <h1>
  <a href="/t/ricard-contributions/4311">Ricard contributions</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="/c/community-library" itemprop="url">
        <span itemprop="title">Community Library</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/ricard'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2018-03-04T22:02:13Z' itemprop='datePublished'>
             2018-03-04 22:02:13 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I've uploaded some non-audio objects which I've devised while porting the Axoloti to run on the Audiothingies P6 .</p>

<p>The P6 has 6 rotary encoders, which together with 9 push buttons (and 6 push buttons in the encoders) are connected to 74HC165 shift registers using an SPI-like interface (although in the P6 it is bit-banged rather than using an SPI interface in the STM32 chip).</p>

<p>There's also a quadrature decoder object for decoding the outputs from the rotary encoders, which takes two inputs and produces an up clock and a down clock, which output clocks depending on which way the encoder is turned. There's also a step output which outputs clocks independent of the direction of rotation.</p>

<p>Objects:<br>objects/ricard/gpio/in/165ctrl v.axo (control object specifying the pins used and number of bits employed (8 per 74HC165 chip), as well as the scanning rate.<br>objects/ricard/gpio/in/165in.axo (actual bit input object generating a boolean signal)<br>objects/ricard/logic/qdecode.axo (quadrature decoder)</p>

<p>The P6 also uses a 74HC595 shift register for controlling 8 of the LEDs on the front panel.</p>

<p>Objects:<br>objects/ricard/gpio/out/595ctrl.axo (control object specifying the pins used and number of bits employed (8 per 74HC595 chip).<br>objects/ricard/gpio/out/595out.axo (actual bit output object)</p>

<p>The P6 has a 2x24 character LCD, and I've devised a pair of objects for printing to the LCD. The connection is rather rudimentary, utilizing the 4-bit mode of the display, with no status readout, hence a 6 wire interface suffices, with RS, E and 4 data bits D4..D7. The R/W pin is assumed permanently low (i.e. write).</p>

<p>Objects:<br>objects/ricard/disp/lcdctrl.axo (control object specifying the pins used and size of the print queue (number of strings that may be printed at once and which will be printed in order as the display becomes available)<br>objects/ircard/disp/lcdprint.axo (output object outputting the string input to the module when the clock input goes high)</p>

<p>The strings can contain rudimentary cursor control using control characters, see the object definition for more details.</p>

<p>Finally a rather trivial object, which converts a vector of bits into a single bit masked output value, with a 9 bit input. I seem to remember there being an 8 bit version among the factory patches but I cannot find it now.</p>

<p>Object:<br>objects/ricard/logic/bitval 9.axo</p>

<p>Please note that for the control objects, more pins can be selected than normally on Axoloti modules, simply because I want to be able to run these objects on the P6, where some of the pins used are not available for general use in the Axoloti. So exercise caution when using the modules so you don't select pins which are not actually available.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
            <a href="https://sebiik.github.io/community.axoloti.com.backup/t/creating-a-menu-system/7181/3">Creating A Menu System</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/lokki'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2018-03-04T22:15:19Z' itemprop='datePublished'>
             2018-03-04 22:15:19 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>hi ricard, great work! i have a p6 collecting dust and would be very interested in this. so what is the procedure? how do i "update" my p6? how do i upload patches? generally, what works, what not?</p>

<p>cheers</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/ricard'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2018-03-04T23:41:44Z' itemprop='datePublished'>
             2018-03-04 23:41:44 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hi and thanks for your interest!</p>

<p>First, you need a patched version of the Axoloti firmware which adds support for the P6, mainly when it comes to differing clock crystal rates, UART assignment, and the different DAC used in the P6, but also removes support for things like the ADC since the STM32 analog inputs are not used in the P6.</p>

<p>The firmware is available in my Github repository, at github.com/polluxsynth/axoloti, on the p6 branch. Basically, you check out that branch (which is just a fork of the official Axoloti firmware), and build just as you would the standard Axoloti firmware.</p>

<p>To flash the P6, first start the Axoloti UI as usual, connect it to the P6 using a USB cable, and then set the P6 to DFU boot mode by holding the BOOT button inside the P6 and switching it on. Go into the Board -&gt; Firmware -&gt; Flash (rescue) menu in the Axoloti UI to flash the P6; the progress will be indicated in the main Axoloti log window. (For some reason which I haven't  been able to figure out, upgrading to a newer version must be done in the same way, rather than use Board -&gt; Firmware -&gt; Flash .)</p>

<p>After that, it basically works the same as with the standard Axoloti, taking into consideration the limitations of the P6 hardware. MIDI input and output, also over USB, works directly in the platform, using the corresponding Axoloti objects. The LCD and other user interface elements require the special objects described above to access them. There's no audio input of course, since the P6 has no ADC, and there is no SD card, and no DRAM. So objects which use these elements won't work. Apart from the, there's the same DSP and RAM capacity as on the Axoloti hardware. In particular, the Patch -&gt; Upload to internal flash function works, which is really nice on a box with its own user interface.</p>

<p>I just uploaded my test patch, patches/ricard/p6/p6test.axp which basically implements a complete P6 UI, with three embedded objects implementing user interface menus, parameter management, and a state machine for menu navigation. There's also an object which implements rudimentary patch storage in the P6 on-board 24C512 EEPROM. Mind you, these are patches in the UI sense of the embedded objects in the patch, not storage of true Axoloti patches. The reason for this is that my end goal was to implement a synth where only a subset parameters are user controllable, in order to make the user interface more managable, as on any pre-configured synth (such as the P6).</p>

<p>In order for the UI to have something to control, there's a very rudimentary synth implemented as a subpatch, a far cry from a real P6, basically just something to test the user interface on.</p>

<p>Just to be clear, neither the p6 branch of the firmware nor the p6test patch can load original P6 patches or anything, I'm just aiming for something with the same look and feel, as I really like the P6 UI approach.</p>

<p>I haven't done a lot of work on this lately, partly because I'm not fully convinced like things like the LCD and encoder control should be patcher objects, because I feel the Axoloti patcher environment is not ideal for things like state machines and things that are triggered from user buttons, as opposed to DSP code which does something useful all the time, The EEPROM support for instance is implemented partly in the firmware on the p6 branch, and then has a (currently embedded) object for the actual patcher interface, and a similar approach might be more viable for the LCD for instance. At the same time, the current approach means that the objects can be used for other, custom, hardware as well, which is a plus from a community perspective.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
            <a href="https://sebiik.github.io/community.axoloti.com.backup/t/axoloti-controller-plan-encoders-touch-screen-tft/5092/6">Axoloti controller plan - encoders, touch screen TFT</a>
            <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/lokki'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2018-03-05T06:33:35Z' itemprop='datePublished'>
             2018-03-05 06:33:35 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>thanks, ok will have a go at this sometime i think. time to setup an axoloti build environment.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/ricard'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2018-03-05T13:08:20Z' itemprop='datePublished'>
             2018-03-05 13:08:20 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Fortunately, the Axoloti seems to be one of the user friendliest builds I've seen, not that I've seen many though. There's a lot of stuff it does, but it's basically download and go for the most part.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/lokki'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2018-03-05T22:41:01Z' itemprop='datePublished'>
             2018-03-05 22:41:01 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>hmm, i don't see your objects or patches anywhere in the contrib section...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/ricard'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2018-03-06T05:38:07Z' itemprop='datePublished'>
             2018-03-06 05:38:07 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>That's strange. I assume you've pulled from the repository recently, I uploaded them just a couple of days ago. Or else I've made some mistake; I pushed them to the 1.0.12 branch which seems to be the default one. Checked by cloning the axoloti-contrib repository just now and they are there.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/lokki'><b itemprop='author'>lokki</b></a>
           
           <time datetime='2018-03-06T06:43:51Z' itemprop='datePublished'>
             2018-03-06 06:43:51 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>all good, it is there. sorry stupid mistake from my side. somehow syncing libraries got disabled at startup. and since i was so used to that i did not even check...</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/ricard'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2018-05-10T21:45:26Z' itemprop='datePublished'>
             2018-05-10 21:45:26 UTC
           </time>
        </span>
        <span itemprop='position'>#9</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I have updated my quadrature decoder object. It now features configurable debouncing, and configurable knob acceleration (output toggles at an accelerated rate when knob is turned faster). The configuration of the object is now is now in a separate configuration object, so the configuration does not have to be repeated when there are several quadrature decoders in the patch.</p>

<p>I've updated the P6 test patch (p6test.axp) to reflect this, and also added a new P6 patch with a basic single sawtooth oscillator patch, yielding 16 voices of polyphony (it would actually be more, but the Axoloti UI limits polyphony to 16).</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/ricard'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2018-05-20T23:03:43Z' itemprop='datePublished'>
             2018-05-20 23:03:43 UTC
           </time>
        </span>
        <span itemprop='position'>#10</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Inspired by <a class="mention" href="/u/smashedtransistors">@SmashedTransistors</a> (tiar), I started out with his DP2Saw oscillator, then read this article by Vesa V채lim채ki et al:</p>

<p><a href="https://www.researchgate.net/publication/236616321_Reducing_Aliasing_from_Synthetic_Audio_Signals_Using_Polynomial_Transition_Regions" class="onebox" target="_blank" rel="nofollow noopener">https://www.researchgate.net/publication/236616321_Reducing_Aliasing_from_Synthetic_Audio_Signals_Using_Polynomial_Transition_Regions</a></p>

<p>on the more optimal PTR algorithm, resulting the following third order PTR sawtooth oscillator:</p>

<ul><li>ricard/osc/PTRSaw.axo</li></ul>

<p>(Note: What SmashedTransistors calls a 'second order DPW' algorithm I believe is actually a third order algorithm, since both the polynomial and differentiation functions match the third-order cases in <a href="https://www.researchgate.net/publication/224557976_Alias-Suppressed_Oscillators_Based_on_Differentiated_Polynomial_Waveforms" rel="nofollow noopener">https://www.researchgate.net/publication/224557976_Alias-Suppressed_Oscillators_Based_on_Differentiated_Polynomial_Waveforms</a> (again by V채lim채ki and associates).)</p>

<p>What utterly fascinates me is how just making a few changes to the waveform in the sawtooth reset period reduces the aliasing to negligible levels. It becomes very obvious in the PTR algorithm, as the only actual waveform mangling takes place in the reset region, even though the actual output waveform is identical to the DPW algorithm (used in DP2Saw). However, due to the way the computation is performed, numerical precision isn't as important with PTR compared to DPW. Indeed, DP2Saw is quite noisy at lower frequencies which PTRSaw isn't.</p>

<p>A lot of research papers contain a lot of hairy math and are not immediately suitable for conversion to code, however, the above one is an exception, also providing ideas for a PWM oscilator which I have yet to realize.</p>

<p>Another paper which I found immediately useful is this one:</p>

<aside class="onebox whitelistedgeneric">
  <header class="source">
    <a href="https://www.semanticscholar.org/paper/Improved-Polynomial-Transition-Regions-Algorithm-Ambrits/7d31b9d62daa97980edd0284bdcf70e6c0161ddd" target="_blank" rel="nofollow noopener">semanticscholar.org</a>
  </header>
  <article class="onebox-body">
    <img src="https://www.semanticscholar.org/img/semantic_scholar_og.jpg" width="695" height="364" class="thumbnail">

<h3><a href="https://www.semanticscholar.org/paper/Improved-Polynomial-Transition-Regions-Algorithm-Ambrits/7d31b9d62daa97980edd0284bdcf70e6c0161ddd" target="_blank" rel="nofollow noopener">Improved Polynomial Transition Regions Algorithm for Alias-suppressed Signal...</a></h3>

<p>One of the building blocks of virtual analog synthesizers is the oscillator algorithm producing simple geometric waveforms, such as saw or triangle. An important requirement for such a digital oscillator is that its spectrum is similar to that of the...</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>


<p>(also available as <a href="http://home.mit.bme.hu/~bank/publist/smc13.pdf" rel="nofollow noopener">http://home.mit.bme.hu/~bank/publist/smc13.pdf</a>)</p>

<p>outlining how to make a triangle wave oscillator with variable symmetry. Sadly, it only covers the second order case, but the level of harmonics in triangle waves is lower than in sawtooth or square waves to start with, so the results seem fairly usable anyway. Indeed, during some quick tests, the level of aliasing in both the third order PTR above and the second order EPTR oscillators below are less than the build-in BLEP based Axoloti oscillators. From the aforementioned paper I've derived the following implementations:</p>

<ul>
<li>ricard/osc/EPTRSaw.axo : Second order EPTR sawtooth. Less alias than the Axoloti build in sawtooth, but more than the third order PTR above.</li>
<li>ricard/osc/EPTRTri.axo :  Second order EPTR triangle oscillator, a rather crude proof-of-concept implementation just as a test of the EPTR algorithm.</li>
<li>ricard/osc/EPTRAsymTri.axo : Second order EPTR Asymmetric triangle. The waveform generation has been refined, but the symmetry control needs work to be useful, as it is there's much too much action around the zero point of the bipolar control.</li>
</ul>

<p>All of these are work-in-progress, especially EPTRSaw and EPTRTri which are really just stopgaps while getting myself familiar with the algorithms. I've just made some quick tests, there might be weird quirks lingering in the code somewhere.</p>

<p>Indeed, with a combination of methods to make essentially alias free waveforms for both waveforms with discontinuities (e.g. sawtooth and square/pulse waves) as well as with discontinuities in the first derivative (i.e. the waveform is not discontinuous but changes direction, like the triangle wave does), a lot of interesting analog-synth-like waveforms could be constructed from piecewise linear waveform segments, since the PTR/EPTR algorithms only require adjustments of the corresponding trivial waveforms near the transition regions.</p>

<p>The advent of intrinsic hardware floating point capability in microcontrollers such as the STM32F4 means that it's much easier to implement efficient algorithms without having to convert everything to fixed point or integer math. This means that purely analytical measures can be used to calculate the exact sample points, in contrast to the practical implementation of algorithms such as BLEP which rely on pre-computed tables with the residual waves, suffering from limited phase resolution, rendering the in principle alias free BLEP algorithm not as alias free as intended.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:3'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/SmashedTransistors'><b itemprop='author'>SmashedTransistors</b></a>
           
           <time datetime='2018-05-21T20:04:09Z' itemprop='datePublished'>
             2018-05-21 20:04:09 UTC
           </time>
        </span>
        <span itemprop='position'>#11</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I'm still surprised to read that Prof Valimaki invented DPW.</p>

<p>This is one of the oldest anti aliasing method !!!</p>

<p>Integrals have been used to calculate mean values since they have been invented !<br>Anti aliasing with them is a basic and direct application.<br>The fact that higher order integration can be used to calculate means of means is also as old as Calculus.<br>Thus only Sir Isaac and Herr Gottfried Wilhelm should be allowed to claim for this !</p>

<p>Back in 1998, I used this trivial method in an exam for my students.<br>Here is an archived thread triggered by one of my student:<br><aside class="onebox whitelistedgeneric">
  <header class="source">
    <a href="https://www.kvraudio.com/forum/viewtopic.php?p=1710116" target="_blank" rel="nofollow noopener">kvraudio.com</a>
  </header>
  <article class="onebox-body">
    <img src="http://static.kvraudio.com/i/b/kvraudio-300x300-grey-eeeeee.png" width="" height="" class="thumbnail">

<h3><a href="https://www.kvraudio.com/forum/viewtopic.php?p=1710116" target="_blank" rel="nofollow noopener">KVR Forum: obscure antialiased saw code [Ancient thread bumped; see page 3]...</a></h3>

<p>KVR Audio Forum - obscure antialiased saw code [Ancient thread bumped; see page 3] (Topic in the 'DSP and Plug-in Development' forum)</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>

<p>along with a discussion about state changes and clicks... note the archive date...</p>

<p>I do not claim anything about DPW, I just want to say that It is one of the oldest aliasing limiting method.</p>

<p>The first time i heard about DPW was in an application note for the Motorola DSP 56001 back in 1995.</p>

<p>The aliasing scheme of the D-5 D-10 D-50 Linear Arithmetic Synthesizers by Roland (1987) is consistent with DPW.</p>

<p>The 2D equivalent of pre integration for anti aliasing is known as <a href="https://en.wikipedia.org/wiki/Summed-area_table">"Summed-Area Tables"</a> and was invented in 1984.</p>

<hr>

<p>On the other hand, I don't really get his PTR gibberish.</p>

<p>Instead of calculating the value of a function at a sampled time,<br>fifferentiation of pre intergrated wave functions work by calculating mean values over the time segment between two samples (thanks to integrals).</p>

<p>The application of integrals to hard sync is straight forward: when you have a hard sync event, you split the calculus in two subsample segments instead of one:</p>

<ul>
<li>the segment before the sync </li>
<li>the segment after the sync</li>
</ul>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/ricard'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2018-05-21T22:47:10Z' itemprop='datePublished'>
             2018-05-21 22:47:10 UTC
           </time>
        </span>
        <span itemprop='position'>#12</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I don't want to take sides as to who invented DPW either. Despite my engineering background, I'm really a noob when it comes to this type of math. My gut feeling though is that even though integration followed by differentiation itself is old as the hills, the theoretical basis for this when it comes to cyclic waveforms has been sketchy, i.e. the math has to hold not only for the waveform itself but also for the discontinuity that appears as it looped, which is not obvious to me anyway.</p>

<p>As I understand it, PTR is not a new algorithm, it's just a mathematical rewrite of DPW, including the realization that the differential of an integrated waveform is identical to the waveform itself, with an offset, except for the transition regions. For the transition regions, instead of actually performing an integration/differentiation operation, the actual resulting sample values can be directly calculated using suitable formulae, the whole point being that over a complete cycle, the amount of CPU time for PTR will be less than DPW. From my point of view, it's appealing that waveforms can be constructed without pre-integration, just a couple of highly specific calculations at the transitions.</p>

<p>One advantage of PTR over DPW seems to be that there is less noise with finite resolution at low frequencies, indeed, other DPW implementations I've seen go for doubles to alleviate this.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/SmashedTransistors'><b itemprop='author'>SmashedTransistors</b></a>
           
           <time datetime='2018-05-22T23:07:47Z' itemprop='datePublished'>
             2018-05-22 23:07:47 UTC
           </time>
        </span>
        <span itemprop='position'>#13</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Sorry for polluting this thread with this kind of issues.<br>I think it is very important to state that these methods are "good old methods" and "state of the art" to avoid that some people have the idea to patent them.<br>As a concrete example, symmetric BLEPs have been patented by Korg in 2005 even if it was used by others before (EdgE algorithm by Canam Computers Quartz Audio, but as it has never been published, I think that Korg's patent is valid). I think that's why many people use asymmetric BLEPs or BLITs.</p>

<hr>

<p>The differentiation causes issues when the step is small (ie for low frequencies). In this case, anti aliasing is not needed and you need a way to soft switch from DPW to trivial. That's what I do in my DPW distortions and phase modulated oscillator objects.</p>

<p>Example from distortion DP typeIIA:</p>

<pre><code>  if(fabs(dx) &gt; 0.005f){                     //&lt;---- DP if the segment is 
    y0 = 1.5f * x0*x0 / (1 + x0*x0);                 large enough
    float dy = y1 - y0;                                   /
    outlet_out[i] = arm::float_to_q(dy / dx, 27);  &lt;-----/
  } else {
    float inv = 1/(1 + x0*x0);                                     else
    y0 = 1.5f * x0*x0 * inv;
    outlet_out[i] = arm::float_to_q(3*x0*inv*inv , 27);   //&lt;----- direct value
  }</code></pre>

<hr>

<p>The problem with higher order DPW is that it induces high frequency filtering (as it works as mean values over sample to sample segments).<br>So, i think that the best strategy consists in using oversampling combined with the integro diff scheme.</p>

<p>As far as i experimented simple precision floats are enough for </p>

<ul>
<li>second order (ie two differentiation) for simple oscillators, and </li>
<li>first order (ie one differentiation) for distortions and phase modulated oscillators</li>
</ul>

<p>double precision can be used for second order (two differentiations) for distortions and PM osc, but it is quite tricky to get the glitchless switching conditions (I got some working in jsfx / Reaper)</p>

<hr>

<p>BLITs (and BLEPs) are generally "sharp" in the spectral domain and have Gibbs ondulations in the temporal domain. Thus, they are not good if the signal goes through distortions or saturations that would chop off these ondulations.<br>DPW do not cause these Gibbs overshoots. So the signal can be post distorted without too much trouble.</p>

<p>Note that it may be possible to design "soft" BLITs (or BLEPs) that will behave quite like DPW.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:2'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/ricard'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2018-05-23T04:58:06Z' itemprop='datePublished'>
             2018-05-23 04:58:06 UTC
           </time>
        </span>
        <span itemprop='position'>#14</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="13" data-topic="4311" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/smashedtransistors/40/3147_1.png" class="avatar">SmashedTransistors:</div>
<blockquote><p>Sorry for polluting this thread with this kind of issues.</p></blockquote></aside>

<p>Well, I suppose this is as good a place as any to discuss the issue.<br></p>

<p><aside class="quote"><blockquote><p>I think it is very important to state that these methods are "good old methods" and "state of the art" to avoid that some people have the idea to patent them.<br>As a concrete example, symmetric BLEPs have been patented by Korg in 2005 even if it was used by others before (EdgE algorithm by Canam Computers Quartz Audio, but as it has never been published, I think that Korg's patent is valid). I think that's why many people use asymmetric BLEPs or BLITs.</p></blockquote></aside></p>

<p>That's amazing that Korg managed to patent that. I wonder if it's because its tricky to understand the small details of these algorithms and the fact that a lot of stuff is found in research papers rather than patents that it can slip through the patent system (notwithstanding the fact that a lot of patented stuff should never had made it that far).</p>

<p>I would think though that asymmetric BLEPs (which I'm assuming is not necessarily the same as minBLEPs although the minimum-phase reconstruction of the BLEP does result in a fully causal and asymmetric BLEP) as used in the Axoloti factory oscillators, have the computational advantage that nothing needs to be added before transitions, which otherwise would require some form of waveform lag or lookahead in order to insert the BLEP at the correct point. </p>

<p><aside class="quote"><blockquote><p>The differentiation causes issues when the step is small (ie for low frequencies). In this case, anti aliasing is not needed and you need a way to soft switch from DPW to trivial. </p></blockquote></aside></p>

<p>Yes, I didn't think of that, that would take care of that issue. I still find the PTR algorithm elegant. The whole waveform generation for the PTRSaw oscillator comes out as:</p>

<pre><code>p += dp; p -= (p &gt; 1);
if (p &lt; dp) { D = p/dp; y = (2 * dp - D) * D + 1; }
else if (p &lt; 2*dp) { D = p/dp; y = (D + 2 * dp - 4) * D + 3; }
else y = 2*p - 1;
y -= 2 * dp;</code></pre>

<p>(there's probably still room for optimizations. EDIT: Only calculate D when actually needed.).</p>

<p><aside class="quote"><blockquote><p>DPW do not cause these Gibbs overshoots.</p></blockquote></aside></p>

<p>This is something that fascinates me. From what I can tell, the magic lies in moving the phase of the harmonics around causing the ringings to dissolve. There's also a slight spectral droop with DPW from what I understand, but not enough to explain the complete lack of Gibbs ringings. But doesn't the altered relative phase positions have some form of drawback? After all, from a signal processing point of view, we've run a mathematically correct bandlimited oscillator through a filter whose major contribution is that it messes up the phase response.</p>

<p><aside class="quote"><blockquote><p>Note that it may be possible to design "soft" BLITs (or BLEPs) that will behave quite like DPW.</p></blockquote></aside></p>

<p>Do you mean using the minimum-phase reconstructed residual instead of the obvious BLIT or BLEP?</p>

<p>I may be wrong, but it seems to me that the main problem in a system with limited processing power such as the Axoloti, that it's not possible to generate the BLIT or BLEP in real time, thus it must be added in the form of a waveform, which brings in the additional complexity of how to handle interpolation, for instance by oversampling the BLEP obtaining a polyphase BLEP.  The resulting phase error for the BLEP in a practical implementation limits the antialiasing response, indeed, the Axoloti factory oscillators seem to have a lot more aliasing that the DPW (or PTR) algorithm to my ears. In contrast, DPW and PTR calculate to the available precision the exact sample points.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/SmashedTransistors'><b itemprop='author'>SmashedTransistors</b></a>
           
           <time datetime='2018-05-23T06:15:50Z' itemprop='datePublished'>
             2018-05-23 06:15:50 UTC
           </time>
        </span>
        <span itemprop='position'>#15</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>To me the PTR very looks like a two point BLEP consisting of a parabola.</p>

<hr>

<p>I think that good candidates for smooth band limited impulse can be taken from window functions (as they are designed with the same criterion):<br><aside class="onebox wikipedia">
  <header class="source">
    <a href="https://en.wikipedia.org/wiki/Window_function" target="_blank" rel="nofollow noopener">en.wikipedia.org</a>
  </header>
  <article class="onebox-body">
    <img src="//upload.wikimedia.org/wikipedia/commons/thumb/f/f6/Spectral_leakage_from_a_sinusoid_and_rectangular_window.png/480px-Spectral_leakage_from_a_sinusoid_and_rectangular_window.png" class="thumbnail">

<h3><a href="https://en.wikipedia.org/wiki/Window_function" target="_blank" rel="nofollow noopener">Window function</a></h3>

<p>In signal processing, a window function (also known as an apodization function or tapering function) is a mathematical function that is zero-valued outside of some chosen interval. For instance, a function that is constant inside the interval and zero elsewhere is called a rectangular window, which describes the shape of its graphical representation. When another function or waveform/data-sequence is multiplied by a window function, the product is also zero-valued outside the interval: all tha In...</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>
</p>

<p>(I think that PTR corresponds to a two point welsh window.)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/jaffasplaffa'><b itemprop='author'>jaffasplaffa</b></a>
           
           <time datetime='2018-05-23T08:37:22Z' itemprop='datePublished'>
             2018-05-23 08:37:22 UTC
           </time>
        </span>
        <span itemprop='position'>#16</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Loving this debate. All though I dont understand all of it, its interesting. </p>

<p>Thanks guys <img src="//community.axoloti.com/images/emoji/twitter/wink.png?v=5" title=":wink:" class="emoji" alt=":wink:"></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/ricard'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2018-05-23T22:05:08Z' itemprop='datePublished'>
             2018-05-23 22:05:08 UTC
           </time>
        </span>
        <span itemprop='position'>#17</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="15" data-topic="4311" data-full="true"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/smashedtransistors/40/3147_1.png" class="avatar">SmashedTransistors:</div>
<blockquote><p>To me the PTR very looks like a two point BLEP consisting of a parabola.</p></blockquote></aside>

<p>From what I can tell, it was derived by analyzing how each output sample in the corresponding-order DPW algorithm is related to the input (i.e. trivial waveform) samples. So it is mathematically identical to DPW if I understand correctly.</p>

<p>I would think that it's not unlikely that there are different ways to arrive at essentially  the same sample values in the transition region, since all algorithms have the same goal of minimizing frequencies beyond half Nyquist.</p>

<p><aside class="quote"><blockquote><p>I think that good candidates for smooth band limited impulse can be taken from window functions (as they are designed with the same criterion). I think that PTR corresponds to a two point welsh window.)</p></blockquote></aside></p>

<p>Interesting. Have you or do you know of anyone else has elaborated further on this in the form of a paper or other report?</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/SmashedTransistors'><b itemprop='author'>SmashedTransistors</b></a>
           
           <time datetime='2018-05-23T23:03:38Z' itemprop='datePublished'>
             2018-05-23 23:03:38 UTC
           </time>
        </span>
        <span itemprop='position'>#18</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <aside class="quote" data-post="17" data-topic="4311"><div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="//community.axoloti.com/user_avatar/community.axoloti.com/ricard/40/163_1.png" class="avatar">ricard:</div>
<blockquote><p>Have you or do you know of anyone else has elaborated further on this in the form of a paper or other report?</p></blockquote></aside>

<p>Well... mmm... The BLEP described by Korg in their drawings have no Gibbs overshoot.<br><a href="https://patents.google.com/patent/US20060145733A1" class="onebox" target="_blank">https://patents.google.com/patent/US20060145733A1</a></p>

<p>Anyway, it's not an issue to use a smooth symetric BLIT and integrate it.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/ricard'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2018-05-24T04:49:10Z' itemprop='datePublished'>
             2018-05-24 04:49:10 UTC
           </time>
        </span>
        <span itemprop='position'>#19</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I would think it would be very difficult to enforce such a patent. Given an arbitrary bandlimited sawtooth oscillator, I would think it impossible to see in the output waveform how the bandlimiting was actually acheived; one would need to look at the actual algorithm for that.</p>

<p>Anyway, back to the thread, I've now uploaded the optimized version of the PTR sawtooth oscillator as described a few posts back.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:2'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='/u/ricard'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2018-05-28T04:41:57Z' itemprop='datePublished'>
             2018-05-28 04:41:57 UTC
           </time>
        </span>
        <span itemprop='position'>#20</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Finally got my PWM oscillator working yesterday:</p>

<ul><li>ricard/osc/PTRPulse.axo</li></ul>

<p>PWM input (and PWM parameter) has a range of -64 to +64, from maximally short negative to maximually short positive pulse, to the point that the oscillator actually goes silent at the extremes. With PWM at 0, the output is a square wave.</p>

<p>The PTR antialising means that the amplitude drops for small pulse widths at high frequencies. I'm thinking about adding a function to optionally limit the minimum pulse width in a frequency-dependent manner so that this doesn't happen, as at high frequencies the harmonics are not really discernible anyway, so the deviation from the intended pulse width would not be noticeable. On the other hand, an analog PW oscillator tends to behave in a similar manner due to limited slew rates, so perhaps it wouldn't buy much.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Ricard contributions'>
      <hr>
  </div>

  <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement'>
      <span itemprop='url'><b><a rel="next" itemprop="name" href="/t/ricard-contributions/4311?page=2">next page </a></b></span>
  </div>





        <!-- :preload-content -->
        <footer>
          <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
            <a href='/'>Home</a>
            <a href="/categories">Categories</a>
            <a href="/guidelines">FAQ/Guidelines</a>
            <a href="/tos">Terms of Service</a>
            <a href="/privacy">Privacy Policy</a>
          </nav>
        </footer>
      </div>

      <footer id='noscript-footer'>
        <p>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
      </footer>
    </noscript>

      

    <section id='main'>
    </section>

    <div id='offscreen-content'>
    </div>

      <form id='hidden-login-form' method="post" action="/login" style="display: none;">
        <input name="username" type="text"     id="signin_username">
        <input name="password" type="password" id="signin_password">
        <input name="redirect" type="hidden">
        <input type="submit" id="signin-button" value="Log In">
      </form>

      <script>
      (function() {
        var ps = require('preload-store').default;
          ps.store("site", {"default_archetype":"regular","notification_types":{"mentioned":1,"replied":2,"quoted":3,"edited":4,"liked":5,"private_message":6,"invited_to_private_message":7,"invitee_accepted":8,"posted":9,"moved_post":10,"linked":11,"granted_badge":12,"invited_to_topic":13,"custom":14,"group_mentioned":15,"group_message_summary":16,"watching_first_post":17,"topic_reminder":18},"post_types":{"regular":1,"moderator_action":2,"small_action":3,"whisper":4},"groups":[{"id":1,"name":"admins"},{"id":0,"name":"everyone"},{"id":2,"name":"moderators"},{"id":3,"name":"staff"},{"id":10,"name":"trust_level_0"},{"id":11,"name":"trust_level_1"},{"id":12,"name":"trust_level_2"},{"id":13,"name":"trust_level_3"},{"id":14,"name":"trust_level_4"}],"filters":["latest","unread","new","read","posted","bookmarks"],"periods":["all","yearly","quarterly","monthly","weekly","daily"],"top_menu_items":["latest","unread","new","read","posted","bookmarks","category","categories","top"],"anonymous_top_menu_items":["latest","top","categories","category","categories","top"],"uncategorized_category_id":1,"is_readonly":false,"disabled_plugins":[],"user_field_max_length":2048,"suppressed_from_homepage_category_ids":[],"post_action_types":[{"name_key":"bookmark","name":"Bookmark","description":"Bookmark this post","short_description":"Bookmark this post","long_form":"bookmarked this post","is_flag":false,"icon":null,"id":1,"is_custom_flag":false},{"name_key":"like","name":"Like","description":"Like this post","short_description":"Like this post","long_form":"liked this","is_flag":false,"icon":"heart","id":2,"is_custom_flag":false},{"name_key":"off_topic","name":"Off-Topic","description":"This post is not relevant to the current discussion as defined by the title and first post, and should probably be moved elsewhere.","short_description":"Not relevant to the discussion","long_form":"flagged this as off-topic","is_flag":true,"icon":null,"id":3,"is_custom_flag":false},{"name_key":"inappropriate","name":"Inappropriate","description":"This post contains content that a reasonable person would consider offensive, abusive, or a violation of \u003ca href=\"/guidelines\"\u003eour community guidelines\u003c/a\u003e.","short_description":"A violation of \u003ca href=\"/guidelines\"\u003eour community guidelines\u003c/a\u003e","long_form":"flagged this as inappropriate","is_flag":true,"icon":null,"id":4,"is_custom_flag":false},{"name_key":"vote","name":"Vote","description":"Vote for this post","short_description":"Vote for this post","long_form":"voted for this post","is_flag":false,"icon":null,"id":5,"is_custom_flag":false},{"name_key":"spam","name":"Spam","description":"This post is an advertisement, or vandalism. It is not useful or relevant to the current topic.","short_description":"This is an advertisement or vandalism","long_form":"flagged this as spam","is_flag":true,"icon":null,"id":8,"is_custom_flag":false},{"name_key":"notify_user","name":"Send @{{username}} a message","description":"I want to talk to this person directly and privately about their post.","short_description":"I want to talk to this person directly and privately about their post.","long_form":"messaged user","is_flag":true,"icon":null,"id":6,"is_custom_flag":true},{"name_key":"notify_moderators","name":"Something Else","description":"This post requires staff attention for another reason not listed above.","short_description":"Requires staff attention for another reason","long_form":"flagged this for staff attention","is_flag":true,"icon":null,"id":7,"is_custom_flag":true}],"topic_flag_types":[{"name_key":"inappropriate","name":"Inappropriate","description":"This topic contains content that a reasonable person would consider offensive, abusive, or a violation of \u003ca href=\"/guidelines\"\u003eour community guidelines\u003c/a\u003e.","short_description":"translation missing: en.topic_flag_types.inappropriate.short_description","long_form":"flagged this as inappropriate","is_flag":true,"icon":null,"id":4,"is_custom_flag":false},{"name_key":"spam","name":"Spam","description":"This topic is an advertisement. It is not useful or relevant to this site, but promotional in nature.","short_description":"translation missing: en.topic_flag_types.spam.short_description","long_form":"flagged this as spam","is_flag":true,"icon":null,"id":8,"is_custom_flag":false},{"name_key":"notify_moderators","name":"Something Else","description":"This topic requires general staff attention based on the \u003ca href=\"/guidelines\"\u003eguidelines\u003c/a\u003e, \u003ca href=\"/tos\"\u003eTOS\u003c/a\u003e, or for another reason not listed above.","short_description":"translation missing: en.topic_flag_types.notify_moderators.short_description","long_form":"flagged this for moderator attention","is_flag":true,"icon":null,"id":7,"is_custom_flag":true}],"can_create_tag":null,"can_tag_topics":null,"tags_filter_regexp":"[/\\?#\\[\\]@!\\$\u0026'\\(\\)\\*\\+,;=\\.%\\\\`^\\s|\\{\\}\"\u003c\u003e]+","top_tags":["midi","controllers","modular","linux","1.0.11","macos","windows","troubleshooting","usb","challenge","wavetable","library","math","faust","dsp","out","tips","current","14bit"],"topic_featured_link_allowed_category_ids":[10,4,5,12,1,15,6,2,14,8,16,9,3,13,11,7],"user_themes":[{"theme_key":"b5ce34aa-3ee1-4d3e-b190-0a2ab62c7408","name":"Migrated from Site Text","default":true}],"categories":[{"id":1,"name":"Uncategorized","color":"AB9364","text_color":"FFFFFF","slug":"uncategorized","topic_count":-1,"post_count":1,"position":0,"description":"Topics that don't need a category, or don't fit into any other existing category.","description_text":"","topic_url":"/t/","read_restricted":false,"permission":null,"notification_level":1,"topic_template":null,"has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":10,"name":"User Guide","color":"3AB54A","text_color":"FFFFFF","slug":"user-guide","topic_count":24,"post_count":102,"position":1,"description":"This category contains posts to help users use Axoloti, a dynamic user guide.","description_text":"This category contains posts to help users use Axoloti, a dynamic user guide.","topic_url":"/t/about-the-user-guide-category/51","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":8,"name":"Helpdesk","color":"9EB83B","text_color":"FFFFFF","slug":"helpdesk","topic_count":397,"post_count":3144,"position":2,"description":"This category is for reporting issues and bugs\u003cbr\u003ePlease use other categories for discussions on features or questions or \"how to?\"","description_text":"This category is for reporting issues and bugsPlease use other categories for discussions on features or questions or \"how to?\"","topic_url":"/t/about-the-helpdesk-category/23","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":13,"name":"Community Library","color":"9EB83B","text_color":"FFFFFF","slug":"community-library","topic_count":54,"post_count":2955,"position":3,"description":"Category for the community library","description_text":"Category for the community library","topic_url":"/t/about-the-community-library-category/1005","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":7,"name":"Patching","color":"AB9364","text_color":"FFFFFF","slug":"patching","topic_count":1051,"post_count":8571,"position":4,"description":"This category is for discussion about patching Axoloti, and sharing patches.","description_text":"This category is for discussion about patching Axoloti, and sharing patches.","topic_url":"/t/about-the-patching-category/14","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":5,"name":"Hardware","color":"AB9364","text_color":"FFFFFF","slug":"hardware","topic_count":748,"post_count":7780,"position":5,"description":"This category is intended for discussion about the Axoloti hardware and connecting to other hardware, including , connecting midi controllers and other hardware, related hardware projects. ","description_text":"This category is intended for discussion about the Axoloti hardware and connecting to other hardware, including , connecting midi controllers and other hardware, related hardware projects.","topic_url":"/t/about-the-hardware-category/12","read_restricted":false,"permission":null,"notification_level":1,"topic_template":null,"has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":6,"name":"Software","color":"AB9364","text_color":"FFFFFF","slug":"software","topic_count":341,"post_count":3414,"position":6,"description":"This category is for posts regarding the software of Axoloti, this includes the Axoloti patching GUI, Axoloti Objects (axo) and firmware. Please use the Patching category to discuss patching Axoloti. ","description_text":"This category is for posts regarding the software of Axoloti, this includes the Axoloti patching GUI, Axoloti Objects (axo) and firmware. Please use the Patching category to discuss patching Axoloti.","topic_url":"/t/about-the-software-category/13","read_restricted":false,"permission":null,"notification_level":1,"topic_template":null,"has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":16,"name":"AxoObject coding","color":"AB9364","text_color":"FFFFFF","slug":"axoobject-code","topic_count":277,"post_count":2257,"position":7,"description":"Category to discuss coding Axoloti Objects.","description_text":"Category to discuss coding Axoloti Objects.","topic_url":"/t/about-the-axoobject-coding-category/1519","read_restricted":false,"permission":null,"notification_level":1,"topic_template":null,"has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":14,"name":"News/Events","color":"283890","text_color":"FFFFFF","slug":"events","topic_count":32,"post_count":112,"position":8,"description":"Meetups, workshops, presentations, all sort of events.\u003cbr\u003eIt's perfectly fine for users to announce and discuss their own events, as long as it is related to Axoloti somehow.\u003cbr\u003eStart your topic title with the name of the area where your event will happen.","description_text":"Meetups, workshops, presentations, all sort of events.It's perfectly fine for users to announce and discuss their own events, as long as it is related to Axoloti somehow.Start your topic title with the name of the area where your event will happen.","topic_url":"/t/about-the-events-category/1142","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":12,"name":"Challenges","color":"0E76BD","text_color":"FFFFFF","slug":"challenges","topic_count":19,"post_count":277,"position":9,"description":"This category is for challenges, competitions and discussions related to these.\u003cbr\u003eposters are reminded when entering challenges and competitions to not include any copyrighted material","description_text":"This category is for challenges, competitions and discussions related to these.posters are reminded when entering challenges and competitions to not include any copyrighted material","topic_url":"/t/about-the-challenges-category/838","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":9,"name":"Your Music/Projects","color":"0E76BD","text_color":"FFFFFF","slug":"your-music-projects","topic_count":198,"post_count":1406,"position":10,"description":"Have some music that you have made with Axoloti? or an interesting project you would like to share the communities?\u003cbr\u003eTells us about it here.","description_text":"Have some music that you have made with Axoloti? or an interesting project you would like to share the communities?Tells us about it here.","topic_url":"/t/about-the-your-music-projects-category/25","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":15,"name":"Lounge","color":"AB9364","text_color":"FFFFFF","slug":"lounge","topic_count":107,"post_count":1736,"position":11,"description":"This category is for discussions that are related to Axoloti generally but are not specifically about Axoloti.\u003cbr\u003e(please ensure it has some relevance to Axoloti, rather than general discussion) ","description_text":"This category is for discussions that are related to Axoloti generally but are not specifically about Axoloti.(please ensure it has some relevance to Axoloti, rather than general discussion)","topic_url":"/t/about-the-lounge-category/1277","read_restricted":false,"permission":null,"notification_level":1,"topic_template":null,"has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":11,"name":"Developer","color":"BF1E2E","text_color":"FFFFFF","slug":"developer","topic_count":69,"post_count":673,"position":12,"description":"This category is for discussion about the development of Axoloti at a low level, its intended only for developers/programmers.","description_text":"This category is for discussion about the development of Axoloti at a low level, its intended only for developers/programmers.","topic_url":"/t/about-the-developer-category/735","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"This category is for low level discussion on the development of Axoloti, its is intended for developers/programmers only.","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null},{"id":3,"name":"Website and Forum","color":"808281","text_color":"FFFFFF","slug":"meta","topic_count":46,"post_count":416,"position":13,"description":"Discussion about this site, its organization, how it works, and how we can improve it.","description_text":"Discussion about this site, its organization, how it works, and how we can improve it.","topic_url":"/t/about-the-meta-category/2","read_restricted":false,"permission":null,"notification_level":1,"topic_template":"","has_children":false,"sort_order":null,"sort_ascending":null,"show_subcategory_list":false,"num_featured_topics":3,"default_view":null,"subcategory_list_style":"rows_with_featured_topics","default_top_period":"all","uploaded_logo":null,"uploaded_background":null}],"trust_levels":[{"id":0,"name":"new user"},{"id":1,"name":"basic user"},{"id":2,"name":"member"},{"id":3,"name":"regular"},{"id":4,"name":"leader"}],"archetypes":[{"id":"regular","name":"Regular Topic","options":[]},{"id":"banner","name":"Banner Topic","options":[]}],"user_fields":[]});
          ps.store("siteSettings", {"title":"Axoloti Community","contact_email":"johannes.taelman@gmail.com","contact_url":"","logo_url":"/uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png","logo_small_url":"/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png","mobile_logo_url":"","favicon_url":"/uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png","allow_user_locale":false,"suggested_topics":5,"track_external_right_clicks":false,"ga_universal_tracking_code":"UA-56017691-4","ga_universal_domain_name":"auto","ga_tracking_code":"","ga_domain_name":"","gtm_container_id":"","top_menu":"categories|latest|new|unread|top","post_menu":"like-count|like|share|flag|edit|bookmark|delete|admin|reply","post_menu_hidden_items":"flag|bookmark|edit|delete|admin","share_links":"twitter|facebook|email","desktop_category_page_style":"categories_and_latest_topics","category_colors":"BF1E2E|F1592A|F7941D|9EB83B|3AB54A|12A89D|25AAE2|0E76BD|652D90|92278F|ED207B|8C6238|231F20|808281|B3B5B4|283890","category_style":"bullet","enable_mobile_theme":true,"relative_date_duration":30,"fixed_category_positions":true,"fixed_category_positions_on_create":false,"enable_badges":true,"enable_badge_sql":false,"enable_whispers":false,"invite_only":false,"login_required":false,"must_approve_users":false,"enable_local_logins":true,"allow_new_registrations":true,"enable_signup_cta":true,"enable_google_oauth2_logins":false,"enable_yahoo_logins":false,"enable_twitter_logins":false,"enable_instagram_logins":false,"enable_facebook_logins":false,"enable_github_logins":false,"enable_sso":false,"sso_overrides_avatar":false,"min_username_length":3,"max_username_length":20,"min_password_length":10,"min_admin_password_length":15,"logout_redirect":"","full_name_required":false,"enable_names":true,"invites_per_page":40,"delete_user_max_post_age":60,"delete_all_posts_max":15,"show_email_on_profile":false,"prioritize_username_in_ux":true,"enable_user_directory":true,"allow_anonymous_posting":false,"anonymous_posting_min_trust_level":1,"hide_user_profiles_from_public":false,"enable_group_directory":true,"min_post_length":20,"min_first_post_length":20,"min_private_message_post_length":10,"max_post_length":32000,"topic_featured_link_enabled":true,"min_topic_title_length":15,"max_topic_title_length":255,"min_private_message_title_length":2,"allow_uncategorized_topics":false,"min_title_similar_length":10,"min_body_similar_length":15,"enable_private_messages":true,"edit_history_visible_to_public":false,"delete_removed_posts_after":24,"enable_experimental_markdown_it":false,"traditional_markdown_linebreaks":false,"enable_markdown_typographer":false,"allow_html_tables":false,"suppress_reply_directly_below":true,"suppress_reply_directly_above":true,"max_reply_history":1,"newuser_max_images":1,"newuser_max_attachments":2,"show_pinned_excerpt_mobile":true,"show_pinned_excerpt_desktop":true,"display_name_on_posts":false,"show_time_gap_days":7,"short_progress_text_threshold":10000,"default_code_lang":"auto","autohighlight_all_code":false,"highlighted_languages":"apache|bash|cs|cpp|css|coffeescript|diff|xml|http|ini|json|java|javascript|makefile|markdown|nginx|objectivec|ruby|perl|php|python|sql|handlebars","censored_words":"","censored_pattern":"","enable_emoji":true,"emoji_set":"twitter","code_formatting_style":"4-spaces-indent","allowed_href_schemes":"","email_time_window_mins":10,"disable_digest_emails":false,"email_in":false,"disable_emails":false,"bounce_score_threshold":4,"max_image_size_kb":3072,"max_attachment_size_kb":3072,"authorized_extensions":"jpg|jpeg|png|gif|axo|axp|axs|axh|fpd|brd|axt","max_image_width":690,"max_image_height":500,"prevent_anons_from_downloading_files":false,"enable_s3_uploads":false,"allow_profile_backgrounds":true,"allow_uploaded_avatars":true,"allow_animated_avatars":false,"default_avatars":"","external_system_avatars_enabled":true,"external_system_avatars_url":"/letter_avatar_proxy/v2/letter/{first_letter}/{color}/{size}.png","allow_staff_to_upload_any_file_in_pm":true,"tl1_requires_read_posts":30,"tl3_links_no_follow":false,"use_admin_ip_whitelist":false,"max_oneboxes_per_post":50,"alert_admins_if_errors_per_minute":0,"alert_admins_if_errors_per_hour":0,"max_prints_per_hour_per_user":5,"enable_long_polling":true,"long_polling_base_url":"/","background_polling_interval":60000,"polling_interval":3000,"anon_polling_interval":15000,"flush_timings_secs":20,"verbose_localization":false,"max_new_topics":500,"tos_url":"","privacy_policy_url":"","faq_url":"","maximum_backups":5,"min_search_term_length":3,"version_checks":true,"suppress_uncategorized_badge":true,"topic_views_heat_low":1000,"topic_views_heat_medium":2000,"topic_views_heat_high":5000,"topic_post_like_heat_low":0.5,"topic_post_like_heat_medium":1.0,"topic_post_like_heat_high":2.0,"history_hours_low":12,"history_hours_medium":24,"history_hours_high":48,"cold_age_days_low":14,"cold_age_days_medium":90,"cold_age_days_high":180,"global_notice":"","show_create_topics_notice":true,"bootstrap_mode_min_users":50,"bootstrap_mode_enabled":false,"automatically_unpin_topics":true,"read_time_word_count":500,"disable_mailing_list_mode":false,"default_topics_automatic_unpin":true,"tagging_enabled":true,"tag_style":"simple","max_tags_per_topic":5,"max_tag_length":20,"min_trust_level_to_tag_topics":0,"max_tag_search_results":5,"show_filter_by_tag":true,"tags_sort_alphabetically":false,"staff_tags":"","suppress_overlapping_tags_in_list":false,"discourse_narrative_bot_enabled":true,"poll_enabled":true,"poll_maximum_options":20,"details_enabled":true,"available_locales":"ar|bs_BA|cs|da|de|el|en|es|et|fa_IR|fi|fr|gl|he|id|it|ja|ko|nb_NO|nl|pl_PL|pt|pt_BR|ro|ru|sk|sq|sv|te|tr_TR|uk|ur|vi|zh_CN|zh_TW"});
          ps.store("customHTML", {"top":"","footer":""});
          ps.store("banner", {});
          ps.store("customEmoji", []);
          ps.store("translationOverrides", {});
          ps.store("topic_4311", {"post_stream":{"posts":[{"id":27266,"name":"Ricard Wanderlof","username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","created_at":"2018-03-04T22:02:13.801Z","cooked":"\u003cp\u003eI've uploaded some non-audio objects which I've devised while porting the Axoloti to run on the Audiothingies P6 .\u003c/p\u003e\n\n\u003cp\u003eThe P6 has 6 rotary encoders, which together with 9 push buttons (and 6 push buttons in the encoders) are connected to 74HC165 shift registers using an SPI-like interface (although in the P6 it is bit-banged rather than using an SPI interface in the STM32 chip).\u003c/p\u003e\n\n\u003cp\u003eThere's also a quadrature decoder object for decoding the outputs from the rotary encoders, which takes two inputs and produces an up clock and a down clock, which output clocks depending on which way the encoder is turned. There's also a step output which outputs clocks independent of the direction of rotation.\u003c/p\u003e\n\n\u003cp\u003eObjects:\u003cbr\u003eobjects/ricard/gpio/in/165ctrl v.axo (control object specifying the pins used and number of bits employed (8 per 74HC165 chip), as well as the scanning rate.\u003cbr\u003eobjects/ricard/gpio/in/165in.axo (actual bit input object generating a boolean signal)\u003cbr\u003eobjects/ricard/logic/qdecode.axo (quadrature decoder)\u003c/p\u003e\n\n\u003cp\u003eThe P6 also uses a 74HC595 shift register for controlling 8 of the LEDs on the front panel.\u003c/p\u003e\n\n\u003cp\u003eObjects:\u003cbr\u003eobjects/ricard/gpio/out/595ctrl.axo (control object specifying the pins used and number of bits employed (8 per 74HC595 chip).\u003cbr\u003eobjects/ricard/gpio/out/595out.axo (actual bit output object)\u003c/p\u003e\n\n\u003cp\u003eThe P6 has a 2x24 character LCD, and I've devised a pair of objects for printing to the LCD. The connection is rather rudimentary, utilizing the 4-bit mode of the display, with no status readout, hence a 6 wire interface suffices, with RS, E and 4 data bits D4..D7. The R/W pin is assumed permanently low (i.e. write).\u003c/p\u003e\n\n\u003cp\u003eObjects:\u003cbr\u003eobjects/ricard/disp/lcdctrl.axo (control object specifying the pins used and size of the print queue (number of strings that may be printed at once and which will be printed in order as the display becomes available)\u003cbr\u003eobjects/ircard/disp/lcdprint.axo (output object outputting the string input to the module when the clock input goes high)\u003c/p\u003e\n\n\u003cp\u003eThe strings can contain rudimentary cursor control using control characters, see the object definition for more details.\u003c/p\u003e\n\n\u003cp\u003eFinally a rather trivial object, which converts a vector of bits into a single bit masked output value, with a 9 bit input. I seem to remember there being an 8 bit version among the factory patches but I cannot find it now.\u003c/p\u003e\n\n\u003cp\u003eObject:\u003cbr\u003eobjects/ricard/logic/bitval 9.axo\u003c/p\u003e\n\n\u003cp\u003ePlease note that for the control objects, more pins can be selected than normally on Axoloti modules, simply because I want to be able to run these objects on the P6, where some of the pins used are not available for general use in the Axoloti. So exercise caution when using the modules so you don't select pins which are not actually available.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2018-03-04T22:02:13.801Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"avg_time":37,"incoming_link_count":84,"reads":133,"score":480.45,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"Ricard Wanderlof","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://sebiik.github.io/community.axoloti.com.backup/t/creating-a-menu-system/7181/3","internal":true,"reflection":true,"title":"Creating A Menu System","clicks":0}],"read":true,"user_title":null,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":111,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":27267,"name":"","username":"lokki","avatar_template":"/user_avatar/community.axoloti.com/lokki/{size}/5157_1.png","created_at":"2018-03-04T22:15:19.912Z","cooked":"\u003cp\u003ehi ricard, great work! i have a p6 collecting dust and would be very interested in this. so what is the procedure? how do i \"update\" my p6? how do i upload patches? generally, what works, what not?\u003c/p\u003e\n\n\u003cp\u003echeers\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2018-03-04T22:15:19.912Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"avg_time":12,"incoming_link_count":0,"reads":121,"score":24.8,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":790,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":27269,"name":"Ricard Wanderlof","username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","created_at":"2018-03-04T23:41:44.740Z","cooked":"\u003cp\u003eHi and thanks for your interest!\u003c/p\u003e\n\n\u003cp\u003eFirst, you need a patched version of the Axoloti firmware which adds support for the P6, mainly when it comes to differing clock crystal rates, UART assignment, and the different DAC used in the P6, but also removes support for things like the ADC since the STM32 analog inputs are not used in the P6.\u003c/p\u003e\n\n\u003cp\u003eThe firmware is available in my Github repository, at github.com/polluxsynth/axoloti, on the p6 branch. Basically, you check out that branch (which is just a fork of the official Axoloti firmware), and build just as you would the standard Axoloti firmware.\u003c/p\u003e\n\n\u003cp\u003eTo flash the P6, first start the Axoloti UI as usual, connect it to the P6 using a USB cable, and then set the P6 to DFU boot mode by holding the BOOT button inside the P6 and switching it on. Go into the Board -\u0026gt; Firmware -\u0026gt; Flash (rescue) menu in the Axoloti UI to flash the P6; the progress will be indicated in the main Axoloti log window. (For some reason which I haven't  been able to figure out, upgrading to a newer version must be done in the same way, rather than use Board -\u0026gt; Firmware -\u0026gt; Flash .)\u003c/p\u003e\n\n\u003cp\u003eAfter that, it basically works the same as with the standard Axoloti, taking into consideration the limitations of the P6 hardware. MIDI input and output, also over USB, works directly in the platform, using the corresponding Axoloti objects. The LCD and other user interface elements require the special objects described above to access them. There's no audio input of course, since the P6 has no ADC, and there is no SD card, and no DRAM. So objects which use these elements won't work. Apart from the, there's the same DSP and RAM capacity as on the Axoloti hardware. In particular, the Patch -\u0026gt; Upload to internal flash function works, which is really nice on a box with its own user interface.\u003c/p\u003e\n\n\u003cp\u003eI just uploaded my test patch, patches/ricard/p6/p6test.axp which basically implements a complete P6 UI, with three embedded objects implementing user interface menus, parameter management, and a state machine for menu navigation. There's also an object which implements rudimentary patch storage in the P6 on-board 24C512 EEPROM. Mind you, these are patches in the UI sense of the embedded objects in the patch, not storage of true Axoloti patches. The reason for this is that my end goal was to implement a synth where only a subset parameters are user controllable, in order to make the user interface more managable, as on any pre-configured synth (such as the P6).\u003c/p\u003e\n\n\u003cp\u003eIn order for the UI to have something to control, there's a very rudimentary synth implemented as a subpatch, a far cry from a real P6, basically just something to test the user interface on.\u003c/p\u003e\n\n\u003cp\u003eJust to be clear, neither the p6 branch of the firmware nor the p6test patch can load original P6 patches or anything, I'm just aiming for something with the same look and feel, as I really like the P6 UI approach.\u003c/p\u003e\n\n\u003cp\u003eI haven't done a lot of work on this lately, partly because I'm not fully convinced like things like the LCD and encoder control should be patcher objects, because I feel the Axoloti patcher environment is not ideal for things like state machines and things that are triggered from user buttons, as opposed to DSP code which does something useful all the time, The EEPROM support for instance is implemented partly in the firmware on the p6 branch, and then has a (currently embedded) object for the actual patcher interface, and a similar approach might be more viable for the LCD for instance. At the same time, the current approach means that the objects can be used for other, custom, hardware as well, which is a plus from a community perspective.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2018-03-04T23:44:56.487Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"avg_time":19,"incoming_link_count":3,"reads":118,"score":59.55,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"Ricard Wanderlof","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://sebiik.github.io/community.axoloti.com.backup/t/axoloti-controller-plan-encoders-touch-screen-tft/5092/6","internal":true,"reflection":true,"title":"Axoloti controller plan - encoders, touch screen TFT","clicks":3}],"read":true,"user_title":null,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":111,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":27271,"name":"","username":"lokki","avatar_template":"/user_avatar/community.axoloti.com/lokki/{size}/5157_1.png","created_at":"2018-03-05T06:33:35.152Z","cooked":"\u003cp\u003ethanks, ok will have a go at this sometime i think. time to setup an axoloti build environment.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2018-03-05T06:33:35.152Z","reply_count":0,"reply_to_post_number":3,"quote_count":0,"avg_time":11,"incoming_link_count":1,"reads":91,"score":23.75,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png"},"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":790,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":27316,"name":"Ricard Wanderlof","username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","created_at":"2018-03-05T13:08:20.199Z","cooked":"\u003cp\u003eFortunately, the Axoloti seems to be one of the user friendliest builds I've seen, not that I've seen many though. There's a lot of stuff it does, but it's basically download and go for the most part.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2018-03-05T13:08:20.199Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"avg_time":10,"incoming_link_count":0,"reads":91,"score":23.7,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"Ricard Wanderlof","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":111,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":27382,"name":"","username":"lokki","avatar_template":"/user_avatar/community.axoloti.com/lokki/{size}/5157_1.png","created_at":"2018-03-05T22:41:01.912Z","cooked":"\u003cp\u003ehmm, i don't see your objects or patches anywhere in the contrib section...\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2018-03-05T22:41:01.912Z","reply_count":0,"reply_to_post_number":5,"quote_count":0,"avg_time":10,"incoming_link_count":0,"reads":90,"score":18.5,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png"},"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":790,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":27393,"name":"Ricard Wanderlof","username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","created_at":"2018-03-06T05:38:07.194Z","cooked":"\u003cp\u003eThat's strange. I assume you've pulled from the repository recently, I uploaded them just a couple of days ago. Or else I've made some mistake; I pushed them to the 1.0.12 branch which seems to be the default one. Checked by cloning the axoloti-contrib repository just now and they are there.\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2018-03-06T05:48:44.035Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"avg_time":11,"incoming_link_count":21,"reads":85,"score":127.55,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"Ricard Wanderlof","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":111,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":27394,"name":"","username":"lokki","avatar_template":"/user_avatar/community.axoloti.com/lokki/{size}/5157_1.png","created_at":"2018-03-06T06:43:51.255Z","cooked":"\u003cp\u003eall good, it is there. sorry stupid mistake from my side. somehow syncing libraries got disabled at startup. and since i was so used to that i did not even check...\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2018-03-06T06:43:51.255Z","reply_count":0,"reply_to_post_number":7,"quote_count":0,"avg_time":12,"incoming_link_count":1,"reads":79,"score":21.4,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png"},"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":790,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":28656,"name":"Ricard Wanderlof","username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","created_at":"2018-05-10T21:45:26.592Z","cooked":"\u003cp\u003eI have updated my quadrature decoder object. It now features configurable debouncing, and configurable knob acceleration (output toggles at an accelerated rate when knob is turned faster). The configuration of the object is now is now in a separate configuration object, so the configuration does not have to be repeated when there are several quadrature decoders in the patch.\u003c/p\u003e\n\n\u003cp\u003eI've updated the P6 test patch (p6test.axp) to reflect this, and also added a new P6 patch with a basic single sawtooth oscillator patch, yielding 16 voices of polyphony (it would actually be more, but the Axoloti UI limits polyphony to 16).\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2018-05-10T21:45:26.592Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"avg_time":14,"incoming_link_count":5,"reads":81,"score":41.9,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"Ricard Wanderlof","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":111,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":28807,"name":"Ricard Wanderlof","username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","created_at":"2018-05-20T23:03:43.024Z","cooked":"\u003cp\u003eInspired by \u003ca class=\"mention\" href=\"/u/smashedtransistors\"\u003e@SmashedTransistors\u003c/a\u003e (tiar), I started out with his DP2Saw oscillator, then read this article by Vesa V채lim채ki et al:\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://www.researchgate.net/publication/236616321_Reducing_Aliasing_from_Synthetic_Audio_Signals_Using_Polynomial_Transition_Regions\" class=\"onebox\" target=\"_blank\" rel=\"nofollow noopener\"\u003ehttps://www.researchgate.net/publication/236616321_Reducing_Aliasing_from_Synthetic_Audio_Signals_Using_Polynomial_Transition_Regions\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eon the more optimal PTR algorithm, resulting the following third order PTR sawtooth oscillator:\u003c/p\u003e\n\n\u003cul\u003e\u003cli\u003ericard/osc/PTRSaw.axo\u003c/li\u003e\u003c/ul\u003e\n\n\u003cp\u003e(Note: What SmashedTransistors calls a 'second order DPW' algorithm I believe is actually a third order algorithm, since both the polynomial and differentiation functions match the third-order cases in \u003ca href=\"https://www.researchgate.net/publication/224557976_Alias-Suppressed_Oscillators_Based_on_Differentiated_Polynomial_Waveforms\" rel=\"nofollow noopener\"\u003ehttps://www.researchgate.net/publication/224557976_Alias-Suppressed_Oscillators_Based_on_Differentiated_Polynomial_Waveforms\u003c/a\u003e (again by V채lim채ki and associates).)\u003c/p\u003e\n\n\u003cp\u003eWhat utterly fascinates me is how just making a few changes to the waveform in the sawtooth reset period reduces the aliasing to negligible levels. It becomes very obvious in the PTR algorithm, as the only actual waveform mangling takes place in the reset region, even though the actual output waveform is identical to the DPW algorithm (used in DP2Saw). However, due to the way the computation is performed, numerical precision isn't as important with PTR compared to DPW. Indeed, DP2Saw is quite noisy at lower frequencies which PTRSaw isn't.\u003c/p\u003e\n\n\u003cp\u003eA lot of research papers contain a lot of hairy math and are not immediately suitable for conversion to code, however, the above one is an exception, also providing ideas for a PWM oscilator which I have yet to realize.\u003c/p\u003e\n\n\u003cp\u003eAnother paper which I found immediately useful is this one:\u003c/p\u003e\n\n\u003caside class=\"onebox whitelistedgeneric\"\u003e\n  \u003cheader class=\"source\"\u003e\n    \u003ca href=\"https://www.semanticscholar.org/paper/Improved-Polynomial-Transition-Regions-Algorithm-Ambrits/7d31b9d62daa97980edd0284bdcf70e6c0161ddd\" target=\"_blank\" rel=\"nofollow noopener\"\u003esemanticscholar.org\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003cimg src=\"https://www.semanticscholar.org/img/semantic_scholar_og.jpg\" width=\"695\" height=\"364\" class=\"thumbnail\"\u003e\n\n\u003ch3\u003e\u003ca href=\"https://www.semanticscholar.org/paper/Improved-Polynomial-Transition-Regions-Algorithm-Ambrits/7d31b9d62daa97980edd0284bdcf70e6c0161ddd\" target=\"_blank\" rel=\"nofollow noopener\"\u003eImproved Polynomial Transition Regions Algorithm for Alias-suppressed Signal...\u003c/a\u003e\u003c/h3\u003e\n\n\u003cp\u003eOne of the building blocks of virtual analog synthesizers is the oscillator algorithm producing simple geometric waveforms, such as saw or triangle. An important requirement for such a digital oscillator is that its spectrum is similar to that of the...\u003c/p\u003e\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n\n\n\u003cp\u003e(also available as \u003ca href=\"http://home.mit.bme.hu/~bank/publist/smc13.pdf\" rel=\"nofollow noopener\"\u003ehttp://home.mit.bme.hu/~bank/publist/smc13.pdf\u003c/a\u003e)\u003c/p\u003e\n\n\u003cp\u003eoutlining how to make a triangle wave oscillator with variable symmetry. Sadly, it only covers the second order case, but the level of harmonics in triangle waves is lower than in sawtooth or square waves to start with, so the results seem fairly usable anyway. Indeed, during some quick tests, the level of aliasing in both the third order PTR above and the second order EPTR oscillators below are less than the build-in BLEP based Axoloti oscillators. From the aforementioned paper I've derived the following implementations:\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ericard/osc/EPTRSaw.axo : Second order EPTR sawtooth. Less alias than the Axoloti build in sawtooth, but more than the third order PTR above.\u003c/li\u003e\n\u003cli\u003ericard/osc/EPTRTri.axo :  Second order EPTR triangle oscillator, a rather crude proof-of-concept implementation just as a test of the EPTR algorithm.\u003c/li\u003e\n\u003cli\u003ericard/osc/EPTRAsymTri.axo : Second order EPTR Asymmetric triangle. The waveform generation has been refined, but the symmetry control needs work to be useful, as it is there's much too much action around the zero point of the bipolar control.\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003eAll of these are work-in-progress, especially EPTRSaw and EPTRTri which are really just stopgaps while getting myself familiar with the algorithms. I've just made some quick tests, there might be weird quirks lingering in the code somewhere.\u003c/p\u003e\n\n\u003cp\u003eIndeed, with a combination of methods to make essentially alias free waveforms for both waveforms with discontinuities (e.g. sawtooth and square/pulse waves) as well as with discontinuities in the first derivative (i.e. the waveform is not discontinuous but changes direction, like the triangle wave does), a lot of interesting analog-synth-like waveforms could be constructed from piecewise linear waveform segments, since the PTR/EPTR algorithms only require adjustments of the corresponding trivial waveforms near the transition regions.\u003c/p\u003e\n\n\u003cp\u003eThe advent of intrinsic hardware floating point capability in microcontrollers such as the STM32F4 means that it's much easier to implement efficient algorithms without having to convert everything to fixed point or integer math. This means that purely analytical measures can be used to calculate the exact sample points, in contrast to the practical implementation of algorithms such as BLEP which rely on pre-computed tables with the residual waves, suffering from limited phase resolution, rendering the in principle alias free BLEP algorithm not as alias free as intended.\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2018-05-22T21:55:59.914Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"avg_time":28,"incoming_link_count":9,"reads":77,"score":106.8,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"Ricard Wanderlof","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":4,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://www.researchgate.net/publication/224557976_Alias-Suppressed_Oscillators_Based_on_Differentiated_Polynomial_Waveforms","internal":false,"reflection":false,"title":"ResearchGate","clicks":4},{"url":"https://www.researchgate.net/publication/236616321_Reducing_Aliasing_from_Synthetic_Audio_Signals_Using_Polynomial_Transition_Regions","internal":false,"reflection":false,"title":"ResearchGate","clicks":4},{"url":"https://www.semanticscholar.org/paper/Improved-Polynomial-Transition-Regions-Algorithm-Ambrits/7d31b9d62daa97980edd0284bdcf70e6c0161ddd","internal":false,"reflection":false,"title":"Improved Polynomial Transition Regions Algorithm for Alias-suppressed Signal Synthesis - Semantic Scholar","clicks":3},{"url":"http://home.mit.bme.hu/~bank/publist/smc13.pdf","internal":false,"reflection":false,"clicks":3}],"read":true,"user_title":null,"actions_summary":[{"id":2,"count":3}],"moderator":false,"admin":false,"staff":false,"user_id":111,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":28827,"name":"","username":"SmashedTransistors","avatar_template":"/user_avatar/community.axoloti.com/smashedtransistors/{size}/3147_1.png","created_at":"2018-05-21T20:04:09.694Z","cooked":"\u003cp\u003eI'm still surprised to read that Prof Valimaki invented DPW.\u003c/p\u003e\n\n\u003cp\u003eThis is one of the oldest anti aliasing method !!!\u003c/p\u003e\n\n\u003cp\u003eIntegrals have been used to calculate mean values since they have been invented !\u003cbr\u003eAnti aliasing with them is a basic and direct application.\u003cbr\u003eThe fact that higher order integration can be used to calculate means of means is also as old as Calculus.\u003cbr\u003eThus only Sir Isaac and Herr Gottfried Wilhelm should be allowed to claim for this !\u003c/p\u003e\n\n\u003cp\u003eBack in 1998, I used this trivial method in an exam for my students.\u003cbr\u003eHere is an archived thread triggered by one of my student:\u003cbr\u003e\u003caside class=\"onebox whitelistedgeneric\"\u003e\n  \u003cheader class=\"source\"\u003e\n    \u003ca href=\"https://www.kvraudio.com/forum/viewtopic.php?p=1710116\" target=\"_blank\" rel=\"nofollow noopener\"\u003ekvraudio.com\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003cimg src=\"http://static.kvraudio.com/i/b/kvraudio-300x300-grey-eeeeee.png\" width=\"\" height=\"\" class=\"thumbnail\"\u003e\n\n\u003ch3\u003e\u003ca href=\"https://www.kvraudio.com/forum/viewtopic.php?p=1710116\" target=\"_blank\" rel=\"nofollow noopener\"\u003eKVR Forum: obscure antialiased saw code [Ancient thread bumped; see page 3]...\u003c/a\u003e\u003c/h3\u003e\n\n\u003cp\u003eKVR Audio Forum - obscure antialiased saw code [Ancient thread bumped; see page 3] (Topic in the 'DSP and Plug-in Development' forum)\u003c/p\u003e\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n\u003c/p\u003e\n\n\u003cp\u003ealong with a discussion about state changes and clicks... note the archive date...\u003c/p\u003e\n\n\u003cp\u003eI do not claim anything about DPW, I just want to say that It is one of the oldest aliasing limiting method.\u003c/p\u003e\n\n\u003cp\u003eThe first time i heard about DPW was in an application note for the Motorola DSP 56001 back in 1995.\u003c/p\u003e\n\n\u003cp\u003eThe aliasing scheme of the D-5 D-10 D-50 Linear Arithmetic Synthesizers by Roland (1987) is consistent with DPW.\u003c/p\u003e\n\n\u003cp\u003eThe 2D equivalent of pre integration for anti aliasing is known as \u003ca href=\"https://en.wikipedia.org/wiki/Summed-area_table\"\u003e\"Summed-Area Tables\"\u003c/a\u003e and was invented in 1984.\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eOn the other hand, I don't really get his PTR gibberish.\u003c/p\u003e\n\n\u003cp\u003eInstead of calculating the value of a function at a sampled time,\u003cbr\u003efifferentiation of pre intergrated wave functions work by calculating mean values over the time segment between two samples (thanks to integrals).\u003c/p\u003e\n\n\u003cp\u003eThe application of integrals to hard sync is straight forward: when you have a hard sync event, you split the calculus in two subsample segments instead of one:\u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003ethe segment before the sync \u003c/li\u003e\n\u003cli\u003ethe segment after the sync\u003c/li\u003e\n\u003c/ul\u003e","post_number":11,"post_type":1,"updated_at":"2018-05-21T20:04:09.694Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"avg_time":22,"incoming_link_count":0,"reads":66,"score":14.3,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://www.kvraudio.com/forum/viewtopic.php?p=1710116","internal":false,"reflection":false,"title":"obscure antialiased saw code [Ancient thread bumped; see page 3] (Topic in the 'DSP and Plug-in Development' forum) | KVR Audio Forum","clicks":5},{"url":"https://en.wikipedia.org/wiki/Summed-area_table","internal":false,"reflection":false,"title":"Summed-area table - Wikipedia","clicks":0}],"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":967,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":28829,"name":"Ricard Wanderlof","username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","created_at":"2018-05-21T22:47:10.389Z","cooked":"\u003cp\u003eI don't want to take sides as to who invented DPW either. Despite my engineering background, I'm really a noob when it comes to this type of math. My gut feeling though is that even though integration followed by differentiation itself is old as the hills, the theoretical basis for this when it comes to cyclic waveforms has been sketchy, i.e. the math has to hold not only for the waveform itself but also for the discontinuity that appears as it looped, which is not obvious to me anyway.\u003c/p\u003e\n\n\u003cp\u003eAs I understand it, PTR is not a new algorithm, it's just a mathematical rewrite of DPW, including the realization that the differential of an integrated waveform is identical to the waveform itself, with an offset, except for the transition regions. For the transition regions, instead of actually performing an integration/differentiation operation, the actual resulting sample values can be directly calculated using suitable formulae, the whole point being that over a complete cycle, the amount of CPU time for PTR will be less than DPW. From my point of view, it's appealing that waveforms can be constructed without pre-integration, just a couple of highly specific calculations at the transitions.\u003c/p\u003e\n\n\u003cp\u003eOne advantage of PTR over DPW seems to be that there is less noise with finite resolution at low frequencies, indeed, other DPW implementations I've seen go for doubles to alleviate this.\u003c/p\u003e","post_number":12,"post_type":1,"updated_at":"2018-05-22T21:56:34.465Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"avg_time":21,"incoming_link_count":0,"reads":60,"score":33.05,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"Ricard Wanderlof","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":111,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":28856,"name":"","username":"SmashedTransistors","avatar_template":"/user_avatar/community.axoloti.com/smashedtransistors/{size}/3147_1.png","created_at":"2018-05-22T23:07:47.488Z","cooked":"\u003cp\u003eSorry for polluting this thread with this kind of issues.\u003cbr\u003eI think it is very important to state that these methods are \"good old methods\" and \"state of the art\" to avoid that some people have the idea to patent them.\u003cbr\u003eAs a concrete example, symmetric BLEPs have been patented by Korg in 2005 even if it was used by others before (EdgE algorithm by Canam Computers Quartz Audio, but as it has never been published, I think that Korg's patent is valid). I think that's why many people use asymmetric BLEPs or BLITs.\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eThe differentiation causes issues when the step is small (ie for low frequencies). In this case, anti aliasing is not needed and you need a way to soft switch from DPW to trivial. That's what I do in my DPW distortions and phase modulated oscillator objects.\u003c/p\u003e\n\n\u003cp\u003eExample from distortion DP typeIIA:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode\u003e  if(fabs(dx) \u0026gt; 0.005f){                     //\u0026lt;---- DP if the segment is \n    y0 = 1.5f * x0*x0 / (1 + x0*x0);                 large enough\n    float dy = y1 - y0;                                   /\n    outlet_out[i] = arm::float_to_q(dy / dx, 27);  \u0026lt;-----/\n  } else {\n    float inv = 1/(1 + x0*x0);                                     else\n    y0 = 1.5f * x0*x0 * inv;\n    outlet_out[i] = arm::float_to_q(3*x0*inv*inv , 27);   //\u0026lt;----- direct value\n  }\u003c/code\u003e\u003c/pre\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eThe problem with higher order DPW is that it induces high frequency filtering (as it works as mean values over sample to sample segments).\u003cbr\u003eSo, i think that the best strategy consists in using oversampling combined with the integro diff scheme.\u003c/p\u003e\n\n\u003cp\u003eAs far as i experimented simple precision floats are enough for \u003c/p\u003e\n\n\u003cul\u003e\n\u003cli\u003esecond order (ie two differentiation) for simple oscillators, and \u003c/li\u003e\n\u003cli\u003efirst order (ie one differentiation) for distortions and phase modulated oscillators\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003cp\u003edouble precision can be used for second order (two differentiations) for distortions and PM osc, but it is quite tricky to get the glitchless switching conditions (I got some working in jsfx / Reaper)\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eBLITs (and BLEPs) are generally \"sharp\" in the spectral domain and have Gibbs ondulations in the temporal domain. Thus, they are not good if the signal goes through distortions or saturations that would chop off these ondulations.\u003cbr\u003eDPW do not cause these Gibbs overshoots. So the signal can be post distorted without too much trouble.\u003c/p\u003e\n\n\u003cp\u003eNote that it may be possible to design \"soft\" BLITs (or BLEPs) that will behave quite like DPW.\u003c/p\u003e","post_number":13,"post_type":1,"updated_at":"2018-05-22T23:07:47.488Z","reply_count":1,"reply_to_post_number":12,"quote_count":0,"avg_time":20,"incoming_link_count":0,"reads":60,"score":48.0,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png"},"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":967,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":28858,"name":"Ricard Wanderlof","username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","created_at":"2018-05-23T04:58:06.479Z","cooked":"\u003caside class=\"quote\" data-post=\"13\" data-topic=\"4311\" data-full=\"true\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/smashedtransistors/40/3147_1.png\" class=\"avatar\"\u003eSmashedTransistors:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eSorry for polluting this thread with this kind of issues.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eWell, I suppose this is as good a place as any to discuss the issue.\u003cbr\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003caside class=\"quote\"\u003e\u003cblockquote\u003e\u003cp\u003eI think it is very important to state that these methods are \"good old methods\" and \"state of the art\" to avoid that some people have the idea to patent them.\u003cbr\u003eAs a concrete example, symmetric BLEPs have been patented by Korg in 2005 even if it was used by others before (EdgE algorithm by Canam Computers Quartz Audio, but as it has never been published, I think that Korg's patent is valid). I think that's why many people use asymmetric BLEPs or BLITs.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\u003c/p\u003e\n\n\u003cp\u003eThat's amazing that Korg managed to patent that. I wonder if it's because its tricky to understand the small details of these algorithms and the fact that a lot of stuff is found in research papers rather than patents that it can slip through the patent system (notwithstanding the fact that a lot of patented stuff should never had made it that far).\u003c/p\u003e\n\n\u003cp\u003eI would think though that asymmetric BLEPs (which I'm assuming is not necessarily the same as minBLEPs although the minimum-phase reconstruction of the BLEP does result in a fully causal and asymmetric BLEP) as used in the Axoloti factory oscillators, have the computational advantage that nothing needs to be added before transitions, which otherwise would require some form of waveform lag or lookahead in order to insert the BLEP at the correct point. \u003c/p\u003e\n\n\u003cp\u003e\u003caside class=\"quote\"\u003e\u003cblockquote\u003e\u003cp\u003eThe differentiation causes issues when the step is small (ie for low frequencies). In this case, anti aliasing is not needed and you need a way to soft switch from DPW to trivial. \u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\u003c/p\u003e\n\n\u003cp\u003eYes, I didn't think of that, that would take care of that issue. I still find the PTR algorithm elegant. The whole waveform generation for the PTRSaw oscillator comes out as:\u003c/p\u003e\n\n\u003cpre\u003e\u003ccode\u003ep += dp; p -= (p \u0026gt; 1);\nif (p \u0026lt; dp) { D = p/dp; y = (2 * dp - D) * D + 1; }\nelse if (p \u0026lt; 2*dp) { D = p/dp; y = (D + 2 * dp - 4) * D + 3; }\nelse y = 2*p - 1;\ny -= 2 * dp;\u003c/code\u003e\u003c/pre\u003e\n\n\u003cp\u003e(there's probably still room for optimizations. EDIT: Only calculate D when actually needed.).\u003c/p\u003e\n\n\u003cp\u003e\u003caside class=\"quote\"\u003e\u003cblockquote\u003e\u003cp\u003eDPW do not cause these Gibbs overshoots.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\u003c/p\u003e\n\n\u003cp\u003eThis is something that fascinates me. From what I can tell, the magic lies in moving the phase of the harmonics around causing the ringings to dissolve. There's also a slight spectral droop with DPW from what I understand, but not enough to explain the complete lack of Gibbs ringings. But doesn't the altered relative phase positions have some form of drawback? After all, from a signal processing point of view, we've run a mathematically correct bandlimited oscillator through a filter whose major contribution is that it messes up the phase response.\u003c/p\u003e\n\n\u003cp\u003e\u003caside class=\"quote\"\u003e\u003cblockquote\u003e\u003cp\u003eNote that it may be possible to design \"soft\" BLITs (or BLEPs) that will behave quite like DPW.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\u003c/p\u003e\n\n\u003cp\u003eDo you mean using the minimum-phase reconstructed residual instead of the obvious BLIT or BLEP?\u003c/p\u003e\n\n\u003cp\u003eI may be wrong, but it seems to me that the main problem in a system with limited processing power such as the Axoloti, that it's not possible to generate the BLIT or BLEP in real time, thus it must be added in the form of a waveform, which brings in the additional complexity of how to handle interpolation, for instance by oversampling the BLEP obtaining a polyphase BLEP.  The resulting phase error for the BLEP in a practical implementation limits the antialiasing response, indeed, the Axoloti factory oscillators seem to have a lot more aliasing that the DPW (or PTR) algorithm to my ears. In contrast, DPW and PTR calculate to the available precision the exact sample points.\u003c/p\u003e","post_number":14,"post_type":1,"updated_at":"2018-05-23T06:55:07.826Z","reply_count":0,"reply_to_post_number":13,"quote_count":1,"avg_time":17,"incoming_link_count":0,"reads":59,"score":12.65,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"Ricard Wanderlof","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"SmashedTransistors","avatar_template":"/user_avatar/community.axoloti.com/smashedtransistors/{size}/3147_1.png"},"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":111,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":28859,"name":"","username":"SmashedTransistors","avatar_template":"/user_avatar/community.axoloti.com/smashedtransistors/{size}/3147_1.png","created_at":"2018-05-23T06:15:50.432Z","cooked":"\u003cp\u003eTo me the PTR very looks like a two point BLEP consisting of a parabola.\u003c/p\u003e\n\n\u003chr\u003e\n\n\u003cp\u003eI think that good candidates for smooth band limited impulse can be taken from window functions (as they are designed with the same criterion):\u003cbr\u003e\u003caside class=\"onebox wikipedia\"\u003e\n  \u003cheader class=\"source\"\u003e\n    \u003ca href=\"https://en.wikipedia.org/wiki/Window_function\" target=\"_blank\" rel=\"nofollow noopener\"\u003een.wikipedia.org\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003cimg src=\"//upload.wikimedia.org/wikipedia/commons/thumb/f/f6/Spectral_leakage_from_a_sinusoid_and_rectangular_window.png/480px-Spectral_leakage_from_a_sinusoid_and_rectangular_window.png\" class=\"thumbnail\"\u003e\n\n\u003ch3\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Window_function\" target=\"_blank\" rel=\"nofollow noopener\"\u003eWindow function\u003c/a\u003e\u003c/h3\u003e\n\n\u003cp\u003eIn signal processing, a window function (also known as an apodization function or tapering function) is a mathematical function that is zero-valued outside of some chosen interval. For instance, a function that is constant inside the interval and zero elsewhere is called a rectangular window, which describes the shape of its graphical representation. When another function or waveform/data-sequence is multiplied by a window function, the product is also zero-valued outside the interval: all tha In...\u003c/p\u003e\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n\u003c/p\u003e\n\n\u003cp\u003e(I think that PTR corresponds to a two point welsh window.)\u003c/p\u003e","post_number":15,"post_type":1,"updated_at":"2018-05-23T06:17:17.532Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"avg_time":11,"incoming_link_count":0,"reads":58,"score":17.15,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://en.wikipedia.org/wiki/Window_function","internal":false,"reflection":false,"title":"Window function - Wikipedia","clicks":2}],"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":967,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":28860,"name":"Mr. Grimm","username":"jaffasplaffa","avatar_template":"/user_avatar/community.axoloti.com/jaffasplaffa/{size}/5808_1.png","created_at":"2018-05-23T08:37:22.747Z","cooked":"\u003cp\u003eLoving this debate. All though I dont understand all of it, its interesting. \u003c/p\u003e\n\n\u003cp\u003eThanks guys \u003cimg src=\"//community.axoloti.com/images/emoji/twitter/wink.png?v=5\" title=\":wink:\" class=\"emoji\" alt=\":wink:\"\u003e\u003c/p\u003e","post_number":16,"post_type":1,"updated_at":"2018-05-23T08:37:22.747Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"avg_time":10,"incoming_link_count":1,"reads":56,"score":31.7,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"Mr. Grimm","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":745,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":28874,"name":"Ricard Wanderlof","username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","created_at":"2018-05-23T22:05:08.042Z","cooked":"\u003caside class=\"quote\" data-post=\"15\" data-topic=\"4311\" data-full=\"true\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/smashedtransistors/40/3147_1.png\" class=\"avatar\"\u003eSmashedTransistors:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eTo me the PTR very looks like a two point BLEP consisting of a parabola.\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eFrom what I can tell, it was derived by analyzing how each output sample in the corresponding-order DPW algorithm is related to the input (i.e. trivial waveform) samples. So it is mathematically identical to DPW if I understand correctly.\u003c/p\u003e\n\n\u003cp\u003eI would think that it's not unlikely that there are different ways to arrive at essentially  the same sample values in the transition region, since all algorithms have the same goal of minimizing frequencies beyond half Nyquist.\u003c/p\u003e\n\n\u003cp\u003e\u003caside class=\"quote\"\u003e\u003cblockquote\u003e\u003cp\u003eI think that good candidates for smooth band limited impulse can be taken from window functions (as they are designed with the same criterion). I think that PTR corresponds to a two point welsh window.)\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\u003c/p\u003e\n\n\u003cp\u003eInteresting. Have you or do you know of anyone else has elaborated further on this in the form of a paper or other report?\u003c/p\u003e","post_number":17,"post_type":1,"updated_at":"2018-05-23T22:05:08.042Z","reply_count":1,"reply_to_post_number":15,"quote_count":1,"avg_time":15,"incoming_link_count":0,"reads":56,"score":31.95,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"Ricard Wanderlof","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":111,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":28878,"name":"","username":"SmashedTransistors","avatar_template":"/user_avatar/community.axoloti.com/smashedtransistors/{size}/3147_1.png","created_at":"2018-05-23T23:03:38.203Z","cooked":"\u003caside class=\"quote\" data-post=\"17\" data-topic=\"4311\"\u003e\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"//community.axoloti.com/user_avatar/community.axoloti.com/ricard/40/163_1.png\" class=\"avatar\"\u003ericard:\u003c/div\u003e\n\u003cblockquote\u003e\u003cp\u003eHave you or do you know of anyone else has elaborated further on this in the form of a paper or other report?\u003c/p\u003e\u003c/blockquote\u003e\u003c/aside\u003e\n\n\u003cp\u003eWell... mmm... The BLEP described by Korg in their drawings have no Gibbs overshoot.\u003cbr\u003e\u003ca href=\"https://patents.google.com/patent/US20060145733A1\" class=\"onebox\" target=\"_blank\"\u003ehttps://patents.google.com/patent/US20060145733A1\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eAnyway, it's not an issue to use a smooth symetric BLIT and integrate it.\u003c/p\u003e","post_number":18,"post_type":1,"updated_at":"2018-05-23T23:03:38.203Z","reply_count":1,"reply_to_post_number":17,"quote_count":1,"avg_time":15,"incoming_link_count":0,"reads":55,"score":16.75,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://patents.google.com/patent/US20060145733A1","internal":false,"reflection":false,"title":"US20060145733A1 - Bandlimited digital synthesis of analog waveforms - Google Patents","clicks":1}],"read":true,"user_title":null,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":967,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":28883,"name":"Ricard Wanderlof","username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","created_at":"2018-05-24T04:49:10.407Z","cooked":"\u003cp\u003eI would think it would be very difficult to enforce such a patent. Given an arbitrary bandlimited sawtooth oscillator, I would think it impossible to see in the output waveform how the bandlimiting was actually acheived; one would need to look at the actual algorithm for that.\u003c/p\u003e\n\n\u003cp\u003eAnyway, back to the thread, I've now uploaded the optimized version of the PTR sawtooth oscillator as described a few posts back.\u003c/p\u003e","post_number":19,"post_type":1,"updated_at":"2018-05-24T04:49:10.407Z","reply_count":0,"reply_to_post_number":18,"quote_count":0,"avg_time":20,"incoming_link_count":1,"reads":57,"score":47.4,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"Ricard Wanderlof","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"SmashedTransistors","avatar_template":"/user_avatar/community.axoloti.com/smashedtransistors/{size}/3147_1.png"},"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":111,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false},{"id":28940,"name":"Ricard Wanderlof","username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","created_at":"2018-05-28T04:41:57.954Z","cooked":"\u003cp\u003eFinally got my PWM oscillator working yesterday:\u003c/p\u003e\n\n\u003cul\u003e\u003cli\u003ericard/osc/PTRPulse.axo\u003c/li\u003e\u003c/ul\u003e\n\n\u003cp\u003ePWM input (and PWM parameter) has a range of -64 to +64, from maximally short negative to maximually short positive pulse, to the point that the oscillator actually goes silent at the extremes. With PWM at 0, the output is a square wave.\u003c/p\u003e\n\n\u003cp\u003eThe PTR antialising means that the amplitude drops for small pulse widths at high frequencies. I'm thinking about adding a function to optionally limit the minimum pulse width in a frequency-dependent manner so that this doesn't happen, as at high frequencies the harmonics are not really discernible anyway, so the deviation from the intended pulse width would not be noticeable. On the other hand, an analog PW oscillator tends to behave in a similar manner due to limited slew rates, so perhaps it wouldn't buy much.\u003c/p\u003e","post_number":20,"post_type":1,"updated_at":"2018-05-28T04:49:53.402Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"avg_time":22,"incoming_link_count":0,"reads":55,"score":27.1,"yours":false,"topic_id":4311,"topic_slug":"ricard-contributions","display_username":"Ricard Wanderlof","primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_bg_color":null,"primary_group_flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":111,"hidden":false,"hidden_reason_id":null,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false}],"stream":[27266,27267,27269,27271,27316,27382,27393,27394,28656,28807,28827,28829,28856,28858,28859,28860,28874,28878,28883,28940,29010,29019,29021,29023,34387]},"timeline_lookup":[[1,1801],[6,1800],[9,1734],[10,1724],[11,1723],[13,1722],[17,1721],[20,1717],[21,1713],[22,1712],[25,1353]],"id":4311,"title":"Ricard contributions","fancy_title":"Ricard contributions","posts_count":25,"created_at":"2018-03-04T22:02:13.695Z","views":2613,"reply_count":12,"participant_count":6,"like_count":15,"last_posted_at":"2019-05-27T02:30:42.185Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"ricard-contributions","category_id":13,"word_count":4902,"deleted_at":null,"user_id":111,"pm_with_non_human_user":false,"draft":null,"draft_key":"topic_4311","draft_sequence":null,"unpinned":null,"pinned_globally":false,"pinned":false,"pinned_at":null,"pinned_until":null,"details":{"created_by":{"id":111,"username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png"},"last_poster":{"id":2121,"username":"weasel79","avatar_template":"/user_avatar/community.axoloti.com/weasel79/{size}/6141_1.png"},"participants":[{"id":111,"username":"ricard","avatar_template":"/user_avatar/community.axoloti.com/ricard/{size}/163_1.png","post_count":13,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":790,"username":"lokki","avatar_template":"/user_avatar/community.axoloti.com/lokki/{size}/5157_1.png","post_count":4,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":967,"username":"SmashedTransistors","avatar_template":"/user_avatar/community.axoloti.com/smashedtransistors/{size}/3147_1.png","post_count":4,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":815,"username":"spacelordmother","avatar_template":"/user_avatar/community.axoloti.com/spacelordmother/{size}/6042_1.png","post_count":2,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":2121,"username":"weasel79","avatar_template":"/user_avatar/community.axoloti.com/weasel79/{size}/6141_1.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null},{"id":745,"username":"jaffasplaffa","avatar_template":"/user_avatar/community.axoloti.com/jaffasplaffa/{size}/5808_1.png","post_count":1,"primary_group_name":null,"primary_group_flair_url":null,"primary_group_flair_color":null,"primary_group_flair_bg_color":null}],"suggested_topics":[{"id":7700,"title":"For sale axoloti core + hohum lab case 200","fancy_title":"For sale axoloti core + hohum lab case 200","slug":"for-sale-axoloti-core-hohum-lab-case-200","posts_count":8,"reply_count":1,"highest_post_number":8,"image_url":"/uploads/default/optimized/2X/8/89970d78f88318a356c09a61aa588fe8aef0808b_1_666x500.jpeg","created_at":"2022-04-23T10:45:08.478Z","last_posted_at":"2023-01-24T06:42:58.258Z","bumped":true,"bumped_at":"2023-01-24T06:42:58.258Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":3,"views":422,"category_id":5,"tags":[],"featured_link":null,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1139,"username":"BenFalsetown","avatar_template":"/letter_avatar_proxy/v2/letter/b/7cd45c/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":521,"username":"tekknovator","avatar_template":"/user_avatar/community.axoloti.com/tekknovator/{size}/7986_1.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":2834,"username":"Pixelsorting","avatar_template":"/letter_avatar_proxy/v2/letter/p/85e7bf/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":2870,"username":"jeymadcat","avatar_template":"/letter_avatar_proxy/v2/letter/j/bc8723/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":2919,"username":"peterkohlmetzmoller","avatar_template":"/letter_avatar_proxy/v2/letter/p/54ee81/{size}.png"}}]},{"id":7751,"title":"Axoloti used in a new song","fancy_title":"Axoloti used in a new song","slug":"axoloti-used-in-a-new-song","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-20T16:57:01.243Z","last_posted_at":"2022-07-20T16:57:01.313Z","bumped":true,"bumped_at":"2022-07-20T16:57:01.313Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":1,"views":154,"category_id":9,"tags":[],"featured_link":null,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":2646,"username":"KelvinT","avatar_template":"/letter_avatar_proxy/v2/letter/k/71c47a/{size}.png"}}]},{"id":7827,"title":"Independent volume headphones/audio out","fancy_title":"Independent volume headphones/audio out","slug":"independent-volume-headphones-audio-out","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-10-23T15:04:53.422Z","last_posted_at":"2022-10-24T15:23:47.827Z","bumped":true,"bumped_at":"2022-10-24T15:23:47.827Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":0,"views":93,"category_id":7,"tags":[],"featured_link":null,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":2917,"username":"O.G","avatar_template":"/letter_avatar_proxy/v2/letter/o/ad7895/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":13,"username":"janvantomme","avatar_template":"/user_avatar/community.axoloti.com/janvantomme/{size}/10_1.png"}}]},{"id":7885,"title":"Midi Note Remapping / Midi Through","fancy_title":"Midi Note Remapping / Midi Through","slug":"midi-note-remapping-midi-through","posts_count":8,"reply_count":4,"highest_post_number":8,"image_url":null,"created_at":"2023-01-05T23:10:30.268Z","last_posted_at":"2023-01-07T16:59:19.356Z","bumped":true,"bumped_at":"2023-01-07T16:59:19.356Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":0,"views":63,"category_id":16,"tags":[],"featured_link":null,"posters":[{"extras":null,"description":"Original Poster","user":{"id":337,"username":"Blindsmyth","avatar_template":"/letter_avatar_proxy/v2/letter/b/2acd7d/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":772,"username":"patatos","avatar_template":"/letter_avatar_proxy/v2/letter/p/5f9b8f/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":790,"username":"lokki","avatar_template":"/user_avatar/community.axoloti.com/lokki/{size}/5157_1.png"}}]},{"id":7887,"title":"I think I fried something","fancy_title":"I think I fried something","slug":"i-think-i-fried-something","posts_count":5,"reply_count":2,"highest_post_number":5,"image_url":"/uploads/default/original/2X/b/b8c4a849d53cdb9f86c42c64ab301b6762a2ebc9.png","created_at":"2023-01-07T20:25:43.938Z","last_posted_at":"2023-01-09T18:47:10.707Z","bumped":true,"bumped_at":"2023-01-09T18:47:10.707Z","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"archetype":"regular","like_count":0,"views":80,"category_id":8,"tags":[],"featured_link":null,"posters":[{"extras":null,"description":"Original Poster","user":{"id":103,"username":"kaos","avatar_template":"/user_avatar/community.axoloti.com/kaos/{size}/147_1.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":337,"username":"Blindsmyth","avatar_template":"/letter_avatar_proxy/v2/letter/b/2acd7d/{size}.png"}}]}],"links":[{"url":"https://www.sparkfun.com/products/retired/11733","title":null,"fancy_title":null,"internal":false,"attachment":false,"reflection":false,"clicks":18,"user_id":815,"domain":"www.sparkfun.com"},{"url":"https://www.kvraudio.com/forum/viewtopic.php?p=1710116","title":"obscure antialiased saw code [Ancient thread bumped; see page 3] (Topic in the 'DSP and Plug-in Development' forum) | KVR Audio Forum","fancy_title":null,"internal":false,"attachment":false,"reflection":false,"clicks":5,"user_id":967,"domain":"www.kvraudio.com"},{"url":"https://www.researchgate.net/publication/236616321_Reducing_Aliasing_from_Synthetic_Audio_Signals_Using_Polynomial_Transition_Regions","title":"ResearchGate","fancy_title":null,"internal":false,"attachment":false,"reflection":false,"clicks":4,"user_id":111,"domain":"www.researchgate.net"},{"url":"https://www.researchgate.net/publication/224557976_Alias-Suppressed_Oscillators_Based_on_Differentiated_Polynomial_Waveforms","title":"ResearchGate","fancy_title":null,"internal":false,"attachment":false,"reflection":false,"clicks":4,"user_id":111,"domain":"www.researchgate.net"},{"url":"https://sebiik.github.io/community.axoloti.com.backup/t/axoloti-controller-plan-encoders-touch-screen-tft/5092/6","title":"Axoloti controller plan - encoders, touch screen TFT","fancy_title":null,"internal":true,"attachment":false,"reflection":true,"clicks":3,"user_id":111,"domain":"community.axoloti.com"},{"url":"http://home.mit.bme.hu/~bank/publist/smc13.pdf","title":null,"fancy_title":null,"internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":111,"domain":"home.mit.bme.hu"},{"url":"https://www.semanticscholar.org/paper/Improved-Polynomial-Transition-Regions-Algorithm-Ambrits/7d31b9d62daa97980edd0284bdcf70e6c0161ddd","title":"Improved Polynomial Transition Regions Algorithm for Alias-suppressed Signal Synthesis - Semantic Scholar","fancy_title":null,"internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":111,"domain":"www.semanticscholar.org"},{"url":"https://en.wikipedia.org/wiki/Window_function","title":"Window function - Wikipedia","fancy_title":null,"internal":false,"attachment":false,"reflection":false,"clicks":2,"user_id":967,"domain":"en.wikipedia.org"},{"url":"https://patents.google.com/patent/US20060145733A1","title":"US20060145733A1 - Bandlimited digital synthesis of analog waveforms - Google Patents","fancy_title":null,"internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":967,"domain":"patents.google.com"},{"url":"https://en.wikipedia.org/wiki/Summed-area_table","title":"Summed-area table - Wikipedia","fancy_title":null,"internal":false,"attachment":false,"reflection":false,"clicks":0,"user_id":967,"domain":"en.wikipedia.org"},{"url":"https://sebiik.github.io/community.axoloti.com.backup/t/creating-a-menu-system/7181/3","title":"Creating A Menu System","fancy_title":null,"internal":true,"attachment":false,"reflection":true,"clicks":0,"user_id":111,"domain":"community.axoloti.com"},{"url":"//community.axoloti.com/uploads/default/original/2X/e/eef70c0b1d08b4f8a113f0387fa9b115f9edf9ba.JPG","title":null,"fancy_title":null,"internal":true,"attachment":true,"reflection":false,"clicks":0,"user_id":815,"domain":"community.axoloti.com"}],"notification_level":1,"can_flag_topic":false},"highest_post_number":25,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":null,"tags":[],"featured_link":null,"topic_timer":null,"message_bus_last_id":112});
      })();
      </script>

    

    <script>
  Ember.RSVP.configure('onerror', function(e) {
    // Ignore TransitionAborted exceptions that bubble up
    if (e && e.message === "TransitionAborted") { return; }

    window.onerror(e && e.message, null,null,null,e);
  });
</script>

<script>

  (function() {
    var ps = require('preload-store').default;

    Discourse.CDN = '';
    Discourse.BaseUrl = 'community.axoloti.com'.replace(/:[\d]*$/,"");
    Discourse.BaseUri = '';
    Discourse.Environment = 'production';
    Discourse.SiteSettings = ps.get('siteSettings');
    Discourse.LetterAvatarVersion = '5_9b142ce9460b8c6b265fd9abf598d3fd';
    I18n.defaultLocale = 'en';
    Discourse.start();
    Discourse.set('assetVersion','d1ec72c862674d2eea0eb8ef6fc5934f');
    Discourse.Session.currentProp("disableCustomCSS", false);
    Discourse.HighlightJSPath = "/highlight-js/community.axoloti.com/100444ceef8ca161334f64d3ce49fe7a1556f943.js";
  })();
</script>

<link rel='preload' href='/assets/browser-update-f57286e74ddbc53aa899689b01ef467078911e4138050c561939955849af35dd.js' as='script'/>
<script src='/assets/browser-update-f57286e74ddbc53aa899689b01ef467078911e4138050c561939955849af35dd.js'></script>


    

      
    
  </body>
</html>
