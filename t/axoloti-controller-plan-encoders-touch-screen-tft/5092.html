<!DOCTYPE html>
<html lang="en">
  
<!-- Mirrored from community.axoloti.com/t/axoloti-controller-plan-encoders-touch-screen-tft/5092 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:03:47 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Axoloti controller plan - encoders, touch screen TFT - Hardware - Axoloti Community</title>
    <meta name="description" content="Hello, I&amp;#39;m working on a simple controller to go in an enclosure with the Axoloti. It&amp;#39;s four rotary encoders with a touch screen TFT display used to show labels and values for each. The idea is that it can be flexible eno&amp;hellip;">
    <meta name="author" content="">
<meta name="generator" content="Discourse 1.9.0.beta3 - https://github.com/discourse/discourse version 13f3de4bf673802eb8ec595d36587b4524773209">
<link rel="icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<link rel="icon" sizes="144x144" href="../../uploads/default/original/1X/ffed196003990f0e5c2a0f8227fc977345cd68be.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<link rel="canonical" href="5092.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"http://community.axoloti.com","potentialAction":{"@type":"SearchAction","target":"http://community.axoloti.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Axoloti Community Search">

        <link href="../../stylesheets/desktop_d93a33ca8617326fe353f80e6ab865188244d48c8e0b.css?__ws=community.axoloti.com" media="all" rel="stylesheet" data-target="desktop"/>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56017691-4', {"cookieDomain":"auto"});
</script>

      <link rel="alternate" type="application/rss+xml" title="RSS feed of &#39;Axoloti controller plan - encoders, touch screen TFT&#39;" href="5092.rss" />
  <meta property="og:site_name" content="Axoloti Community" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="http://community.axoloti.com/uploads/default/original/2X/2/220d19da9d5f388bd8b4e18768a0ff6c3853a92f.JPG" />
<meta property="og:image" content="http://community.axoloti.com/uploads/default/original/2X/2/220d19da9d5f388bd8b4e18768a0ff6c3853a92f.JPG" />
<meta property="og:url" content="http://community.axoloti.com/t/axoloti-controller-plan-encoders-touch-screen-tft/5092" />
<meta name="twitter:url" content="http://community.axoloti.com/t/axoloti-controller-plan-encoders-touch-screen-tft/5092" />
<meta property="og:title" content="Axoloti controller plan - encoders, touch screen TFT" />
<meta name="twitter:title" content="Axoloti controller plan - encoders, touch screen TFT" />
<meta property="og:description" content="Hello, I&#39;m working on a simple controller to go in an enclosure with the Axoloti. It&#39;s four rotary encoders with a touch screen TFT display used to show labels and values for each. The idea is that it can be flexible enough to use the Axoloti as a multi fx unit or a synth with controls - looking something like the the NSynth Super.   [image]   I&#39;ve got it working with one encoder connected to a NodeMCU, which is connected to a Nextion 4.3&quot; (which makes GUI handling very easy). The NodeMCU is pas..." />
<meta name="twitter:description" content="Hello, I&#39;m working on a simple controller to go in an enclosure with the Axoloti. It&#39;s four rotary encoders with a touch screen TFT display used to show labels and values for each. The idea is that it can be flexible enough to use the Axoloti as a multi fx unit or a synth with controls - looking something like the the NSynth Super.   [image]   I&#39;ve got it working with one encoder connected to a NodeMCU, which is connected to a Nextion 4.3&quot; (which makes GUI handling very easy). The NodeMCU is pas..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="3 â¤" />


  </head>
  <body class="crawler">
    
    <header>
      <a href="../../index.html"><img src="../../uploads/default/original/1X/b22e6e9ef608f1e17a1de19b733d043beff77f05.png" alt="Axoloti Community" id="site-logo" style="max-width: 150px;"></a>
    </header>
    <div id="main-outlet" class="wrap">
      <h1>
  <a href="5092.html">Axoloti controller plan - encoders, touch screen TFT</a>
</h1>

<div id='breadcrumbs'>
    <div id="breadcrumb-0" itemscope itemtype="http://data-vocabulary.org/Breadcrumb"
>
      <a href="../../c/hardware.html" itemprop="url">
        <span itemprop="title">Hardware</span>
      </a>
    </div>
</div>





<hr>


  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/UHF.html'><b itemprop='author'>UHF</b></a>
           
           <time datetime='2018-10-26T16:07:48Z' itemprop='datePublished'>
             2018-10-26 16:07:48 UTC
           </time>
        </span>
        <span itemprop='position'>#1</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello, I'm working on a simple controller to go in an enclosure with the Axoloti. It's four rotary encoders with a touch screen TFT display used to show labels and values for each. The idea is that it can be flexible enough to use the Axoloti as a multi fx unit or a synth with controls - looking something like the the NSynth Super.</p>

<p><img src="../../uploads/default/original/2X/2/220d19da9d5f388bd8b4e18768a0ff6c3853a92f.jpg" width="302" height="292"></p>

<p>I've got it working with one encoder connected to a NodeMCU, which is connected to a Nextion 4.3" (which makes GUI handling very easy). The NodeMCU is passing MIDI to the Axoloti MIDI In port and the Nextion can show the current 0-127 value from the encoder. This is all programmed using Arduino IDE and the Nextion requires it's pages designed with it's editor program.</p>

<p><div class="lightbox-wrapper"><a data-download-href="//community.axoloti.com/uploads/default/b76635d9f5d26a3ef1cb7bae7753a883ec971af7" href="../../uploads/default/original/2X/b/b76635d9f5d26a3ef1cb7bae7753a883ec971af7.jpg" class="lightbox" title="Capture.JPG"><img src="../../uploads/default/optimized/2X/b/b76635d9f5d26a3ef1cb7bae7753a883ec971af7_1_466x500.jpg" width="466" height="500"><div class="meta">
<span class="filename">Capture.JPG</span><span class="informations">576x618 29.7 KB</span><span class="expand"></span>
</div></a></div><br>I'm hoping to use the encoder switch to select other parameters and send MIDI CCs for each one as they're changed. The touch screen can do something too. Each encoder needs three GPIOs, the Nextion needs UART TX/RX and MIDI IN and OUT to the Axoloti. I'll need a multiplexer for the encoders. <br>Does all this sound like a good plan? The Axoloti doesn't handle anything other than sound. I also need to send MIDI from the Axoloti to the NodeMCU (or whatever I finally use) to configure the current state of the values of the CCs it's meant to control - using SysEx? Also I need to program three things when changes are made (Axo, NodeMCU, Nextion.) Any suggestions are welcome.</p>

<p>Thanks, Simon.</p>

<p><strong>UPDATED see below</strong></p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:2'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Axoloti controller plan - encoders, touch screen TFT'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/SmashedTransistors.html'><b itemprop='author'>SmashedTransistors</b></a>
           
           <time datetime='2018-10-26T16:21:00Z' itemprop='datePublished'>
             2018-10-26 16:21:00 UTC
           </time>
        </span>
        <span itemprop='position'>#2</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I plan to make something quite similar with an arduino due equiped with a touch screen. I think that we should establish a sort of midi protocol to exchange data between the Axoloti and the pa5ch/preset controller. <br>The Axoloti should transmit what parameters are editable, what are their names and so on. The preset/patch would be used to manage and program preset banks. It can be also used to show some parameter changez in realntime ( lfos, enveloppes, modulations...)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:1'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Axoloti controller plan - encoders, touch screen TFT'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/UHF.html'><b itemprop='author'>UHF</b></a>
           
           <time datetime='2018-10-27T12:54:22Z' itemprop='datePublished'>
             2018-10-27 12:54:22 UTC
           </time>
        </span>
        <span itemprop='position'>#3</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>A dump of CC numbers with their values would be all I would need, with some MIDI message to instigate Axoloti to do this (I am totally new to the Axoloti, by the way!) <br>Considering the encoders, I feel a multiplexer will probably miss the encoder steps. Then I remembered these <a href="https://www.tindie.com/products/Saimon/i2c-encoder-v2/" rel="nofollow noopener">I2C encoders</a>... more expense, but they are ideal.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Axoloti controller plan - encoders, touch screen TFT'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/ricard.html'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2018-11-07T05:51:15Z' itemprop='datePublished'>
             2018-11-07 05:51:15 UTC
           </time>
        </span>
        <span itemprop='position'>#4</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I believe it is the Arturia Beatstep which has a mode where it sends the value 1 every time an encoder is turned one notch to the right, and the value 127 (or -1 interpreted as 7 bit signed) every time an encoder is turned on notch to the left. That way, the controller doesn't have to know the value of the parameter before a knob is turned. The Axoloti could then add the incoming CC value to the relevant parameter value and respond with the real parameter value which could then be displayed. That would make for a fairly simple protocol.</p>

<p>Hm, there would be a startup problem here I suppose - the controller wouldn't know which values to display initially. Of course, it could send a CC value of 0 causing the Axoloti to respond with the actual parameter value without changing it.</p>

<p>I have one comment on the proposed knob layout above: the Ambika has a similar layout with knobs both above and below the screen, and although it allows more knobs that way, I find it very irritating that my hand is blocking my view when I'm adjusting the knobs in the top row.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Axoloti controller plan - encoders, touch screen TFT'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/UHF.html'><b itemprop='author'>UHF</b></a>
           
           <time datetime='2018-11-08T02:11:37Z' itemprop='datePublished'>
             2018-11-08 02:11:37 UTC
           </time>
        </span>
        <span itemprop='position'>#5</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello Ricard. I posted something the other day on a thread discussing how to get Axoloti to respond to relative encoder increment/decrement signals from Arturia encoders used this way: <a href="../how-to-implement-midi-relative-controllers/3915/6.html">http://community.axoloti.com/t/how-to-implement-midi-relative-controllers/3915/6</a><br> Everything is hard wired though. Ideally when you assign a CC to adjust a parameter in the patcher application, Axoloti could allow you to choose relative or absolute values from encoders. Since it doesn't, I'm looking for a way for Axoloti to send details of what the parameter value is for a particular CC, to my controller over MIDI. I know little about the workings of the firmware or writing objects and want just to approach this as sending and receiving MIDI. I don't think the support is there to do this though.</p>

<p>The knob layout has been chosen because the Nextion screen has pcb at the sides but none at the top and bottom, making the encoders too far from the screen and the overall enclosure wider. Ideally I would love to design a pcb and use a TFT screen run directly from a MCU, but that's for another time!</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Axoloti controller plan - encoders, touch screen TFT'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/ricard.html'><b itemprop='author'>ricard</b></a>
           
           <time datetime='2018-11-08T05:34:41Z' itemprop='datePublished'>
             2018-11-08 05:34:41 UTC
           </time>
        </span>
        <span itemprop='position'>#6</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>True, the Axoloti doesn't support relative parameters in its firmware. Shouldn't be too hard to implement but requires some knowledge of the internal workings. I believe it can be done in an object since there are objects that reference the internal parameter structures.</p>

<p>I've implemented a patch that can handle rotary encoders connected to Axoloti I/O pins and use them to modify parameters, see this thread <a href="../ricard-contributions/4311/3.html">http://community.axoloti.com/t/ricard-contributions/4311/3</a> . It shouldn't be hard to modify to read CC values rather than encoders directly. (In my case I'm running the Axoloti firmware on an Audiothingies P6, where there is encoder and display hardware, which requires modifications to the Axoloti firmware, but the firmware changes are just there to support the different hardware configuration; all the encoder stuff happens in the patch itself.)</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Axoloti controller plan - encoders, touch screen TFT'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/UHF.html'><b itemprop='author'>UHF</b></a>
           
           <time datetime='2019-01-13T02:08:46Z' itemprop='datePublished'>
             2019-01-13 02:08:46 UTC
           </time>
        </span>
        <span itemprop='position'>#7</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>Hello, a small update (if anyone's mildly interested). I bought four I2C Encoders from <a href="https://www.tindie.com/products/Saimon/i2cencoder-v2-connect-multiple-encoder-on-i2c-bus/" rel="nofollow noopener">Duppa on Tindie</a>. They weren't great value with the shipping at $32 in total for the basic boards, but having just five wires and the flexibility to daisy-chain more is great however. The code is much simpler with the supplied Arduino library. There's an interrupt and with some decent coding, you just add another encoder object to an array when you add more. They're still connected to the ESP8266.</p>

<p>So I've got lots of MCUs instead of just one now! I'm still considering whether to use the Nextion or switch to I2C OLEDs and how to get parameter data from the Axoloti to the ESP8266. It would be easier with everything connected to the Axoloti of course.</p>
      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:1'>
      <meta itemprop='headline' content='Axoloti controller plan - encoders, touch screen TFT'>
      <hr>
  </div>
  <div itemscope itemtype='http://schema.org/DiscussionForumPosting'>
      <div class='creator'>
        <span>
          <a href='../../u/deadsy.html'><b itemprop='author'>deadsy</b></a>
           
           <time datetime='2019-01-22T23:18:02Z' itemprop='datePublished'>
             2019-01-22 23:18:02 UTC
           </time>
        </span>
        <span itemprop='position'>#8</span>
      </div>
      <div class='post' itemprop='articleBody'>
        <p>I bought some of those rotary encoders as well. It's best described as a rotary encoder with an (optional) RGB knob that offloads the rotary encoder counting onto a PIC chip on the board and provides an i2c interface. There were some left over IO pins on the PIC so as a bonus the designer made them available for general use (gpio, pwm).</p>

<p>Writing an axo driver for it is on my TODO list.</p>

<p>It should be possible to daisy chain N of them together on the single axo i2c bus.</p>

<p>It would be nice if the axo supported i2c device interrupts. That way you wouldn't have to waste time polling the devices when there is no update- but so far as I can tell the default chibios configuration is not set up for this.</p>

<aside class="onebox whitelistedgeneric">
  <header class="source">
    <a href="https://github.com/Fattoresaimon/I2CEncoderV2" target="_blank" rel="nofollow noopener">github.com</a>
  </header>
  <article class="onebox-body">
    <img src="https://avatars0.githubusercontent.com/u/15685228?s=400&amp;v=4" width="" height="" class="thumbnail">

<h3><a href="https://github.com/Fattoresaimon/I2CEncoderV2" target="_blank" rel="nofollow noopener">Fattoresaimon/I2CEncoderV2</a></h3>

<p>Contribute to Fattoresaimon/I2CEncoderV2 development by creating an account on GitHub.</p>

  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

      </div>
      <meta itemprop='interactionCount' content='UserLikes:0'>
      <meta itemprop='interactionCount' content='UserComments:0'>
      <meta itemprop='headline' content='Axoloti controller plan - encoders, touch screen TFT'>
      <hr>
  </div>






    </div>
    <footer class="container">
      <nav itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <a href='../../index.html'>Home</a>
        <a href="../../categories.html">Categories</a>
        <a href="../../guidelines.html">FAQ/Guidelines</a>
        <a href="../../tos.html">Terms of Service</a>
        <a href="../../privacy.html">Privacy Policy</a>
      </nav>
      <p>Powered by <a href="https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
    </footer>
    
    
  </body>
  

<!-- Mirrored from community.axoloti.com/t/axoloti-controller-plan-encoders-touch-screen-tft/5092 by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 10 Jul 2023 16:03:47 GMT -->
</html>
